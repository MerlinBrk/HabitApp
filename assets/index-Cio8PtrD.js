var v0=Object.defineProperty;var b0=(i,a,r)=>a in i?v0(i,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[a]=r;var rd=(i,a,r)=>b0(i,typeof a!="symbol"?a+"":a,r);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=r(o);fetch(o.href,f)}})();var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function x0(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var a=i.default;if(typeof a=="function"){var r=function s(){return this instanceof s?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var o=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return i[s]}})}),r}var id={exports:{}},oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function _0(){if(Gg)return oo;Gg=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:i,type:s,key:m,ref:o!==void 0?o:null,props:f}}return oo.Fragment=a,oo.jsx=r,oo.jsxs=r,oo}var Vg;function S0(){return Vg||(Vg=1,id.exports=_0()),id.exports}var b=S0(),sd={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function E0(){if(Ig)return Qe;Ig=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),O=Symbol.iterator;function T(A){return A===null||typeof A!="object"?null:(A=O&&A[O]||A["@@iterator"],typeof A=="function"?A:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,V={};function W(A,ae,ye){this.props=A,this.context=ae,this.refs=V,this.updater=ye||U}W.prototype.isReactComponent={},W.prototype.setState=function(A,ae){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,ae,"setState")},W.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Z(){}Z.prototype=W.prototype;function se(A,ae,ye){this.props=A,this.context=ae,this.refs=V,this.updater=ye||U}var ce=se.prototype=new Z;ce.constructor=se,C(ce,W.prototype),ce.isPureReactComponent=!0;var pe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function Ne(A,ae,ye,he,ke,He){return ye=He.ref,{$$typeof:i,type:A,key:ae,ref:ye!==void 0?ye:null,props:He}}function We(A,ae){return Ne(A.type,ae,void 0,void 0,void 0,A.props)}function Le(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function Ue(A){var ae={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ye){return ae[ye]})}var Ce=/\/+/g;function tt(A,ae){return typeof A=="object"&&A!==null&&A.key!=null?Ue(""+A.key):ae.toString(36)}function Ct(){}function ge(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Ct,Ct):(A.status="pending",A.then(function(ae){A.status==="pending"&&(A.status="fulfilled",A.value=ae)},function(ae){A.status==="pending"&&(A.status="rejected",A.reason=ae)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function me(A,ae,ye,he,ke){var He=typeof A;(He==="undefined"||He==="boolean")&&(A=null);var ze=!1;if(A===null)ze=!0;else switch(He){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(A.$$typeof){case i:case a:ze=!0;break;case S:return ze=A._init,me(ze(A._payload),ae,ye,he,ke)}}if(ze)return ke=ke(A),ze=he===""?"."+tt(A,0):he,pe(ke)?(ye="",ze!=null&&(ye=ze.replace(Ce,"$&/")+"/"),me(ke,ae,ye,"",function(Te){return Te})):ke!=null&&(Le(ke)&&(ke=We(ke,ye+(ke.key==null||A&&A.key===ke.key?"":(""+ke.key).replace(Ce,"$&/")+"/")+ze)),ae.push(ke)),1;ze=0;var wt=he===""?".":he+":";if(pe(A))for(var ot=0;ot<A.length;ot++)he=A[ot],He=wt+tt(he,ot),ze+=me(he,ae,ye,He,ke);else if(ot=T(A),typeof ot=="function")for(A=ot.call(A),ot=0;!(he=A.next()).done;)he=he.value,He=wt+tt(he,ot++),ze+=me(he,ae,ye,He,ke);else if(He==="object"){if(typeof A.then=="function")return me(ge(A),ae,ye,he,ke);throw ae=String(A),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ze}function L(A,ae,ye){if(A==null)return A;var he=[],ke=0;return me(A,he,"","",function(He){return ae.call(ye,He,ke++)}),he}function re(A){if(A._status===-1){var ae=A._result;ae=ae(),ae.then(function(ye){(A._status===0||A._status===-1)&&(A._status=1,A._result=ye)},function(ye){(A._status===0||A._status===-1)&&(A._status=2,A._result=ye)}),A._status===-1&&(A._status=0,A._result=ae)}if(A._status===1)return A._result.default;throw A._result}var ie=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function je(){}return Qe.Children={map:L,forEach:function(A,ae,ye){L(A,function(){ae.apply(this,arguments)},ye)},count:function(A){var ae=0;return L(A,function(){ae++}),ae},toArray:function(A){return L(A,function(ae){return ae})||[]},only:function(A){if(!Le(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Qe.Component=W,Qe.Fragment=r,Qe.Profiler=o,Qe.PureComponent=se,Qe.StrictMode=s,Qe.Suspense=y,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return ue.H.useMemoCache(A)}},Qe.cache=function(A){return function(){return A.apply(null,arguments)}},Qe.cloneElement=function(A,ae,ye){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var he=C({},A.props),ke=A.key,He=void 0;if(ae!=null)for(ze in ae.ref!==void 0&&(He=void 0),ae.key!==void 0&&(ke=""+ae.key),ae)!_e.call(ae,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&ae.ref===void 0||(he[ze]=ae[ze]);var ze=arguments.length-2;if(ze===1)he.children=ye;else if(1<ze){for(var wt=Array(ze),ot=0;ot<ze;ot++)wt[ot]=arguments[ot+2];he.children=wt}return Ne(A.type,ke,void 0,void 0,He,he)},Qe.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:f,_context:A},A},Qe.createElement=function(A,ae,ye){var he,ke={},He=null;if(ae!=null)for(he in ae.key!==void 0&&(He=""+ae.key),ae)_e.call(ae,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ke[he]=ae[he]);var ze=arguments.length-2;if(ze===1)ke.children=ye;else if(1<ze){for(var wt=Array(ze),ot=0;ot<ze;ot++)wt[ot]=arguments[ot+2];ke.children=wt}if(A&&A.defaultProps)for(he in ze=A.defaultProps,ze)ke[he]===void 0&&(ke[he]=ze[he]);return Ne(A,He,void 0,void 0,null,ke)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(A){return{$$typeof:p,render:A}},Qe.isValidElement=Le,Qe.lazy=function(A){return{$$typeof:S,_payload:{_status:-1,_result:A},_init:re}},Qe.memo=function(A,ae){return{$$typeof:v,type:A,compare:ae===void 0?null:ae}},Qe.startTransition=function(A){var ae=ue.T,ye={};ue.T=ye;try{var he=A(),ke=ue.S;ke!==null&&ke(ye,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(je,ie)}catch(He){ie(He)}finally{ue.T=ae}},Qe.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Qe.use=function(A){return ue.H.use(A)},Qe.useActionState=function(A,ae,ye){return ue.H.useActionState(A,ae,ye)},Qe.useCallback=function(A,ae){return ue.H.useCallback(A,ae)},Qe.useContext=function(A){return ue.H.useContext(A)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(A,ae){return ue.H.useDeferredValue(A,ae)},Qe.useEffect=function(A,ae,ye){var he=ue.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(A,ae)},Qe.useId=function(){return ue.H.useId()},Qe.useImperativeHandle=function(A,ae,ye){return ue.H.useImperativeHandle(A,ae,ye)},Qe.useInsertionEffect=function(A,ae){return ue.H.useInsertionEffect(A,ae)},Qe.useLayoutEffect=function(A,ae){return ue.H.useLayoutEffect(A,ae)},Qe.useMemo=function(A,ae){return ue.H.useMemo(A,ae)},Qe.useOptimistic=function(A,ae){return ue.H.useOptimistic(A,ae)},Qe.useReducer=function(A,ae,ye){return ue.H.useReducer(A,ae,ye)},Qe.useRef=function(A){return ue.H.useRef(A)},Qe.useState=function(A){return ue.H.useState(A)},Qe.useSyncExternalStore=function(A,ae,ye){return ue.H.useSyncExternalStore(A,ae,ye)},Qe.useTransition=function(){return ue.H.useTransition()},Qe.version="19.1.0",Qe}var Qg;function qd(){return Qg||(Qg=1,sd.exports=E0()),sd.exports}var R=qd();const Wt=jo(R);var ld={exports:{}},uo={},od={exports:{}},ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function j0(){return Xg||(Xg=1,function(i){function a(L,re){var ie=L.length;L.push(re);e:for(;0<ie;){var je=ie-1>>>1,A=L[je];if(0<o(A,re))L[je]=re,L[ie]=A,ie=je;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var re=L[0],ie=L.pop();if(ie!==re){L[0]=ie;e:for(var je=0,A=L.length,ae=A>>>1;je<ae;){var ye=2*(je+1)-1,he=L[ye],ke=ye+1,He=L[ke];if(0>o(he,ie))ke<A&&0>o(He,he)?(L[je]=He,L[ke]=ie,je=ke):(L[je]=he,L[ye]=ie,je=ye);else if(ke<A&&0>o(He,ie))L[je]=He,L[ke]=ie,je=ke;else break e}}return re}function o(L,re){var ie=L.sortIndex-re.sortIndex;return ie!==0?ie:L.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var y=[],v=[],S=1,O=null,T=3,U=!1,C=!1,V=!1,W=!1,Z=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function pe(L){for(var re=r(v);re!==null;){if(re.callback===null)s(v);else if(re.startTime<=L)s(v),re.sortIndex=re.expirationTime,a(y,re);else break;re=r(v)}}function ue(L){if(V=!1,pe(L),!C)if(r(y)!==null)C=!0,_e||(_e=!0,tt());else{var re=r(v);re!==null&&me(ue,re.startTime-L)}}var _e=!1,Ne=-1,We=5,Le=-1;function Ue(){return W?!0:!(i.unstable_now()-Le<We)}function Ce(){if(W=!1,_e){var L=i.unstable_now();Le=L;var re=!0;try{e:{C=!1,V&&(V=!1,se(Ne),Ne=-1),U=!0;var ie=T;try{t:{for(pe(L),O=r(y);O!==null&&!(O.expirationTime>L&&Ue());){var je=O.callback;if(typeof je=="function"){O.callback=null,T=O.priorityLevel;var A=je(O.expirationTime<=L);if(L=i.unstable_now(),typeof A=="function"){O.callback=A,pe(L),re=!0;break t}O===r(y)&&s(y),pe(L)}else s(y);O=r(y)}if(O!==null)re=!0;else{var ae=r(v);ae!==null&&me(ue,ae.startTime-L),re=!1}}break e}finally{O=null,T=ie,U=!1}re=void 0}}finally{re?tt():_e=!1}}}var tt;if(typeof ce=="function")tt=function(){ce(Ce)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,ge=Ct.port2;Ct.port1.onmessage=Ce,tt=function(){ge.postMessage(null)}}else tt=function(){Z(Ce,0)};function me(L,re){Ne=Z(function(){L(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):We=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(L){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var ie=T;T=re;try{return L()}finally{T=ie}},i.unstable_requestPaint=function(){W=!0},i.unstable_runWithPriority=function(L,re){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=T;T=L;try{return re()}finally{T=ie}},i.unstable_scheduleCallback=function(L,re,ie){var je=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?je+ie:je):ie=je,L){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ie+A,L={id:S++,callback:re,priorityLevel:L,startTime:ie,expirationTime:A,sortIndex:-1},ie>je?(L.sortIndex=ie,a(v,L),r(y)===null&&L===r(v)&&(V?(se(Ne),Ne=-1):V=!0,me(ue,ie-je))):(L.sortIndex=A,a(y,L),C||U||(C=!0,_e||(_e=!0,tt()))),L},i.unstable_shouldYield=Ue,i.unstable_wrapCallback=function(L){var re=T;return function(){var ie=T;T=re;try{return L.apply(this,arguments)}finally{T=ie}}}}(ud)),ud}var Wg;function O0(){return Wg||(Wg=1,od.exports=j0()),od.exports}var cd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function k0(){if(Fg)return pn;Fg=1;var i=qd();function a(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(y,v,S){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:y,containerInfo:v,implementation:S}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(y,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return f(y,v,null,S)},pn.flushSync=function(y){var v=m.T,S=s.p;try{if(m.T=null,s.p=2,y)return y()}finally{m.T=v,s.p=S,s.d.f()}},pn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},pn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},pn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var S=v.as,O=p(S,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,U=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:O,integrity:T,fetchPriority:U}):S==="script"&&s.d.X(y,{crossOrigin:O,integrity:T,fetchPriority:U,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},pn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},pn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,O=p(S,v.crossOrigin);s.d.L(y,S,{crossOrigin:O,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},pn.preloadModule=function(y,v){if(typeof y=="string")if(v){var S=p(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},pn.requestFormReset=function(y){s.d.r(y)},pn.unstable_batchedUpdates=function(y,v){return y(v)},pn.useFormState=function(y,v,S){return m.H.useFormState(y,v,S)},pn.useFormStatus=function(){return m.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var Zg;function T0(){if(Zg)return cd.exports;Zg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),cd.exports=k0(),cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function C0(){if(Jg)return uo;Jg=1;var i=O0(),a=qd(),r=T0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===n)return p(c),e;if(h===l)return p(c),t;h=h.sibling}throw Error(s(188))}if(n.return!==l.return)n=c,l=h;else{for(var x=!1,j=c.child;j;){if(j===n){x=!0,n=c,l=h;break}if(j===l){x=!0,l=c,n=h;break}j=j.sibling}if(!x){for(j=h.child;j;){if(j===n){x=!0,n=h,l=c;break}if(j===l){x=!0,l=h,n=c;break}j=j.sibling}if(!x)throw Error(s(189))}}if(n.alternate!==l)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),Le=Symbol.for("react.activity"),Ue=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function tt(e){return e===null||typeof e!="object"?null:(e=Ce&&e[Ce]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ct?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case W:return"Profiler";case V:return"StrictMode";case ue:return"Suspense";case _e:return"SuspenseList";case Le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case ce:return(e.displayName||"Context")+".Provider";case se:return(e._context.displayName||"Context")+".Consumer";case pe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case We:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}var me=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},je=[],A=-1;function ae(e){return{current:e}}function ye(e){0>A||(e.current=je[A],je[A]=null,A--)}function he(e,t){A++,je[A]=e.current,e.current=t}var ke=ae(null),He=ae(null),ze=ae(null),wt=ae(null);function ot(e,t){switch(he(ze,t),he(He,e),he(ke,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bg(t),e=wg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(ke),he(ke,e)}function Te(){ye(ke),ye(He),ye(ze)}function At(e){e.memoizedState!==null&&he(wt,e);var t=ke.current,n=wg(t,e.type);t!==n&&(he(He,e),he(ke,n))}function $t(e){He.current===e&&(ye(ke),ye(He)),wt.current===e&&(ye(wt),ao._currentValue=ie)}var Fe=Object.prototype.hasOwnProperty,fn=i.unstable_scheduleCallback,dr=i.unstable_cancelCallback,Hn=i.unstable_shouldYield,De=i.unstable_requestPaint,lt=i.unstable_now,Pn=i.unstable_getCurrentPriorityLevel,$n=i.unstable_ImmediatePriority,Yi=i.unstable_UserBlockingPriority,bn=i.unstable_NormalPriority,Ao=i.unstable_LowPriority,hr=i.unstable_IdlePriority,Do=i.log,si=i.unstable_setDisableYieldValue,An=null,zt=null;function Yn(e){if(typeof Do=="function"&&si(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(An,e)}catch{}}var It=Math.clz32?Math.clz32:Aa,Zs=Math.log,Ki=Math.LN2;function Aa(e){return e>>>=0,e===0?32:31-(Zs(e)/Ki|0)|0}var Da=256,mr=4194304;function dn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Me(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,h=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var j=l&134217727;return j!==0?(l=j&~h,l!==0?c=dn(l):(x&=j,x!==0?c=dn(x):n||(n=j&~e,n!==0&&(c=dn(n))))):(j=l&~h,j!==0?c=dn(j):x!==0?c=dn(x):n||(n=l&~e,n!==0&&(c=dn(n)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,n=t&-t,h>=n||h===32&&(n&4194048)!==0)?t:c}function aa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Na(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(){var e=Da;return Da<<=1,(Da&4194048)===0&&(Da=256),e}function Oe(){var e=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),e}function oi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Js(e,t,n,l,c,h){var x=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var j=e.entanglements,N=e.expirationTimes,X=e.hiddenUpdates;for(n=x&~n;0<n;){var oe=31-It(n),de=1<<oe;j[oe]=0,N[oe]=-1;var J=X[oe];if(J!==null)for(X[oe]=null,oe=0;oe<J.length;oe++){var ee=J[oe];ee!==null&&(ee.lane&=-536870913)}n&=~de}l!==0&&el(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(x&~t))}function el(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-It(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function Gi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-It(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function tl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ra(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:qg(e.type))}function yr(e,t){var n=re.p;try{return re.p=e,t()}finally{re.p=n}}var Kn=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Kn,Ze="__reactProps$"+Kn,Ot="__reactContainer$"+Kn,al="__reactEvents$"+Kn,Vi="__reactListeners$"+Kn,Ii="__reactHandles$"+Kn,ui="__reactResources$"+Kn,ci="__reactMarker$"+Kn;function Gn(e){delete e[Bt],delete e[Ze],delete e[al],delete e[Vi],delete e[Ii]}function Dn(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Eg(e);e!==null;){if(n=e[Bt])return n;e=Eg(e)}return t}e=n,n=e.parentNode}return null}function wn(e){if(e=e[Bt]||e[Ot]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function da(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function pr(e){var t=e[ui];return t||(t=e[ui]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function xt(e){e[ci]=!0}var rl=new Set,ha={};function ma(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(ha[e]=t,e=0;e<t.length;e++)rl.add(t[e])}var Nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ya={},Vn={};function No(e){return Fe.call(Vn,e)?!0:Fe.call(ya,e)?!1:Nt.test(e)?Vn[e]=!0:(ya[e]=!0,!1)}function ra(e,t,n){if(No(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ma(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Nn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var fi,pa;function Ua(e){if(fi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fi=t&&t[1]||"",pa=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fi+e+pa}var vr=!1;function Qi(e,t){if(!e||vr)return"";vr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ee){var J=ee}Reflect.construct(e,[],de)}else{try{de.call()}catch(ee){J=ee}e.call(de.prototype)}}else{try{throw Error()}catch(ee){J=ee}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),x=h[0],j=h[1];if(x&&j){var N=x.split(`
`),X=j.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===X.length)for(l=N.length-1,c=X.length-1;1<=l&&0<=c&&N[l]!==X[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==X[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==X[c]){var oe=`
`+N[l].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=l&&0<=c);break}}}finally{vr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ua(n):""}function nt(e){switch(e.tag){case 26:case 27:case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return Qi(e.type,!1);case 11:return Qi(e.type.render,!1);case 1:return Qi(e.type,!0);case 31:return Ua("Activity");default:return""}}function il(e){try{var t="";do t+=nt(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function xn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _t(e){var t=sl(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(x){l=""+x,h.call(this,x)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function va(e){e._valueTracker||(e._valueTracker=_t(e))}function br(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=sl(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ll=/[\n"\\]/g;function hn(e){return e.replace(ll,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wr(e,t,n,l,c,h,x,j){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xn(t)):e.value!==""+xn(t)&&(e.value=""+xn(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?xr(e,x,xn(t)):n!=null?xr(e,x,xn(n)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+xn(j):e.removeAttribute("name")}function ol(e,t,n,l,c,h,x,j){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null))return;n=n!=null?""+xn(n):"",t=t!=null?""+xn(t):n,j||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=j?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function xr(e,t,n){t==="number"&&ia(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function La(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function _r(e,t,n){if(t!=null&&(t=""+xn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xn(n):""}function ul(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(s(92));if(me(l)){if(1<l.length)throw Error(s(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=xn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ut=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xi(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||ut.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ro(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Xi(e,c,l)}else for(var h in t)t.hasOwnProperty(h)&&Xi(e,h,t[h])}function cl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _n=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(e){return Er.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var In=null;function Wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,kt=null;function Rn(e){var t=wn(e);if(t&&(e=t.stateNode)){var n=e[Ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(wr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Ze]||null;if(!c)throw Error(s(90));wr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&br(l)}break e;case"textarea":_r(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&La(e,!!n.multiple,t,!1)}}}var qa=!1;function jr(e,t,n){if(qa)return e(t,n);qa=!0;try{var l=e(t);return l}finally{if(qa=!1,(Ba!==null||kt!==null)&&(xu(),Ba&&(t=Ba,e=kt,kt=Ba=null,Rn(t),e)))for(t=0;t<e.length;t++)Rn(e[t])}}function Ha(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ze]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=!1;if(Ft)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){fl=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{fl=!1}var Qn=null,Fi=null,Or=null;function kr(){if(Or)return Or;var e,t=Fi,n=t.length,l,c="value"in Qn?Qn.value:Qn.textContent,h=c.length;for(e=0;e<n&&t[e]===c[e];e++);var x=n-e;for(l=1;l<=x&&t[n-l]===c[h-l];l++);return Or=c.slice(e,1<l?1-l:void 0)}function Tr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function Mo(){return!1}function Yt(e){function t(n,l,c,h,x){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=x,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(n=e[j],this[j]=n?n(h):h[j]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?di:Mo,this.isPropagationStopped=Mo,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=Yt(Pa),ba=S({},Pa,{view:0,detail:0}),Ji=Yt(ba),hi,dl,mi,es=S({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(hi=e.screenX-mi.screenX,dl=e.screenY-mi.screenY):dl=hi=0,mi=e),hi)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),ts=Yt(es),hl=S({},es,{dataTransfer:0}),Uo=Yt(hl),ns=S({},ba,{relatedTarget:0}),Cr=Yt(ns),as=S({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=Yt(as),pc=S({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rs=Yt(pc),ml=S({},Pa,{data:0}),is=Yt(ml),gl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zt[e])?!!t[e]:!1}function $a(){return gi}var zo=S({},ba,{key:function(e){if(e.key){var t=gl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ss=Yt(zo),Bo=S({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Yt(Bo),ls=S({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),vl=Yt(ls),Ya=S({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),bl=Yt(Ya),wl=S({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),os=Yt(wl),xl=S({},Pa,{newState:0,oldState:0}),qo=Yt(xl),vc=[9,13,27,32],yi=Ft&&"CompositionEvent"in window,wa=null;Ft&&"documentMode"in document&&(wa=document.documentMode);var bc=Ft&&"TextEvent"in window&&!wa,us=Ft&&(!yi||wa&&8<wa&&11>=wa),cs=" ",Ho=!1;function _l(e,t){switch(e){case"keyup":return vc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Po(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ka=!1;function $o(e,t){switch(e){case"compositionend":return Po(t);case"keypress":return t.which!==32?null:(Ho=!0,cs);case"textInput":return e=t.data,e===cs&&Ho?null:e;default:return null}}function wc(e,t){if(Ka)return e==="compositionend"||!yi&&_l(e,t)?(e=kr(),Or=Fi=Qn=null,Ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return us&&t.locale!=="ko"?null:t.data;default:return null}}var Yo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yo[e.type]:t==="textarea"}function Sl(e,t,n,l){Ba?kt?kt.push(l):kt=[l]:Ba=l,t=ku(t,"onChange"),0<t.length&&(n=new Zi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Ar=null,pi=null;function xc(e){mg(e,0)}function ds(e){var t=da(e);if(br(t))return e}function vi(e,t){if(e==="change")return t}var Xn=!1;if(Ft){var Tt;if(Ft){var Dr="oninput"in document;if(!Dr){var Sn=document.createElement("div");Sn.setAttribute("oninput","return;"),Dr=typeof Sn.oninput=="function"}Tt=Dr}else Tt=!1;Xn=Tt&&(!document.documentMode||9<document.documentMode)}function Ko(){Ar&&(Ar.detachEvent("onpropertychange",hs),pi=Ar=null)}function hs(e){if(e.propertyName==="value"&&ds(pi)){var t=[];Sl(t,pi,e,Wi(e)),jr(xc,t)}}function Go(e,t,n){e==="focusin"?(Ko(),Ar=t,pi=n,Ar.attachEvent("onpropertychange",hs)):e==="focusout"&&Ko()}function Ga(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ds(pi)}function El(e,t){if(e==="click")return ds(t)}function Nr(e,t){if(e==="input"||e==="change")return ds(t)}function xa(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:xa;function u(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!Fe.call(t,c)||!gn(e[c],t[c]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,t){var n=d(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d(n)}}function w(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?w(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ia(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ia(e.document)}return t}function E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var k=Ft&&"documentMode"in document&&11>=document.documentMode,D=null,B=null,H=null,Y=!1;function M(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Y||D==null||D!==ia(l)||(l=D,"selectionStart"in l&&E(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),H&&u(H,l)||(H=l,l=ku(B,"onSelect"),0<l.length&&(t=new Zi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=D)))}function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var z={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionrun:G("Transition","TransitionRun"),transitionstart:G("Transition","TransitionStart"),transitioncancel:G("Transition","TransitionCancel"),transitionend:G("Transition","TransitionEnd")},$={},I={};Ft&&(I=document.createElement("div").style,"AnimationEvent"in window||(delete z.animationend.animation,delete z.animationiteration.animation,delete z.animationstart.animation),"TransitionEvent"in window||delete z.transitionend.transition);function P(e){if($[e])return $[e];if(!z[e])return e;var t=z[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in I)return $[e]=t[n];return e}var F=P("animationend"),te=P("animationiteration"),ne=P("animationstart"),le=P("transitionrun"),we=P("transitionstart"),Se=P("transitioncancel"),ve=P("transitionend"),xe=new Map,Ee="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ee.push("scrollEnd");function be(e,t){xe.set(e,t),ma(t,[e])}var Ae=new WeakMap;function qe(e,t){if(typeof e=="object"&&e!==null){var n=Ae.get(e);return n!==void 0?n:(t={value:e,source:t,stack:il(t)},Ae.set(e,t),t)}return{value:e,source:t,stack:il(t)}}var Pe=[],Ve=0,sn=0;function Ke(){for(var e=Ve,t=sn=Ve=0;t<e;){var n=Pe[t];Pe[t++]=null;var l=Pe[t];Pe[t++]=null;var c=Pe[t];Pe[t++]=null;var h=Pe[t];if(Pe[t++]=null,l!==null&&c!==null){var x=l.pending;x===null?c.next=c:(c.next=x.next,x.next=c),l.pending=c}h!==0&&Jt(n,c,h)}}function qt(e,t,n,l){Pe[Ve++]=e,Pe[Ve++]=t,Pe[Ve++]=n,Pe[Ve++]=l,sn|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Kt(e,t,n,l){return qt(e,t,n,l),Wn(e)}function sa(e,t){return qt(e,null,null,t),Wn(e)}function Jt(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,h=e.return;h!==null;)h.childLanes|=n,l=h.alternate,l!==null&&(l.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-It(n),e=h.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),h):null}function Wn(e){if(50<Xl)throw Xl=0,Tf=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var _a={};function av(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,l){return new av(e,t,n,l)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Va(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vo(e,t,n,l,c,h){var x=0;if(l=e,typeof e=="function")_c(e)&&(x=1);else if(typeof e=="string")x=i0(e,n,ke.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Le:return e=Mn(31,n,t,c),e.elementType=Le,e.lanes=h,e;case C:return bi(n.children,c,h,t);case V:x=8,c|=24;break;case W:return e=Mn(12,n,t,c|2),e.elementType=W,e.lanes=h,e;case ue:return e=Mn(13,n,t,c),e.elementType=ue,e.lanes=h,e;case _e:return e=Mn(19,n,t,c),e.elementType=_e,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:case ce:x=10;break e;case se:x=9;break e;case pe:x=11;break e;case Ne:x=14;break e;case We:x=16,l=null;break e}x=29,n=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Mn(x,n,t,c),t.elementType=e,t.type=l,t.lanes=h,t}function bi(e,t,n,l){return e=Mn(7,e,l,t),e.lanes=n,e}function Sc(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function Ec(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ms=[],gs=0,Io=null,Qo=0,Fn=[],Zn=0,wi=null,Ia=1,Qa="";function xi(e,t){ms[gs++]=Qo,ms[gs++]=Io,Io=e,Qo=t}function eh(e,t,n){Fn[Zn++]=Ia,Fn[Zn++]=Qa,Fn[Zn++]=wi,wi=e;var l=Ia;e=Qa;var c=32-It(l)-1;l&=~(1<<c),n+=1;var h=32-It(t)+c;if(30<h){var x=c-c%5;h=(l&(1<<x)-1).toString(32),l>>=x,c-=x,Ia=1<<32-It(t)+c|n<<c|l,Qa=h+e}else Ia=1<<h|n<<c|l,Qa=e}function jc(e){e.return!==null&&(xi(e,1),eh(e,1,0))}function Oc(e){for(;e===Io;)Io=ms[--gs],ms[gs]=null,Qo=ms[--gs],ms[gs]=null;for(;e===wi;)wi=Fn[--Zn],Fn[Zn]=null,Qa=Fn[--Zn],Fn[Zn]=null,Ia=Fn[--Zn],Fn[Zn]=null}var En=null,Ut=null,ht=!1,_i=null,Sa=!1,kc=Error(s(519));function Si(e){var t=Error(s(418,""));throw kl(qe(t,e)),kc}function th(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Bt]=e,t[Ze]=l,n){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(n=0;n<Fl.length;n++)rt(Fl[n],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),ol(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(t);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),ul(t,l.value,l.defaultValue,l.children),va(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||vg(t.textContent,n)?(l.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),l.onScroll!=null&&rt("scroll",t),l.onScrollEnd!=null&&rt("scrollend",t),l.onClick!=null&&(t.onclick=Tu),t=!0):t=!1,t||Si(e)}function nh(e){for(En=e.return;En;)switch(En.tag){case 5:case 13:Sa=!1;return;case 27:case 3:Sa=!0;return;default:En=En.return}}function jl(e){if(e!==En)return!1;if(!ht)return nh(e),ht=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Kf(e.type,e.memoizedProps)),n=!n),n&&Ut&&Si(e),nh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ut=oa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ut=null}}else t===27?(t=Ut,Qr(e.type)?(e=Qf,Qf=null,Ut=e):Ut=t):Ut=En?oa(e.stateNode.nextSibling):null;return!0}function Ol(){Ut=En=null,ht=!1}function ah(){var e=_i;return e!==null&&(kn===null?kn=e:kn.push.apply(kn,e),_i=null),e}function kl(e){_i===null?_i=[e]:_i.push(e)}var Tc=ae(null),Ei=null,Xa=null;function Rr(e,t,n){he(Tc,t._currentValue),t._currentValue=n}function Wa(e){e._currentValue=Tc.current,ye(Tc)}function Cc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ac(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var x=c.child;h=h.firstContext;e:for(;h!==null;){var j=h;h=c;for(var N=0;N<t.length;N++)if(j.context===t[N]){h.lanes|=n,j=h.alternate,j!==null&&(j.lanes|=n),Cc(h.return,n,e),l||(x=null);break e}h=j.next}}else if(c.tag===18){if(x=c.return,x===null)throw Error(s(341));x.lanes|=n,h=x.alternate,h!==null&&(h.lanes|=n),Cc(x,n,e),x=null}else x=c.child;if(x!==null)x.return=c;else for(x=c;x!==null;){if(x===e){x=null;break}if(c=x.sibling,c!==null){c.return=x.return,x=c;break}x=x.return}c=x}}function Tl(e,t,n,l){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var x=c.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var j=c.type;gn(c.pendingProps.value,x.value)||(e!==null?e.push(j):e=[j])}}else if(c===wt.current){if(x=c.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ao):e=[ao])}c=c.return}e!==null&&Ac(t,e,n,l),t.flags|=262144}function Xo(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Ei=e,Xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yn(e){return rh(Ei,e)}function Wo(e,t){return Ei===null&&ji(e),rh(e,t)}function rh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xa===null){if(e===null)throw Error(s(308));Xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xa=Xa.next=t;return n}var rv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},iv=i.unstable_scheduleCallback,sv=i.unstable_NormalPriority,Qt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new rv,data:new Map,refCount:0}}function Cl(e){e.refCount--,e.refCount===0&&iv(sv,function(){e.controller.abort()})}var Al=null,Nc=0,ys=0,ps=null;function lv(e,t){if(Al===null){var n=Al=[];Nc=0,ys=Uf(),ps={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Nc++,t.then(ih,ih),t}function ih(){if(--Nc===0&&Al!==null){ps!==null&&(ps.status="fulfilled");var e=Al;Al=null,ys=0,ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ov(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var sh=L.S;L.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&lv(e,t),sh!==null&&sh(e,t)};var Oi=ae(null);function Rc(){var e=Oi.current;return e!==null?e:Et.pooledCache}function Fo(e,t){t===null?he(Oi,Oi.current):he(Oi,t.pool)}function lh(){var e=Rc();return e===null?null:{parent:Qt._currentValue,pool:e}}var Dl=Error(s(460)),oh=Error(s(474)),Zo=Error(s(542)),Mc={then:function(){}};function uh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jo(){}function ch(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Jo,Jo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dh(e),e;default:if(typeof t.status=="string")t.then(Jo,Jo);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dh(e),e}throw Nl=t,Dl}}var Nl=null;function fh(){if(Nl===null)throw Error(s(459));var e=Nl;return Nl=null,e}function dh(e){if(e===Dl||e===Zo)throw Error(s(483))}var Mr=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Wn(e),Jt(e,null,n),t}return qt(e,l,t,n),Wn(e)}function Rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Gi(e,n)}}function zc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var x={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?c=h=x:h=h.next=x,n=n.next}while(n!==null);h===null?c=h=t:h=h.next=t}else c=h=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Bc=!1;function Ml(){if(Bc){var e=ps;if(e!==null)throw e}}function Ul(e,t,n,l){Bc=!1;var c=e.updateQueue;Mr=!1;var h=c.firstBaseUpdate,x=c.lastBaseUpdate,j=c.shared.pending;if(j!==null){c.shared.pending=null;var N=j,X=N.next;N.next=null,x===null?h=X:x.next=X,x=N;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==x&&(j===null?oe.firstBaseUpdate=X:j.next=X,oe.lastBaseUpdate=N))}if(h!==null){var de=c.baseState;x=0,oe=X=N=null,j=h;do{var J=j.lane&-536870913,ee=J!==j.lane;if(ee?(ct&J)===J:(l&J)===J){J!==0&&J===ys&&(Bc=!0),oe!==null&&(oe=oe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ge=e,$e=j;J=t;var bt=n;switch($e.tag){case 1:if(Ge=$e.payload,typeof Ge=="function"){de=Ge.call(bt,de,J);break e}de=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=$e.payload,J=typeof Ge=="function"?Ge.call(bt,de,J):Ge,J==null)break e;de=S({},de,J);break e;case 2:Mr=!0}}J=j.callback,J!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=c.callbacks,ee===null?c.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(X=oe=ee,N=de):oe=oe.next=ee,x|=J;if(j=j.next,j===null){if(j=c.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,c.lastBaseUpdate=ee,c.shared.pending=null}}while(!0);oe===null&&(N=de),c.baseState=N,c.firstBaseUpdate=X,c.lastBaseUpdate=oe,h===null&&(c.shared.lanes=0),Kr|=x,e.lanes=x,e.memoizedState=de}}function hh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function mh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)hh(n[e],t)}var vs=ae(null),eu=ae(0);function gh(e,t){e=ar,he(eu,e),he(vs,t),ar=e|t.baseLanes}function qc(){he(eu,ar),he(vs,vs.current)}function Hc(){ar=eu.current,ye(vs),ye(eu)}var zr=0,Je=null,pt=null,Gt=null,tu=!1,bs=!1,ki=!1,nu=0,Ll=0,ws=null,uv=0;function Ht(){throw Error(s(321))}function Pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function $c(e,t,n,l,c,h){return zr=h,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Zh:Jh,ki=!1,h=n(l,c),ki=!1,bs&&(h=ph(t,n,l,c)),yh(e),h}function yh(e){L.H=ou;var t=pt!==null&&pt.next!==null;if(zr=0,Gt=pt=Je=null,tu=!1,Ll=0,ws=null,t)throw Error(s(300));e===null||en||(e=e.dependencies,e!==null&&Xo(e)&&(en=!0))}function ph(e,t,n,l){Je=e;var c=0;do{if(bs&&(ws=null),Ll=0,bs=!1,25<=c)throw Error(s(301));if(c+=1,Gt=pt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}L.H=yv,h=t(n,l)}while(bs);return h}function cv(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?zl(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&(Je.flags|=1024),t}function Yc(){var e=nu!==0;return nu=0,e}function Kc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Gc(e){if(tu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tu=!1}zr=0,Gt=pt=Je=null,bs=!1,Ll=nu=0,ws=null}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Je.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function Vt(){if(pt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Gt===null?Je.memoizedState:Gt.next;if(t!==null)Gt=t,pt=e;else{if(e===null)throw Je.alternate===null?Error(s(467)):Error(s(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Gt===null?Je.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(e){var t=Ll;return Ll+=1,ws===null&&(ws=[]),e=ch(ws,e,t),t=Je,(Gt===null?t.memoizedState:Gt.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Zh:Jh),e}function au(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zl(e);if(e.$$typeof===ce)return yn(e)}throw Error(s(438,String(e)))}function Ic(e){var t=null,n=Je.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Vc(),Je.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Ue;return t.index++,n}function Fa(e,t){return typeof t=="function"?t(e):t}function ru(e){var t=Vt();return Qc(t,pt,e)}function Qc(e,t,n){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var x=c.next;c.next=h.next,h.next=x}t.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var j=x=null,N=null,X=t,oe=!1;do{var de=X.lane&-536870913;if(de!==X.lane?(ct&de)===de:(zr&de)===de){var J=X.revertLane;if(J===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),de===ys&&(oe=!0);else if((zr&J)===J){X=X.next,J===ys&&(oe=!0);continue}else de={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},N===null?(j=N=de,x=h):N=N.next=de,Je.lanes|=J,Kr|=J;de=X.action,ki&&n(h,de),h=X.hasEagerState?X.eagerState:n(h,de)}else J={lane:de,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},N===null?(j=N=J,x=h):N=N.next=J,Je.lanes|=de,Kr|=de;X=X.next}while(X!==null&&X!==t);if(N===null?x=h:N.next=j,!gn(h,e.memoizedState)&&(en=!0,oe&&(n=ps,n!==null)))throw n;e.memoizedState=h,e.baseState=x,e.baseQueue=N,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Xc(e){var t=Vt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,h=t.memoizedState;if(c!==null){n.pending=null;var x=c=c.next;do h=e(h,x.action),x=x.next;while(x!==c);gn(h,t.memoizedState)||(en=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,l]}function vh(e,t,n){var l=Je,c=Vt(),h=ht;if(h){if(n===void 0)throw Error(s(407));n=n()}else n=t();var x=!gn((pt||c).memoizedState,n);x&&(c.memoizedState=n,en=!0),c=c.queue;var j=xh.bind(null,l,c,e);if(Bl(2048,8,j,[e]),c.getSnapshot!==t||x||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,xs(9,iu(),wh.bind(null,l,c,n,t),null),Et===null)throw Error(s(349));h||(zr&124)!==0||bh(l,t,n)}return n}function bh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t=Vc(),Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wh(e,t,n,l){t.value=n,t.getSnapshot=l,_h(t)&&Sh(e)}function xh(e,t,n){return n(function(){_h(t)&&Sh(e)})}function _h(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Sh(e){var t=sa(e,2);t!==null&&qn(t,e,2)}function Wc(e){var t=jn();if(typeof e=="function"){var n=e;if(e=n(),ki){Yn(!0);try{n()}finally{Yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},t}function Eh(e,t,n,l){return e.baseState=n,Qc(e,pt,typeof l=="function"?l:Fa)}function fv(e,t,n,l,c){if(lu(e))throw Error(s(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){h.listeners.push(x)}};L.T!==null?n(!0):h.isTransition=!1,l(h),n=t.pending,n===null?(h.next=t.pending=h,jh(t,h)):(h.next=n.next,t.pending=n.next=h)}}function jh(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var h=L.T,x={};L.T=x;try{var j=n(c,l),N=L.S;N!==null&&N(x,j),Oh(e,t,j)}catch(X){Fc(e,t,X)}finally{L.T=h}}else try{h=n(c,l),Oh(e,t,h)}catch(X){Fc(e,t,X)}}function Oh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){kh(e,t,l)},function(l){return Fc(e,t,l)}):kh(e,t,n)}function kh(e,t,n){t.status="fulfilled",t.value=n,Th(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,jh(e,n)))}function Fc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Th(t),t=t.next;while(t!==l)}e.action=null}function Th(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ch(e,t){return t}function Ah(e,t){if(ht){var n=Et.formState;if(n!==null){e:{var l=Je;if(ht){if(Ut){t:{for(var c=Ut,h=Sa;c.nodeType!==8;){if(!h){c=null;break t}if(c=oa(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ut=oa(c.nextSibling),l=c.data==="F!";break e}}Si(l)}l=!1}l&&(t=n[0])}}return n=jn(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ch,lastRenderedState:t},n.queue=l,n=Xh.bind(null,Je,l),l.dispatch=n,l=Wc(!1),h=nf.bind(null,Je,!1,l.queue),l=jn(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=fv.bind(null,Je,c,h,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function Dh(e){var t=Vt();return Nh(t,pt,e)}function Nh(e,t,n){if(t=Qc(e,t,Ch)[0],e=ru(Fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=zl(t)}catch(x){throw x===Dl?Zo:x}else l=t;t=Vt();var c=t.queue,h=c.dispatch;return n!==t.memoizedState&&(Je.flags|=2048,xs(9,iu(),dv.bind(null,c,n),null)),[l,h,e]}function dv(e,t){e.action=t}function Rh(e){var t=Vt(),n=pt;if(n!==null)return Nh(t,n,e);Vt(),t=t.memoizedState,n=Vt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function xs(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Je.updateQueue,t===null&&(t=Vc(),Je.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function iu(){return{destroy:void 0,resource:void 0}}function Mh(){return Vt().memoizedState}function su(e,t,n,l){var c=jn();l=l===void 0?null:l,Je.flags|=e,c.memoizedState=xs(1|t,iu(),n,l)}function Bl(e,t,n,l){var c=Vt();l=l===void 0?null:l;var h=c.memoizedState.inst;pt!==null&&l!==null&&Pc(l,pt.memoizedState.deps)?c.memoizedState=xs(t,h,n,l):(Je.flags|=e,c.memoizedState=xs(1|t,h,n,l))}function Uh(e,t){su(8390656,8,e,t)}function Lh(e,t){Bl(2048,8,e,t)}function zh(e,t){return Bl(4,2,e,t)}function Bh(e,t){return Bl(4,4,e,t)}function qh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hh(e,t,n){n=n!=null?n.concat([e]):null,Bl(4,4,qh.bind(null,t,e),n)}function Zc(){}function Ph(e,t){var n=Vt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Pc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function $h(e,t){var n=Vt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Pc(t,l[1]))return l[0];if(l=e(),ki){Yn(!0);try{e()}finally{Yn(!1)}}return n.memoizedState=[l,t],l}function Jc(e,t,n){return n===void 0||(zr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Gm(),Je.lanes|=e,Kr|=e,n)}function Yh(e,t,n,l){return gn(n,t)?n:vs.current!==null?(e=Jc(e,n,l),gn(e,t)||(en=!0),e):(zr&42)===0?(en=!0,e.memoizedState=n):(e=Gm(),Je.lanes|=e,Kr|=e,t)}function Kh(e,t,n,l,c){var h=re.p;re.p=h!==0&&8>h?h:8;var x=L.T,j={};L.T=j,nf(e,!1,t,n);try{var N=c(),X=L.S;if(X!==null&&X(j,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var oe=ov(N,l);ql(e,t,oe,Bn(e))}else ql(e,t,l,Bn(e))}catch(de){ql(e,t,{then:function(){},status:"rejected",reason:de},Bn())}finally{re.p=h,L.T=x}}function hv(){}function ef(e,t,n,l){if(e.tag!==5)throw Error(s(476));var c=Gh(e).queue;Kh(e,c,t,ie,n===null?hv:function(){return Vh(e),n(l)})}function Gh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:ie},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vh(e){var t=Gh(e).next.queue;ql(e,t,{},Bn())}function tf(){return yn(ao)}function Ih(){return Vt().memoizedState}function Qh(){return Vt().memoizedState}function mv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bn();e=Ur(n);var l=Lr(t,e,n);l!==null&&(qn(l,t,n),Rl(l,t,n)),t={cache:Dc()},e.payload=t;return}t=t.return}}function gv(e,t,n){var l=Bn();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},lu(e)?Wh(t,n):(n=Kt(e,t,n,l),n!==null&&(qn(n,e,l),Fh(n,t,l)))}function Xh(e,t,n){var l=Bn();ql(e,t,n,l)}function ql(e,t,n,l){var c={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(lu(e))Wh(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var x=t.lastRenderedState,j=h(x,n);if(c.hasEagerState=!0,c.eagerState=j,gn(j,x))return qt(e,t,c,0),Et===null&&Ke(),!1}catch{}finally{}if(n=Kt(e,t,c,l),n!==null)return qn(n,e,l),Fh(n,t,l),!0}return!1}function nf(e,t,n,l){if(l={lane:2,revertLane:Uf(),action:l,hasEagerState:!1,eagerState:null,next:null},lu(e)){if(t)throw Error(s(479))}else t=Kt(e,n,l,2),t!==null&&qn(t,e,2)}function lu(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function Wh(e,t){bs=tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Gi(e,n)}}var ou={readContext:yn,use:au,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht},Zh={readContext:yn,use:au,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:Uh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,su(4194308,4,qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return su(4194308,4,e,t)},useInsertionEffect:function(e,t){su(4,2,e,t)},useMemo:function(e,t){var n=jn();t=t===void 0?null:t;var l=e();if(ki){Yn(!0);try{e()}finally{Yn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=jn();if(n!==void 0){var c=n(t);if(ki){Yn(!0);try{n(t)}finally{Yn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=gv.bind(null,Je,e),[l.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:function(e){e=Wc(e);var t=e.queue,n=Xh.bind(null,Je,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Zc,useDeferredValue:function(e,t){var n=jn();return Jc(n,e,t)},useTransition:function(){var e=Wc(!1);return e=Kh.bind(null,Je,e.queue,!0,!1),jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Je,c=jn();if(ht){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Et===null)throw Error(s(349));(ct&124)!==0||bh(l,t,n)}c.memoizedState=n;var h={value:n,getSnapshot:t};return c.queue=h,Uh(xh.bind(null,l,h,e),[e]),l.flags|=2048,xs(9,iu(),wh.bind(null,l,h,n,t),null),n},useId:function(){var e=jn(),t=Et.identifierPrefix;if(ht){var n=Qa,l=Ia;n=(l&~(1<<32-It(l)-1)).toString(32)+n,t=""+t+"R"+n,n=nu++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=uv++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:tf,useFormState:Ah,useActionState:Ah,useOptimistic:function(e){var t=jn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nf.bind(null,Je,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ic,useCacheRefresh:function(){return jn().memoizedState=mv.bind(null,Je)}},Jh={readContext:yn,use:au,useCallback:Ph,useContext:yn,useEffect:Lh,useImperativeHandle:Hh,useInsertionEffect:zh,useLayoutEffect:Bh,useMemo:$h,useReducer:ru,useRef:Mh,useState:function(){return ru(Fa)},useDebugValue:Zc,useDeferredValue:function(e,t){var n=Vt();return Yh(n,pt.memoizedState,e,t)},useTransition:function(){var e=ru(Fa)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:zl(e),t]},useSyncExternalStore:vh,useId:Ih,useHostTransitionStatus:tf,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var n=Vt();return Eh(n,pt,e,t)},useMemoCache:Ic,useCacheRefresh:Qh},yv={readContext:yn,use:au,useCallback:Ph,useContext:yn,useEffect:Lh,useImperativeHandle:Hh,useInsertionEffect:zh,useLayoutEffect:Bh,useMemo:$h,useReducer:Xc,useRef:Mh,useState:function(){return Xc(Fa)},useDebugValue:Zc,useDeferredValue:function(e,t){var n=Vt();return pt===null?Jc(n,e,t):Yh(n,pt.memoizedState,e,t)},useTransition:function(){var e=Xc(Fa)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:zl(e),t]},useSyncExternalStore:vh,useId:Ih,useHostTransitionStatus:tf,useFormState:Rh,useActionState:Rh,useOptimistic:function(e,t){var n=Vt();return pt!==null?Eh(n,pt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:Qh},_s=null,Hl=0;function uu(e){var t=Hl;return Hl+=1,_s===null&&(_s=[]),ch(_s,e,t)}function Pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function cu(e,t){throw t.$$typeof===O?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function em(e){var t=e._init;return t(e._payload)}function tm(e){function t(K,q){if(e){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function n(K,q){if(!e)return null;for(;q!==null;)t(K,q),q=q.sibling;return null}function l(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function c(K,q){return K=Va(K,q),K.index=0,K.sibling=null,K}function h(K,q,Q){return K.index=Q,e?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=67108866,q):Q):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function x(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function j(K,q,Q,fe){return q===null||q.tag!==6?(q=Sc(Q,K.mode,fe),q.return=K,q):(q=c(q,Q),q.return=K,q)}function N(K,q,Q,fe){var Re=Q.type;return Re===C?oe(K,q,Q.props.children,fe,Q.key):q!==null&&(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===We&&em(Re)===q.type)?(q=c(q,Q.props),Pl(q,Q),q.return=K,q):(q=Vo(Q.type,Q.key,Q.props,null,K.mode,fe),Pl(q,Q),q.return=K,q)}function X(K,q,Q,fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Ec(Q,K.mode,fe),q.return=K,q):(q=c(q,Q.children||[]),q.return=K,q)}function oe(K,q,Q,fe,Re){return q===null||q.tag!==7?(q=bi(Q,K.mode,fe,Re),q.return=K,q):(q=c(q,Q),q.return=K,q)}function de(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Sc(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return Q=Vo(q.type,q.key,q.props,null,K.mode,Q),Pl(Q,q),Q.return=K,Q;case U:return q=Ec(q,K.mode,Q),q.return=K,q;case We:var fe=q._init;return q=fe(q._payload),de(K,q,Q)}if(me(q)||tt(q))return q=bi(q,K.mode,Q,null),q.return=K,q;if(typeof q.then=="function")return de(K,uu(q),Q);if(q.$$typeof===ce)return de(K,Wo(K,q),Q);cu(K,q)}return null}function J(K,q,Q,fe){var Re=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Re!==null?null:j(K,q,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===Re?N(K,q,Q,fe):null;case U:return Q.key===Re?X(K,q,Q,fe):null;case We:return Re=Q._init,Q=Re(Q._payload),J(K,q,Q,fe)}if(me(Q)||tt(Q))return Re!==null?null:oe(K,q,Q,fe,null);if(typeof Q.then=="function")return J(K,q,uu(Q),fe);if(Q.$$typeof===ce)return J(K,q,Wo(K,Q),fe);cu(K,Q)}return null}function ee(K,q,Q,fe,Re){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return K=K.get(Q)||null,j(q,K,""+fe,Re);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return K=K.get(fe.key===null?Q:fe.key)||null,N(q,K,fe,Re);case U:return K=K.get(fe.key===null?Q:fe.key)||null,X(q,K,fe,Re);case We:var et=fe._init;return fe=et(fe._payload),ee(K,q,Q,fe,Re)}if(me(fe)||tt(fe))return K=K.get(Q)||null,oe(q,K,fe,Re,null);if(typeof fe.then=="function")return ee(K,q,Q,uu(fe),Re);if(fe.$$typeof===ce)return ee(K,q,Q,Wo(q,fe),Re);cu(q,fe)}return null}function Ge(K,q,Q,fe){for(var Re=null,et=null,Be=q,Ye=q=0,nn=null;Be!==null&&Ye<Q.length;Ye++){Be.index>Ye?(nn=Be,Be=null):nn=Be.sibling;var dt=J(K,Be,Q[Ye],fe);if(dt===null){Be===null&&(Be=nn);break}e&&Be&&dt.alternate===null&&t(K,Be),q=h(dt,q,Ye),et===null?Re=dt:et.sibling=dt,et=dt,Be=nn}if(Ye===Q.length)return n(K,Be),ht&&xi(K,Ye),Re;if(Be===null){for(;Ye<Q.length;Ye++)Be=de(K,Q[Ye],fe),Be!==null&&(q=h(Be,q,Ye),et===null?Re=Be:et.sibling=Be,et=Be);return ht&&xi(K,Ye),Re}for(Be=l(Be);Ye<Q.length;Ye++)nn=ee(Be,K,Ye,Q[Ye],fe),nn!==null&&(e&&nn.alternate!==null&&Be.delete(nn.key===null?Ye:nn.key),q=h(nn,q,Ye),et===null?Re=nn:et.sibling=nn,et=nn);return e&&Be.forEach(function(Jr){return t(K,Jr)}),ht&&xi(K,Ye),Re}function $e(K,q,Q,fe){if(Q==null)throw Error(s(151));for(var Re=null,et=null,Be=q,Ye=q=0,nn=null,dt=Q.next();Be!==null&&!dt.done;Ye++,dt=Q.next()){Be.index>Ye?(nn=Be,Be=null):nn=Be.sibling;var Jr=J(K,Be,dt.value,fe);if(Jr===null){Be===null&&(Be=nn);break}e&&Be&&Jr.alternate===null&&t(K,Be),q=h(Jr,q,Ye),et===null?Re=Jr:et.sibling=Jr,et=Jr,Be=nn}if(dt.done)return n(K,Be),ht&&xi(K,Ye),Re;if(Be===null){for(;!dt.done;Ye++,dt=Q.next())dt=de(K,dt.value,fe),dt!==null&&(q=h(dt,q,Ye),et===null?Re=dt:et.sibling=dt,et=dt);return ht&&xi(K,Ye),Re}for(Be=l(Be);!dt.done;Ye++,dt=Q.next())dt=ee(Be,K,Ye,dt.value,fe),dt!==null&&(e&&dt.alternate!==null&&Be.delete(dt.key===null?Ye:dt.key),q=h(dt,q,Ye),et===null?Re=dt:et.sibling=dt,et=dt);return e&&Be.forEach(function(p0){return t(K,p0)}),ht&&xi(K,Ye),Re}function bt(K,q,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var Re=Q.key;q!==null;){if(q.key===Re){if(Re=Q.type,Re===C){if(q.tag===7){n(K,q.sibling),fe=c(q,Q.props.children),fe.return=K,K=fe;break e}}else if(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===We&&em(Re)===q.type){n(K,q.sibling),fe=c(q,Q.props),Pl(fe,Q),fe.return=K,K=fe;break e}n(K,q);break}else t(K,q);q=q.sibling}Q.type===C?(fe=bi(Q.props.children,K.mode,fe,Q.key),fe.return=K,K=fe):(fe=Vo(Q.type,Q.key,Q.props,null,K.mode,fe),Pl(fe,Q),fe.return=K,K=fe)}return x(K);case U:e:{for(Re=Q.key;q!==null;){if(q.key===Re)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){n(K,q.sibling),fe=c(q,Q.children||[]),fe.return=K,K=fe;break e}else{n(K,q);break}else t(K,q);q=q.sibling}fe=Ec(Q,K.mode,fe),fe.return=K,K=fe}return x(K);case We:return Re=Q._init,Q=Re(Q._payload),bt(K,q,Q,fe)}if(me(Q))return Ge(K,q,Q,fe);if(tt(Q)){if(Re=tt(Q),typeof Re!="function")throw Error(s(150));return Q=Re.call(Q),$e(K,q,Q,fe)}if(typeof Q.then=="function")return bt(K,q,uu(Q),fe);if(Q.$$typeof===ce)return bt(K,q,Wo(K,Q),fe);cu(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(n(K,q.sibling),fe=c(q,Q),fe.return=K,K=fe):(n(K,q),fe=Sc(Q,K.mode,fe),fe.return=K,K=fe),x(K)):n(K,q)}return function(K,q,Q,fe){try{Hl=0;var Re=bt(K,q,Q,fe);return _s=null,Re}catch(Be){if(Be===Dl||Be===Zo)throw Be;var et=Mn(29,Be,null,K.mode);return et.lanes=fe,et.return=K,et}finally{}}}var Ss=tm(!0),nm=tm(!1),Jn=ae(null),Ea=null;function Br(e){var t=e.alternate;he(Xt,Xt.current&1),he(Jn,e),Ea===null&&(t===null||vs.current!==null||t.memoizedState!==null)&&(Ea=e)}function am(e){if(e.tag===22){if(he(Xt,Xt.current),he(Jn,e),Ea===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ea=e)}}else qr()}function qr(){he(Xt,Xt.current),he(Jn,Jn.current)}function Za(e){ye(Jn),Ea===e&&(Ea=null),ye(Xt)}var Xt=ae(0);function fu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||If(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function af(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rf={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Bn(),c=Ur(l);c.payload=t,n!=null&&(c.callback=n),t=Lr(e,c,l),t!==null&&(qn(t,e,l),Rl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Bn(),c=Ur(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Lr(e,c,l),t!==null&&(qn(t,e,l),Rl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bn(),l=Ur(n);l.tag=2,t!=null&&(l.callback=t),t=Lr(e,l,n),t!==null&&(qn(t,e,n),Rl(t,e,n))}};function rm(e,t,n,l,c,h,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,x):t.prototype&&t.prototype.isPureReactComponent?!u(n,l)||!u(c,h):!0}function im(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&rf.enqueueReplaceState(t,t.state,null)}function Ti(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}var du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sm(e){du(e)}function lm(e){console.error(e)}function om(e){du(e)}function hu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function um(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sf(e,t,n){return n=Ur(n),n.tag=3,n.payload={element:null},n.callback=function(){hu(e,t)},n}function cm(e){return e=Ur(e),e.tag=3,e}function fm(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){um(t,n,l)}}var x=n.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){um(t,n,l),typeof c!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})})}function pv(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Tl(t,n,c,!0),n=Jn.current,n!==null){switch(n.tag){case 13:return Ea===null?Af():n.alternate===null&&Lt===0&&(Lt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Mc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Nf(e,l,c)),!1;case 22:return n.flags|=65536,l===Mc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Nf(e,l,c)),!1}throw Error(s(435,n.tag))}return Nf(e,l,c),Af(),!1}if(ht)return t=Jn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==kc&&(e=Error(s(422),{cause:l}),kl(qe(e,n)))):(l!==kc&&(t=Error(s(423),{cause:l}),kl(qe(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=qe(l,n),c=sf(e.stateNode,l,c),zc(e,c),Lt!==4&&(Lt=2)),!1;var h=Error(s(520),{cause:l});if(h=qe(h,n),Ql===null?Ql=[h]:Ql.push(h),Lt!==4&&(Lt=2),t===null)return!0;l=qe(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=sf(n.stateNode,l,e),zc(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Gr===null||!Gr.has(h))))return n.flags|=65536,c&=-c,n.lanes|=c,c=cm(c),fm(c,e,n,l),zc(n,c),!1}n=n.return}while(n!==null);return!1}var dm=Error(s(461)),en=!1;function ln(e,t,n,l){t.child=e===null?nm(t,null,n,l):Ss(t,e.child,n,l)}function hm(e,t,n,l,c){n=n.render;var h=t.ref;if("ref"in l){var x={};for(var j in l)j!=="ref"&&(x[j]=l[j])}else x=l;return ji(t),l=$c(e,t,n,x,h,c),j=Yc(),e!==null&&!en?(Kc(e,t,c),Ja(e,t,c)):(ht&&j&&jc(t),t.flags|=1,ln(e,t,l,c),t.child)}function mm(e,t,n,l,c){if(e===null){var h=n.type;return typeof h=="function"&&!_c(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,gm(e,t,h,l,c)):(e=Vo(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!mf(e,c)){var x=h.memoizedProps;if(n=n.compare,n=n!==null?n:u,n(x,l)&&e.ref===t.ref)return Ja(e,t,c)}return t.flags|=1,e=Va(h,l),e.ref=t.ref,e.return=t,t.child=e}function gm(e,t,n,l,c){if(e!==null){var h=e.memoizedProps;if(u(h,l)&&e.ref===t.ref)if(en=!1,t.pendingProps=l=h,mf(e,c))(e.flags&131072)!==0&&(en=!0);else return t.lanes=e.lanes,Ja(e,t,c)}return lf(e,t,n,l,c)}function ym(e,t,n){var l=t.pendingProps,c=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=h!==null?h.baseLanes|n:n,e!==null){for(c=t.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;t.childLanes=h&~l}else t.childLanes=0,t.child=null;return pm(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fo(t,h!==null?h.cachePool:null),h!==null?gh(t,h):qc(),am(t);else return t.lanes=t.childLanes=536870912,pm(e,t,h!==null?h.baseLanes|n:n,n)}else h!==null?(Fo(t,h.cachePool),gh(t,h),qr(),t.memoizedState=null):(e!==null&&Fo(t,null),qc(),qr());return ln(e,t,c,n),t.child}function pm(e,t,n,l){var c=Rc();return c=c===null?null:{parent:Qt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&Fo(t,null),qc(),am(t),e!==null&&Tl(e,t,l,!0),null}function mu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lf(e,t,n,l,c){return ji(t),n=$c(e,t,n,l,void 0,c),l=Yc(),e!==null&&!en?(Kc(e,t,c),Ja(e,t,c)):(ht&&l&&jc(t),t.flags|=1,ln(e,t,n,c),t.child)}function vm(e,t,n,l,c,h){return ji(t),t.updateQueue=null,n=ph(t,l,n,c),yh(e),l=Yc(),e!==null&&!en?(Kc(e,t,h),Ja(e,t,h)):(ht&&l&&jc(t),t.flags|=1,ln(e,t,n,h),t.child)}function bm(e,t,n,l,c){if(ji(t),t.stateNode===null){var h=_a,x=n.contextType;typeof x=="object"&&x!==null&&(h=yn(x)),h=new n(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rf,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},Uc(t),x=n.contextType,h.context=typeof x=="object"&&x!==null?yn(x):_a,h.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(af(t,n,x,l),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(x=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),x!==h.state&&rf.enqueueReplaceState(h,h.state,null),Ul(t,l,h,c),Ml(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var j=t.memoizedProps,N=Ti(n,j);h.props=N;var X=h.context,oe=n.contextType;x=_a,typeof oe=="object"&&oe!==null&&(x=yn(oe));var de=n.getDerivedStateFromProps;oe=typeof de=="function"||typeof h.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,oe||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(j||X!==x)&&im(t,h,l,x),Mr=!1;var J=t.memoizedState;h.state=J,Ul(t,l,h,c),Ml(),X=t.memoizedState,j||J!==X||Mr?(typeof de=="function"&&(af(t,n,de,l),X=t.memoizedState),(N=Mr||rm(t,n,N,l,J,X,x))?(oe||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=X),h.props=l,h.state=X,h.context=x,l=N):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,Lc(e,t),x=t.memoizedProps,oe=Ti(n,x),h.props=oe,de=t.pendingProps,J=h.context,X=n.contextType,N=_a,typeof X=="object"&&X!==null&&(N=yn(X)),j=n.getDerivedStateFromProps,(X=typeof j=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==de||J!==N)&&im(t,h,l,N),Mr=!1,J=t.memoizedState,h.state=J,Ul(t,l,h,c),Ml();var ee=t.memoizedState;x!==de||J!==ee||Mr||e!==null&&e.dependencies!==null&&Xo(e.dependencies)?(typeof j=="function"&&(af(t,n,j,l),ee=t.memoizedState),(oe=Mr||rm(t,n,oe,l,J,ee,N)||e!==null&&e.dependencies!==null&&Xo(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,ee,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,ee,N)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ee),h.props=l,h.state=ee,h.context=N,l=oe):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,mu(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Ss(t,e.child,null,c),t.child=Ss(t,null,n,c)):ln(e,t,n,c),t.memoizedState=h.state,e=t.child):e=Ja(e,t,c),e}function wm(e,t,n,l){return Ol(),t.flags|=256,ln(e,t,n,l),t.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(e){return{baseLanes:e,cachePool:lh()}}function cf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ea),e}function xm(e,t,n){var l=t.pendingProps,c=!1,h=(t.flags&128)!==0,x;if((x=h)||(x=e!==null&&e.memoizedState===null?!1:(Xt.current&2)!==0),x&&(c=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(ht){if(c?Br(t):qr(),ht){var j=Ut,N;if(N=j){e:{for(N=j,j=Sa;N.nodeType!==8;){if(!j){j=null;break e}if(N=oa(N.nextSibling),N===null){j=null;break e}}j=N}j!==null?(t.memoizedState={dehydrated:j,treeContext:wi!==null?{id:Ia,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},N=Mn(18,null,null,0),N.stateNode=j,N.return=t,t.child=N,En=t,Ut=null,N=!0):N=!1}N||Si(t)}if(j=t.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return If(j)?t.lanes=32:t.lanes=536870912,null;Za(t)}return j=l.children,l=l.fallback,c?(qr(),c=t.mode,j=gu({mode:"hidden",children:j},c),l=bi(l,c,n,null),j.return=t,l.return=t,j.sibling=l,t.child=j,c=t.child,c.memoizedState=uf(n),c.childLanes=cf(e,x,n),t.memoizedState=of,l):(Br(t),ff(t,j))}if(N=e.memoizedState,N!==null&&(j=N.dehydrated,j!==null)){if(h)t.flags&256?(Br(t),t.flags&=-257,t=df(e,t,n)):t.memoizedState!==null?(qr(),t.child=e.child,t.flags|=128,t=null):(qr(),c=l.fallback,j=t.mode,l=gu({mode:"visible",children:l.children},j),c=bi(c,j,n,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,Ss(t,e.child,null,n),l=t.child,l.memoizedState=uf(n),l.childLanes=cf(e,x,n),t.memoizedState=of,t=c);else if(Br(t),If(j)){if(x=j.nextSibling&&j.nextSibling.dataset,x)var X=x.dgst;x=X,l=Error(s(419)),l.stack="",l.digest=x,kl({value:l,source:null,stack:null}),t=df(e,t,n)}else if(en||Tl(e,t,n,!1),x=(n&e.childLanes)!==0,en||x){if(x=Et,x!==null&&(l=n&-n,l=(l&42)!==0?1:tl(l),l=(l&(x.suspendedLanes|n))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,sa(e,l),qn(x,e,l),dm;j.data==="$?"||Af(),t=df(e,t,n)}else j.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Ut=oa(j.nextSibling),En=t,ht=!0,_i=null,Sa=!1,e!==null&&(Fn[Zn++]=Ia,Fn[Zn++]=Qa,Fn[Zn++]=wi,Ia=e.id,Qa=e.overflow,wi=t),t=ff(t,l.children),t.flags|=4096);return t}return c?(qr(),c=l.fallback,j=t.mode,N=e.child,X=N.sibling,l=Va(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,X!==null?c=Va(X,c):(c=bi(c,j,n,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,l=c,c=t.child,j=e.child.memoizedState,j===null?j=uf(n):(N=j.cachePool,N!==null?(X=Qt._currentValue,N=N.parent!==X?{parent:X,pool:X}:N):N=lh(),j={baseLanes:j.baseLanes|n,cachePool:N}),c.memoizedState=j,c.childLanes=cf(e,x,n),t.memoizedState=of,l):(Br(t),n=e.child,e=n.sibling,n=Va(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=n,t.memoizedState=null,n)}function ff(e,t){return t=gu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gu(e,t){return e=Mn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function df(e,t,n){return Ss(t,e.child,null,n),e=ff(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _m(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Cc(e.return,t,n)}function hf(e,t,n,l,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=n,h.tailMode=c)}function Sm(e,t,n){var l=t.pendingProps,c=l.revealOrder,h=l.tail;if(ln(e,t,l.children,n),l=Xt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_m(e,n,t);else if(e.tag===19)_m(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(he(Xt,l),c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&fu(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),hf(t,!1,c,n,h);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&fu(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}hf(t,!0,n,null,h);break;case"together":hf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ja(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Tl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Va(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Va(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xo(e)))}function vv(e,t,n){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),Rr(t,Qt,e.memoizedState.cache),Ol();break;case 27:case 5:At(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:Rr(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(t),t.flags|=128,null):(n&t.child.childLanes)!==0?xm(e,t,n):(Br(t),e=Ja(e,t,n),e!==null?e.sibling:null);Br(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Tl(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Sm(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),he(Xt,Xt.current),l)break;return null;case 22:case 23:return t.lanes=0,ym(e,t,n);case 24:Rr(t,Qt,e.memoizedState.cache)}return Ja(e,t,n)}function Em(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)en=!0;else{if(!mf(e,n)&&(t.flags&128)===0)return en=!1,vv(e,t,n);en=(e.flags&131072)!==0}else en=!1,ht&&(t.flags&1048576)!==0&&eh(t,Qo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,c=l._init;if(l=c(l._payload),t.type=l,typeof l=="function")_c(l)?(e=Ti(l,e),t.tag=1,t=bm(null,t,l,e,n)):(t.tag=0,t=lf(null,t,l,e,n));else{if(l!=null){if(c=l.$$typeof,c===pe){t.tag=11,t=hm(null,t,l,e,n);break e}else if(c===Ne){t.tag=14,t=mm(null,t,l,e,n);break e}}throw t=ge(l)||l,Error(s(306,t,""))}}return t;case 0:return lf(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=Ti(l,t.pendingProps),bm(e,t,l,c,n);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var h=t.memoizedState;c=h.element,Lc(e,t),Ul(t,l,null,n);var x=t.memoizedState;if(l=x.cache,Rr(t,Qt,l),l!==h.cache&&Ac(t,[Qt],n,!0),Ml(),l=x.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=wm(e,t,l,n);break e}else if(l!==c){c=qe(Error(s(424)),t),kl(c),t=wm(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ut=oa(e.firstChild),En=t,ht=!0,_i=null,Sa=!0,n=nm(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ol(),l===c){t=Ja(e,t,n);break e}ln(e,t,l,n)}t=t.child}return t;case 26:return mu(e,t),e===null?(n=Tg(t.type,null,t.pendingProps,null))?t.memoizedState=n:ht||(n=t.type,e=t.pendingProps,l=Cu(ze.current).createElement(n),l[Bt]=t,l[Ze]=e,un(l,n,e),xt(l),t.stateNode=l):t.memoizedState=Tg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return At(t),e===null&&ht&&(l=t.stateNode=jg(t.type,t.pendingProps,ze.current),En=t,Sa=!0,c=Ut,Qr(t.type)?(Qf=c,Ut=oa(l.firstChild)):Ut=c),ln(e,t,t.pendingProps.children,n),mu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ht&&((c=l=Ut)&&(l=Vv(l,t.type,t.pendingProps,Sa),l!==null?(t.stateNode=l,En=t,Ut=oa(l.firstChild),Sa=!1,c=!0):c=!1),c||Si(t)),At(t),c=t.type,h=t.pendingProps,x=e!==null?e.memoizedProps:null,l=h.children,Kf(c,h)?l=null:x!==null&&Kf(c,x)&&(t.flags|=32),t.memoizedState!==null&&(c=$c(e,t,cv,null,null,n),ao._currentValue=c),mu(e,t),ln(e,t,l,n),t.child;case 6:return e===null&&ht&&((e=n=Ut)&&(n=Iv(n,t.pendingProps,Sa),n!==null?(t.stateNode=n,En=t,Ut=null,e=!0):e=!1),e||Si(t)),null;case 13:return xm(e,t,n);case 4:return ot(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ss(t,null,l,n):ln(e,t,l,n),t.child;case 11:return hm(e,t,t.type,t.pendingProps,n);case 7:return ln(e,t,t.pendingProps,n),t.child;case 8:return ln(e,t,t.pendingProps.children,n),t.child;case 12:return ln(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Rr(t,t.type,l.value),ln(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ji(t),c=yn(c),l=l(c),t.flags|=1,ln(e,t,l,n),t.child;case 14:return mm(e,t,t.type,t.pendingProps,n);case 15:return gm(e,t,t.type,t.pendingProps,n);case 19:return Sm(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=gu(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Va(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return ym(e,t,n);case 24:return ji(t),l=yn(Qt),e===null?(c=Rc(),c===null&&(c=Et,h=Dc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=n),c=h),t.memoizedState={parent:l,cache:c},Uc(t),Rr(t,Qt,c)):((e.lanes&n)!==0&&(Lc(e,t),Ul(t,null,null,n),Ml()),c=e.memoizedState,h=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Rr(t,Qt,l)):(l=h.cache,Rr(t,Qt,l),l!==c.cache&&Ac(t,[Qt],n,!0))),ln(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function er(e){e.flags|=4}function jm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rg(t)){if(t=Jn.current,t!==null&&((ct&4194048)===ct?Ea!==null:(ct&62914560)!==ct&&(ct&536870912)===0||t!==Ea))throw Nl=Mc,oh;e.flags|=8192}}function yu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Oe():536870912,e.lanes|=t,ks|=t)}function $l(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function bv(e,t,n){var l=t.pendingProps;switch(Oc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Rt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Wa(Qt),Te(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jl(t)?er(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ah())),Rt(t),null;case 26:return n=t.memoizedState,e===null?(er(t),n!==null?(Rt(t),jm(t,n)):(Rt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(er(t),Rt(t),jm(t,n)):(Rt(t),t.flags&=-16777217):(e.memoizedProps!==l&&er(t),Rt(t),t.flags&=-16777217),null;case 27:$t(t),n=ze.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&er(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Rt(t),null}e=ke.current,jl(t)?th(t):(e=jg(c,l,n),t.stateNode=e,er(t))}return Rt(t),null;case 5:if($t(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&er(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Rt(t),null}if(e=ke.current,jl(t))th(t);else{switch(c=Cu(ze.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(n,{is:l.is}):c.createElement(n)}}e[Bt]=t,e[Ze]=l;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(un(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&er(t)}}return Rt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&er(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=ze.current,jl(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=En,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Bt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||vg(e.nodeValue,n)),e||Si(t)}else e=Cu(e).createTextNode(l),e[Bt]=t,t.stateNode=e}return Rt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=jl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Bt]=t}else Ol(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Rt(t),c=!1}else c=ah(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Za(t),t):(Za(t),null)}if(Za(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),yu(t,t.updateQueue),Rt(t),null;case 4:return Te(),e===null&&qf(t.stateNode.containerInfo),Rt(t),null;case 10:return Wa(t.type),Rt(t),null;case 19:if(ye(Xt),c=t.memoizedState,c===null)return Rt(t),null;if(l=(t.flags&128)!==0,h=c.rendering,h===null)if(l)$l(c,!1);else{if(Lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=fu(e),h!==null){for(t.flags|=128,$l(c,!1),e=h.updateQueue,t.updateQueue=e,yu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jd(n,e),n=n.sibling;return he(Xt,Xt.current&1|2),t.child}e=e.sibling}c.tail!==null&&lt()>bu&&(t.flags|=128,l=!0,$l(c,!1),t.lanes=4194304)}else{if(!l)if(e=fu(h),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,yu(t,e),$l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!ht)return Rt(t),null}else 2*lt()-c.renderingStartTime>bu&&n!==536870912&&(t.flags|=128,l=!0,$l(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(e=c.last,e!==null?e.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=lt(),t.sibling=null,e=Xt.current,he(Xt,l?e&1|2:e&1),t):(Rt(t),null);case 22:case 23:return Za(t),Hc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),n=t.updateQueue,n!==null&&yu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&ye(Oi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Wa(Qt),Rt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function wv(e,t){switch(Oc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wa(Qt),Te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $t(t),null;case 13:if(Za(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Xt),null;case 4:return Te(),null;case 10:return Wa(t.type),null;case 22:case 23:return Za(t),Hc(),e!==null&&ye(Oi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Wa(Qt),null;case 25:return null;default:return null}}function Om(e,t){switch(Oc(t),t.tag){case 3:Wa(Qt),Te();break;case 26:case 27:case 5:$t(t);break;case 4:Te();break;case 13:Za(t);break;case 19:ye(Xt);break;case 10:Wa(t.type);break;case 22:case 23:Za(t),Hc(),e!==null&&ye(Oi);break;case 24:Wa(Qt)}}function Yl(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var h=n.create,x=n.inst;l=h(),x.destroy=l}n=n.next}while(n!==c)}}catch(j){St(t,t.return,j)}}function Hr(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var x=l.inst,j=x.destroy;if(j!==void 0){x.destroy=void 0,c=t;var N=n,X=j;try{X()}catch(oe){St(c,N,oe)}}}l=l.next}while(l!==h)}}catch(oe){St(t,t.return,oe)}}function km(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mh(t,n)}catch(l){St(e,e.return,l)}}}function Tm(e,t,n){n.props=Ti(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){St(e,t,l)}}function Kl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){St(e,t,c)}}function ja(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){St(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){St(e,t,c)}else n.current=null}function Cm(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){St(e,e.return,c)}}function gf(e,t,n){try{var l=e.stateNode;Pv(l,e.type,n,t),l[Ze]=t}catch(c){St(e,e.return,c)}}function Am(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qr(e.type)||e.tag===4}function yf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Am(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pf(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tu));else if(l!==4&&(l===27&&Qr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(pf(e,t,n),e=e.sibling;e!==null;)pf(e,t,n),e=e.sibling}function pu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Qr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(pu(e,t,n),e=e.sibling;e!==null;)pu(e,t,n),e=e.sibling}function Dm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);un(t,l,n),t[Bt]=e,t[Ze]=n}catch(h){St(e,e.return,h)}}var tr=!1,Pt=!1,vf=!1,Nm=typeof WeakSet=="function"?WeakSet:Set,tn=null;function xv(e,t){if(e=e.containerInfo,$f=Uu,e=_(e),E(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var x=0,j=-1,N=-1,X=0,oe=0,de=e,J=null;t:for(;;){for(var ee;de!==n||c!==0&&de.nodeType!==3||(j=x+c),de!==h||l!==0&&de.nodeType!==3||(N=x+l),de.nodeType===3&&(x+=de.nodeValue.length),(ee=de.firstChild)!==null;)J=de,de=ee;for(;;){if(de===e)break t;if(J===n&&++X===c&&(j=x),J===h&&++oe===l&&(N=x),(ee=de.nextSibling)!==null)break;de=J,J=de.parentNode}de=ee}n=j===-1||N===-1?null:{start:j,end:N}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yf={focusedElem:e,selectionRange:n},Uu=!1,tn=t;tn!==null;)if(t=tn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,tn=e;else for(;tn!==null;){switch(t=tn,h=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,c=h.memoizedProps,h=h.memoizedState,l=n.stateNode;try{var Ge=Ti(n.type,c,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(Ge,h),l.__reactInternalSnapshotBeforeUpdate=e}catch($e){St(n,n.return,$e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,tn=e;break}tn=t.return}}function Rm(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Pr(e,n),l&4&&Yl(5,n);break;case 1:if(Pr(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(x){St(n,n.return,x)}else{var c=Ti(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){St(n,n.return,x)}}l&64&&km(n),l&512&&Kl(n,n.return);break;case 3:if(Pr(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mh(e,t)}catch(x){St(n,n.return,x)}}break;case 27:t===null&&l&4&&Dm(n);case 26:case 5:Pr(e,n),t===null&&l&4&&Cm(n),l&512&&Kl(n,n.return);break;case 12:Pr(e,n);break;case 13:Pr(e,n),l&4&&Lm(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Av.bind(null,n),Qv(e,n))));break;case 22:if(l=n.memoizedState!==null||tr,!l){t=t!==null&&t.memoizedState!==null||Pt,c=tr;var h=Pt;tr=l,(Pt=t)&&!h?$r(e,n,(n.subtreeFlags&8772)!==0):Pr(e,n),tr=c,Pt=h}break;case 30:break;default:Pr(e,n)}}function Mm(e){var t=e.alternate;t!==null&&(e.alternate=null,Mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Gn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,On=!1;function nr(e,t,n){for(n=n.child;n!==null;)Um(e,t,n),n=n.sibling}function Um(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(An,n)}catch{}switch(n.tag){case 26:Pt||ja(n,t),nr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pt||ja(n,t);var l=Dt,c=On;Qr(n.type)&&(Dt=n.stateNode,On=!1),nr(e,t,n),Jl(n.stateNode),Dt=l,On=c;break;case 5:Pt||ja(n,t);case 6:if(l=Dt,c=On,Dt=null,nr(e,t,n),Dt=l,On=c,Dt!==null)if(On)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(n.stateNode)}catch(h){St(n,t,h)}else try{Dt.removeChild(n.stateNode)}catch(h){St(n,t,h)}break;case 18:Dt!==null&&(On?(e=Dt,Sg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),lo(e)):Sg(Dt,n.stateNode));break;case 4:l=Dt,c=On,Dt=n.stateNode.containerInfo,On=!0,nr(e,t,n),Dt=l,On=c;break;case 0:case 11:case 14:case 15:Pt||Hr(2,n,t),Pt||Hr(4,n,t),nr(e,t,n);break;case 1:Pt||(ja(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Tm(n,t,l)),nr(e,t,n);break;case 21:nr(e,t,n);break;case 22:Pt=(l=Pt)||n.memoizedState!==null,nr(e,t,n),Pt=l;break;default:nr(e,t,n)}}function Lm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(n){St(t,t.return,n)}}function _v(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nm),t;default:throw Error(s(435,e.tag))}}function bf(e,t){var n=_v(e);t.forEach(function(l){var c=Dv.bind(null,e,l);n.has(l)||(n.add(l),l.then(c,c))})}function Un(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],h=e,x=t,j=x;e:for(;j!==null;){switch(j.tag){case 27:if(Qr(j.type)){Dt=j.stateNode,On=!1;break e}break;case 5:Dt=j.stateNode,On=!1;break e;case 3:case 4:Dt=j.stateNode.containerInfo,On=!0;break e}j=j.return}if(Dt===null)throw Error(s(160));Um(h,x,c),Dt=null,On=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}var la=null;function zm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Un(t,e),Ln(e),l&4&&(Hr(3,e,e.return),Yl(3,e),Hr(5,e,e.return));break;case 1:Un(t,e),Ln(e),l&512&&(Pt||n===null||ja(n,n.return)),l&64&&tr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=la;if(Un(t,e),Ln(e),l&512&&(Pt||n===null||ja(n,n.return)),l&4){var h=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ci]||h[Bt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),un(h,l,n),h[Bt]=e,xt(h),l=h;break e;case"link":var x=Dg("link","href",c).get(l+(n.href||""));if(x){for(var j=0;j<x.length;j++)if(h=x[j],h.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){x.splice(j,1);break t}}h=c.createElement(l),un(h,l,n),c.head.appendChild(h);break;case"meta":if(x=Dg("meta","content",c).get(l+(n.content||""))){for(j=0;j<x.length;j++)if(h=x[j],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){x.splice(j,1);break t}}h=c.createElement(l),un(h,l,n),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[Bt]=e,xt(h),l=h}e.stateNode=l}else Ng(c,e.type,e.stateNode);else e.stateNode=Ag(c,l,e.memoizedProps);else h!==l?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,l===null?Ng(c,e.type,e.stateNode):Ag(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&gf(e,e.memoizedProps,n.memoizedProps)}break;case 27:Un(t,e),Ln(e),l&512&&(Pt||n===null||ja(n,n.return)),n!==null&&l&4&&gf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Un(t,e),Ln(e),l&512&&(Pt||n===null||ja(n,n.return)),e.flags&32){c=e.stateNode;try{Sr(c,"")}catch(ee){St(e,e.return,ee)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,gf(e,c,n!==null?n.memoizedProps:c)),l&1024&&(vf=!0);break;case 6:if(Un(t,e),Ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ee){St(e,e.return,ee)}}break;case 3:if(Nu=null,c=la,la=Au(t.containerInfo),Un(t,e),la=c,Ln(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(ee){St(e,e.return,ee)}vf&&(vf=!1,Bm(e));break;case 4:l=la,la=Au(e.stateNode.containerInfo),Un(t,e),Ln(e),la=l;break;case 12:Un(t,e),Ln(e);break;case 13:Un(t,e),Ln(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(jf=lt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bf(e,l)));break;case 22:c=e.memoizedState!==null;var N=n!==null&&n.memoizedState!==null,X=tr,oe=Pt;if(tr=X||c,Pt=oe||N,Un(t,e),Pt=oe,tr=X,Ln(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||N||tr||Pt||Ci(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){N=n=t;try{if(h=N.stateNode,c)x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{j=N.stateNode;var de=N.memoizedProps.style,J=de!=null&&de.hasOwnProperty("display")?de.display:null;j.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){St(N,N.return,ee)}}}else if(t.tag===6){if(n===null){N=t;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(ee){St(N,N.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,bf(e,n))));break;case 19:Un(t,e),Ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bf(e,l)));break;case 30:break;case 21:break;default:Un(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Am(l)){n=l;break}l=l.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var c=n.stateNode,h=yf(e);pu(e,h,c);break;case 5:var x=n.stateNode;n.flags&32&&(Sr(x,""),n.flags&=-33);var j=yf(e);pu(e,j,x);break;case 3:case 4:var N=n.stateNode.containerInfo,X=yf(e);pf(e,X,N);break;default:throw Error(s(161))}}catch(oe){St(e,e.return,oe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Pr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rm(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hr(4,t,t.return),Ci(t);break;case 1:ja(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Tm(t,t.return,n),Ci(t);break;case 27:Jl(t.stateNode);case 26:case 5:ja(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function $r(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,h=t,x=h.flags;switch(h.tag){case 0:case 11:case 15:$r(c,h,n),Yl(4,h);break;case 1:if($r(c,h,n),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(X){St(l,l.return,X)}if(l=h,c=l.updateQueue,c!==null){var j=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)hh(N[c],j)}catch(X){St(l,l.return,X)}}n&&x&64&&km(h),Kl(h,h.return);break;case 27:Dm(h);case 26:case 5:$r(c,h,n),n&&l===null&&x&4&&Cm(h),Kl(h,h.return);break;case 12:$r(c,h,n);break;case 13:$r(c,h,n),n&&x&4&&Lm(c,h);break;case 22:h.memoizedState===null&&$r(c,h,n),Kl(h,h.return);break;case 30:break;default:$r(c,h,n)}t=t.sibling}}function wf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Cl(n))}function xf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cl(e))}function Oa(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qm(e,t,n,l),t=t.sibling}function qm(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Oa(e,t,n,l),c&2048&&Yl(9,t);break;case 1:Oa(e,t,n,l);break;case 3:Oa(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cl(e)));break;case 12:if(c&2048){Oa(e,t,n,l),e=t.stateNode;try{var h=t.memoizedProps,x=h.id,j=h.onPostCommit;typeof j=="function"&&j(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){St(t,t.return,N)}}else Oa(e,t,n,l);break;case 13:Oa(e,t,n,l);break;case 23:break;case 22:h=t.stateNode,x=t.alternate,t.memoizedState!==null?h._visibility&2?Oa(e,t,n,l):Gl(e,t):h._visibility&2?Oa(e,t,n,l):(h._visibility|=2,Es(e,t,n,l,(t.subtreeFlags&10256)!==0)),c&2048&&wf(x,t);break;case 24:Oa(e,t,n,l),c&2048&&xf(t.alternate,t);break;default:Oa(e,t,n,l)}}function Es(e,t,n,l,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var h=e,x=t,j=n,N=l,X=x.flags;switch(x.tag){case 0:case 11:case 15:Es(h,x,j,N,c),Yl(8,x);break;case 23:break;case 22:var oe=x.stateNode;x.memoizedState!==null?oe._visibility&2?Es(h,x,j,N,c):Gl(h,x):(oe._visibility|=2,Es(h,x,j,N,c)),c&&X&2048&&wf(x.alternate,x);break;case 24:Es(h,x,j,N,c),c&&X&2048&&xf(x.alternate,x);break;default:Es(h,x,j,N,c)}t=t.sibling}}function Gl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Gl(n,l),c&2048&&wf(l.alternate,l);break;case 24:Gl(n,l),c&2048&&xf(l.alternate,l);break;default:Gl(n,l)}t=t.sibling}}var Vl=8192;function js(e){if(e.subtreeFlags&Vl)for(e=e.child;e!==null;)Hm(e),e=e.sibling}function Hm(e){switch(e.tag){case 26:js(e),e.flags&Vl&&e.memoizedState!==null&&l0(la,e.memoizedState,e.memoizedProps);break;case 5:js(e);break;case 3:case 4:var t=la;la=Au(e.stateNode.containerInfo),js(e),la=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Vl,Vl=16777216,js(e),Vl=t):js(e));break;default:js(e)}}function Pm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Il(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];tn=l,Ym(l,e)}Pm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$m(e),e=e.sibling}function $m(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&Hr(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vu(e)):Il(e);break;default:Il(e)}}function vu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];tn=l,Ym(l,e)}Pm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hr(8,t,t.return),vu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,vu(t));break;default:vu(t)}e=e.sibling}}function Ym(e,t){for(;tn!==null;){var n=tn;switch(n.tag){case 0:case 11:case 15:Hr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,tn=l;else e:for(n=e;tn!==null;){l=tn;var c=l.sibling,h=l.return;if(Mm(l),l===n){tn=null;break e}if(c!==null){c.return=h,tn=c;break e}tn=h}}}var Sv={getCacheForType:function(e){var t=yn(Qt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Ev=typeof WeakMap=="function"?WeakMap:Map,mt=0,Et=null,at=null,ct=0,gt=0,zn=null,Yr=!1,Os=!1,_f=!1,ar=0,Lt=0,Kr=0,Ai=0,Sf=0,ea=0,ks=0,Ql=null,kn=null,Ef=!1,jf=0,bu=1/0,wu=null,Gr=null,on=0,Vr=null,Ts=null,Cs=0,Of=0,kf=null,Km=null,Xl=0,Tf=null;function Bn(){if((mt&2)!==0&&ct!==0)return ct&-ct;if(L.T!==null){var e=ys;return e!==0?e:Uf()}return Ra()}function Gm(){ea===0&&(ea=(ct&536870912)===0||ht?li():536870912);var e=Jn.current;return e!==null&&(e.flags|=32),ea}function qn(e,t,n){(e===Et&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(As(e,0),Ir(e,ct,ea,!1)),gr(e,n),((mt&2)===0||e!==Et)&&(e===Et&&((mt&2)===0&&(Ai|=n),Lt===4&&Ir(e,ct,ea,!1)),ka(e))}function Vm(e,t,n){if((mt&6)!==0)throw Error(s(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||aa(e,t),c=l?kv(e,t):Df(e,t,!0),h=l;do{if(c===0){Os&&!l&&Ir(e,t,0,!1);break}else{if(n=e.current.alternate,h&&!jv(n)){c=Df(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var j=e;c=Ql;var N=j.current.memoizedState.isDehydrated;if(N&&(As(j,x).flags|=256),x=Df(j,x,!1),x!==2){if(_f&&!N){j.errorRecoveryDisabledLanes|=h,Ai|=h,c=4;break e}h=kn,kn=c,h!==null&&(kn===null?kn=h:kn.push.apply(kn,h))}c=x}if(h=!1,c!==2)continue}}if(c===1){As(e,0),Ir(e,t,0,!0);break}e:{switch(l=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Ir(l,t,ea,!Yr);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=jf+300-lt(),10<c)){if(Ir(l,t,ea,!Yr),Me(l,0,!0)!==0)break e;l.timeoutHandle=xg(Im.bind(null,l,n,kn,wu,Ef,t,ea,Ai,ks,Yr,h,2,-0,0),c);break e}Im(l,n,kn,wu,Ef,t,ea,Ai,ks,Yr,h,0,-0,0)}}break}while(!0);ka(e)}function Im(e,t,n,l,c,h,x,j,N,X,oe,de,J,ee){if(e.timeoutHandle=-1,de=t.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(no={stylesheets:null,count:0,unsuspend:s0},Hm(t),de=o0(),de!==null)){e.cancelPendingCommit=de(eg.bind(null,e,t,h,n,l,c,x,j,N,oe,1,J,ee)),Ir(e,h,x,!X);return}eg(e,t,h,n,l,c,x,j,N)}function jv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],h=c.getSnapshot;c=c.value;try{if(!gn(h(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t,n,l){t&=~Sf,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var h=31-It(c),x=1<<h;l[h]=-1,c&=~x}n!==0&&el(e,n,t)}function xu(){return(mt&6)===0?(Wl(0),!1):!0}function Cf(){if(at!==null){if(gt===0)var e=at.return;else e=at,Xa=Ei=null,Gc(e),_s=null,Hl=0,e=at;for(;e!==null;)Om(e.alternate,e),e=e.return;at=null}}function As(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Yv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cf(),Et=e,at=n=Va(e.current,null),ct=t,gt=0,zn=null,Yr=!1,Os=aa(e,t),_f=!1,ks=ea=Sf=Ai=Kr=Lt=0,kn=Ql=null,Ef=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-It(l),h=1<<c;t|=e[c],l&=~h}return ar=t,Ke(),n}function Qm(e,t){Je=null,L.H=ou,t===Dl||t===Zo?(t=fh(),gt=3):t===oh?(t=fh(),gt=4):gt=t===dm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zn=t,at===null&&(Lt=1,hu(e,qe(t,e.current)))}function Xm(){var e=L.H;return L.H=ou,e===null?ou:e}function Wm(){var e=L.A;return L.A=Sv,e}function Af(){Lt=4,Yr||(ct&4194048)!==ct&&Jn.current!==null||(Os=!0),(Kr&134217727)===0&&(Ai&134217727)===0||Et===null||Ir(Et,ct,ea,!1)}function Df(e,t,n){var l=mt;mt|=2;var c=Xm(),h=Wm();(Et!==e||ct!==t)&&(wu=null,As(e,t)),t=!1;var x=Lt;e:do try{if(gt!==0&&at!==null){var j=at,N=zn;switch(gt){case 8:Cf(),x=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(t=!0);var X=gt;if(gt=0,zn=null,Ds(e,j,N,X),n&&Os){x=0;break e}break;default:X=gt,gt=0,zn=null,Ds(e,j,N,X)}}Ov(),x=Lt;break}catch(oe){Qm(e,oe)}while(!0);return t&&e.shellSuspendCounter++,Xa=Ei=null,mt=l,L.H=c,L.A=h,at===null&&(Et=null,ct=0,Ke()),x}function Ov(){for(;at!==null;)Fm(at)}function kv(e,t){var n=mt;mt|=2;var l=Xm(),c=Wm();Et!==e||ct!==t?(wu=null,bu=lt()+500,As(e,t)):Os=aa(e,t);e:do try{if(gt!==0&&at!==null){t=at;var h=zn;t:switch(gt){case 1:gt=0,zn=null,Ds(e,t,h,1);break;case 2:case 9:if(uh(h)){gt=0,zn=null,Zm(t);break}t=function(){gt!==2&&gt!==9||Et!==e||(gt=7),ka(e)},h.then(t,t);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:uh(h)?(gt=0,zn=null,Zm(t)):(gt=0,zn=null,Ds(e,t,h,7));break;case 5:var x=null;switch(at.tag){case 26:x=at.memoizedState;case 5:case 27:var j=at;if(!x||Rg(x)){gt=0,zn=null;var N=j.sibling;if(N!==null)at=N;else{var X=j.return;X!==null?(at=X,_u(X)):at=null}break t}}gt=0,zn=null,Ds(e,t,h,5);break;case 6:gt=0,zn=null,Ds(e,t,h,6);break;case 8:Cf(),Lt=6;break e;default:throw Error(s(462))}}Tv();break}catch(oe){Qm(e,oe)}while(!0);return Xa=Ei=null,L.H=l,L.A=c,mt=n,at!==null?0:(Et=null,ct=0,Ke(),Lt)}function Tv(){for(;at!==null&&!Hn();)Fm(at)}function Fm(e){var t=Em(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?_u(e):at=t}function Zm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vm(n,t,t.pendingProps,t.type,void 0,ct);break;case 11:t=vm(n,t,t.pendingProps,t.type.render,t.ref,ct);break;case 5:Gc(t);default:Om(n,t),t=at=Jd(t,ar),t=Em(n,t,ar)}e.memoizedProps=e.pendingProps,t===null?_u(e):at=t}function Ds(e,t,n,l){Xa=Ei=null,Gc(t),_s=null,Hl=0;var c=t.return;try{if(pv(e,c,t,n,ct)){Lt=1,hu(e,qe(n,e.current)),at=null;return}}catch(h){if(c!==null)throw at=c,h;Lt=1,hu(e,qe(n,e.current)),at=null;return}t.flags&32768?(ht||l===1?e=!0:Os||(ct&536870912)!==0?e=!1:(Yr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jm(t,e)):_u(t)}function _u(e){var t=e;do{if((t.flags&32768)!==0){Jm(t,Yr);return}e=t.return;var n=bv(t.alternate,t,ar);if(n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);Lt===0&&(Lt=5)}function Jm(e,t){do{var n=wv(e.alternate,e);if(n!==null){n.flags&=32767,at=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){at=e;return}at=e=n}while(e!==null);Lt=6,at=null}function eg(e,t,n,l,c,h,x,j,N){e.cancelPendingCommit=null;do Su();while(on!==0);if((mt&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(h=t.lanes|t.childLanes,h|=sn,Js(e,n,h,x,j,N),e===Et&&(at=Et=null,ct=0),Ts=t,Vr=e,Cs=n,Of=h,kf=c,Km=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nv(bn,function(){return ig(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,c=re.p,re.p=2,x=mt,mt|=4;try{xv(e,t,n)}finally{mt=x,re.p=c,L.T=l}}on=1,tg(),ng(),ag()}}function tg(){if(on===1){on=0;var e=Vr,t=Ts,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var l=re.p;re.p=2;var c=mt;mt|=4;try{zm(t,e);var h=Yf,x=_(e.containerInfo),j=h.focusedElem,N=h.selectionRange;if(x!==j&&j&&j.ownerDocument&&w(j.ownerDocument.documentElement,j)){if(N!==null&&E(j)){var X=N.start,oe=N.end;if(oe===void 0&&(oe=X),"selectionStart"in j)j.selectionStart=X,j.selectionEnd=Math.min(oe,j.value.length);else{var de=j.ownerDocument||document,J=de&&de.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ge=j.textContent.length,$e=Math.min(N.start,Ge),bt=N.end===void 0?$e:Math.min(N.end,Ge);!ee.extend&&$e>bt&&(x=bt,bt=$e,$e=x);var K=g(j,$e),q=g(j,bt);if(K&&q&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==q.node||ee.focusOffset!==q.offset)){var Q=de.createRange();Q.setStart(K.node,K.offset),ee.removeAllRanges(),$e>bt?(ee.addRange(Q),ee.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),ee.addRange(Q))}}}}for(de=[],ee=j;ee=ee.parentNode;)ee.nodeType===1&&de.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<de.length;j++){var fe=de[j];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Uu=!!$f,Yf=$f=null}finally{mt=c,re.p=l,L.T=n}}e.current=t,on=2}}function ng(){if(on===2){on=0;var e=Vr,t=Ts,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var l=re.p;re.p=2;var c=mt;mt|=4;try{Rm(e,t.alternate,t)}finally{mt=c,re.p=l,L.T=n}}on=3}}function ag(){if(on===4||on===3){on=0,De();var e=Vr,t=Ts,n=Cs,l=Km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?on=5:(on=0,Ts=Vr=null,rg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Gr=null),nl(n),t=t.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(An,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,c=re.p,re.p=2,L.T=null;try{for(var h=e.onRecoverableError,x=0;x<l.length;x++){var j=l[x];h(j.value,{componentStack:j.stack})}}finally{L.T=t,re.p=c}}(Cs&3)!==0&&Su(),ka(e),c=e.pendingLanes,(n&4194090)!==0&&(c&42)!==0?e===Tf?Xl++:(Xl=0,Tf=e):Xl=0,Wl(0)}}function rg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cl(t)))}function Su(e){return tg(),ng(),ag(),ig()}function ig(){if(on!==5)return!1;var e=Vr,t=Of;Of=0;var n=nl(Cs),l=L.T,c=re.p;try{re.p=32>n?32:n,L.T=null,n=kf,kf=null;var h=Vr,x=Cs;if(on=0,Ts=Vr=null,Cs=0,(mt&6)!==0)throw Error(s(331));var j=mt;if(mt|=4,$m(h.current),qm(h,h.current,x,n),mt=j,Wl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(An,h)}catch{}return!0}finally{re.p=c,L.T=l,rg(e,t)}}function sg(e,t,n){t=qe(n,t),t=sf(e.stateNode,t,2),e=Lr(e,t,2),e!==null&&(gr(e,2),ka(e))}function St(e,t,n){if(e.tag===3)sg(e,e,n);else for(;t!==null;){if(t.tag===3){sg(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){e=qe(n,e),n=cm(2),l=Lr(t,n,2),l!==null&&(fm(n,l,t,e),gr(l,2),ka(l));break}}t=t.return}}function Nf(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Ev;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(_f=!0,c.add(n),e=Cv.bind(null,e,t,n),t.then(e,e))}function Cv(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(ct&n)===n&&(Lt===4||Lt===3&&(ct&62914560)===ct&&300>lt()-jf?(mt&2)===0&&As(e,0):Sf|=n,ks===ct&&(ks=0)),ka(e)}function lg(e,t){t===0&&(t=Oe()),e=sa(e,t),e!==null&&(gr(e,t),ka(e))}function Av(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lg(e,n)}function Dv(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),lg(e,n)}function Nv(e,t){return fn(e,t)}var Eu=null,Ns=null,Rf=!1,ju=!1,Mf=!1,Di=0;function ka(e){e!==Ns&&e.next===null&&(Ns===null?Eu=Ns=e:Ns=Ns.next=e),ju=!0,Rf||(Rf=!0,Mv())}function Wl(e,t){if(!Mf&&ju){Mf=!0;do for(var n=!1,l=Eu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var x=l.suspendedLanes,j=l.pingedLanes;h=(1<<31-It(42|e)+1)-1,h&=c&~(x&~j),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(n=!0,fg(l,h))}else h=ct,h=Me(l,l===Et?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||aa(l,h)||(n=!0,fg(l,h));l=l.next}while(n);Mf=!1}}function Rv(){og()}function og(){ju=Rf=!1;var e=0;Di!==0&&($v()&&(e=Di),Di=0);for(var t=lt(),n=null,l=Eu;l!==null;){var c=l.next,h=ug(l,t);h===0?(l.next=null,n===null?Eu=c:n.next=c,c===null&&(Ns=n)):(n=l,(e!==0||(h&3)!==0)&&(ju=!0)),l=c}Wl(e)}function ug(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var x=31-It(h),j=1<<x,N=c[x];N===-1?((j&n)===0||(j&l)!==0)&&(c[x]=Na(j,t)):N<=t&&(e.expiredLanes|=j),h&=~j}if(t=Et,n=ct,n=Me(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&dr(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||aa(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&dr(l),nl(n)){case 2:case 8:n=Yi;break;case 32:n=bn;break;case 268435456:n=hr;break;default:n=bn}return l=cg.bind(null,e),n=fn(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&dr(l),e.callbackPriority=2,e.callbackNode=null,2}function cg(e,t){if(on!==0&&on!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var l=ct;return l=Me(e,e===Et?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Vm(e,l,t),ug(e,lt()),e.callbackNode!=null&&e.callbackNode===n?cg.bind(null,e):null)}function fg(e,t){if(Su())return null;Vm(e,t,!0)}function Mv(){Kv(function(){(mt&6)!==0?fn($n,Rv):og()})}function Uf(){return Di===0&&(Di=li()),Di}function dg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:za(""+e)}function hg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Uv(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var h=dg((c[Ze]||null).action),x=l.submitter;x&&(t=(t=x[Ze]||null)?dg(t.formAction):x.getAttribute("formAction"),t!==null&&(h=t,x=null));var j=new Zi("action","action",null,l,c);e.push({event:j,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Di!==0){var N=x?hg(c,x):new FormData(c);ef(n,{pending:!0,data:N,method:c.method,action:h},null,N)}}else typeof h=="function"&&(j.preventDefault(),N=x?hg(c,x):new FormData(c),ef(n,{pending:!0,data:N,method:c.method,action:h},h,N))},currentTarget:c}]})}}for(var Lf=0;Lf<Ee.length;Lf++){var zf=Ee[Lf],Lv=zf.toLowerCase(),zv=zf[0].toUpperCase()+zf.slice(1);be(Lv,"on"+zv)}be(F,"onAnimationEnd"),be(te,"onAnimationIteration"),be(ne,"onAnimationStart"),be("dblclick","onDoubleClick"),be("focusin","onFocus"),be("focusout","onBlur"),be(le,"onTransitionRun"),be(we,"onTransitionStart"),be(Se,"onTransitionCancel"),be(ve,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function mg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var x=l.length-1;0<=x;x--){var j=l[x],N=j.instance,X=j.currentTarget;if(j=j.listener,N!==h&&c.isPropagationStopped())break e;h=j,c.currentTarget=X;try{h(c)}catch(oe){du(oe)}c.currentTarget=null,h=N}else for(x=0;x<l.length;x++){if(j=l[x],N=j.instance,X=j.currentTarget,j=j.listener,N!==h&&c.isPropagationStopped())break e;h=j,c.currentTarget=X;try{h(c)}catch(oe){du(oe)}c.currentTarget=null,h=N}}}}function rt(e,t){var n=t[al];n===void 0&&(n=t[al]=new Set);var l=e+"__bubble";n.has(l)||(gg(t,e,2,!1),n.add(l))}function Bf(e,t,n){var l=0;t&&(l|=4),gg(n,e,l,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function qf(e){if(!e[Ou]){e[Ou]=!0,rl.forEach(function(n){n!=="selectionchange"&&(Bv.has(n)||Bf(n,!1,e),Bf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ou]||(t[Ou]=!0,Bf("selectionchange",!1,t))}}function gg(e,t,n,l){switch(qg(t)){case 2:var c=f0;break;case 8:c=d0;break;default:c=Jf}n=c.bind(null,t,n,e),c=void 0,!fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Hf(e,t,n,l,c){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var j=l.stateNode.containerInfo;if(j===c)break;if(x===4)for(x=l.return;x!==null;){var N=x.tag;if((N===3||N===4)&&x.stateNode.containerInfo===c)return;x=x.return}for(;j!==null;){if(x=Dn(j),x===null)return;if(N=x.tag,N===5||N===6||N===26||N===27){l=h=x;continue e}j=j.parentNode}}l=l.return}jr(function(){var X=h,oe=Wi(n),de=[];e:{var J=xe.get(e);if(J!==void 0){var ee=Zi,Ge=e;switch(e){case"keypress":if(Tr(n)===0)break e;case"keydown":case"keyup":ee=ss;break;case"focusin":Ge="focus",ee=Cr;break;case"focusout":Ge="blur",ee=Cr;break;case"beforeblur":case"afterblur":ee=Cr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=vl;break;case F:case te:case ne:ee=Lo;break;case ve:ee=bl;break;case"scroll":case"scrollend":ee=Ji;break;case"wheel":ee=os;break;case"copy":case"cut":case"paste":ee=rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=pl;break;case"toggle":case"beforetoggle":ee=qo}var $e=(t&4)!==0,bt=!$e&&(e==="scroll"||e==="scrollend"),K=$e?J!==null?J+"Capture":null:J;$e=[];for(var q=X,Q;q!==null;){var fe=q;if(Q=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Q===null||K===null||(fe=Ha(q,K),fe!=null&&$e.push(Zl(q,fe,Q))),bt)break;q=q.return}0<$e.length&&(J=new ee(J,Ge,null,n,oe),de.push({event:J,listeners:$e}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",J&&n!==In&&(Ge=n.relatedTarget||n.fromElement)&&(Dn(Ge)||Ge[Ot]))break e;if((ee||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ge=n.relatedTarget||n.toElement,ee=X,Ge=Ge?Dn(Ge):null,Ge!==null&&(bt=f(Ge),$e=Ge.tag,Ge!==bt||$e!==5&&$e!==27&&$e!==6)&&(Ge=null)):(ee=null,Ge=X),ee!==Ge)){if($e=ts,fe="onMouseLeave",K="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&($e=pl,fe="onPointerLeave",K="onPointerEnter",q="pointer"),bt=ee==null?J:da(ee),Q=Ge==null?J:da(Ge),J=new $e(fe,q+"leave",ee,n,oe),J.target=bt,J.relatedTarget=Q,fe=null,Dn(oe)===X&&($e=new $e(K,q+"enter",Ge,n,oe),$e.target=Q,$e.relatedTarget=bt,fe=$e),bt=fe,ee&&Ge)t:{for($e=ee,K=Ge,q=0,Q=$e;Q;Q=Rs(Q))q++;for(Q=0,fe=K;fe;fe=Rs(fe))Q++;for(;0<q-Q;)$e=Rs($e),q--;for(;0<Q-q;)K=Rs(K),Q--;for(;q--;){if($e===K||K!==null&&$e===K.alternate)break t;$e=Rs($e),K=Rs(K)}$e=null}else $e=null;ee!==null&&yg(de,J,ee,$e,!1),Ge!==null&&bt!==null&&yg(de,bt,Ge,$e,!0)}}e:{if(J=X?da(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Re=vi;else if(fs(J))if(Xn)Re=Nr;else{Re=Ga;var et=Go}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&cl(X.elementType)&&(Re=vi):Re=El;if(Re&&(Re=Re(e,X))){Sl(de,Re,n,oe);break e}et&&et(e,J,X),e==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&xr(J,"number",J.value)}switch(et=X?da(X):window,e){case"focusin":(fs(et)||et.contentEditable==="true")&&(D=et,B=X,H=null);break;case"focusout":H=B=D=null;break;case"mousedown":Y=!0;break;case"contextmenu":case"mouseup":case"dragend":Y=!1,M(de,n,oe);break;case"selectionchange":if(k)break;case"keydown":case"keyup":M(de,n,oe)}var Be;if(yi)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ka?_l(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(us&&n.locale!=="ko"&&(Ka||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ka&&(Be=kr()):(Qn=oe,Fi="value"in Qn?Qn.value:Qn.textContent,Ka=!0)),et=ku(X,Ye),0<et.length&&(Ye=new is(Ye,e,null,n,oe),de.push({event:Ye,listeners:et}),Be?Ye.data=Be:(Be=Po(n),Be!==null&&(Ye.data=Be)))),(Be=bc?$o(e,n):wc(e,n))&&(Ye=ku(X,"onBeforeInput"),0<Ye.length&&(et=new is("onBeforeInput","beforeinput",null,n,oe),de.push({event:et,listeners:Ye}),et.data=Be)),Uv(de,e,X,n,oe)}mg(de,t)})}function Zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ku(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ha(e,n),c!=null&&l.unshift(Zl(e,c,h)),c=Ha(e,t),c!=null&&l.push(Zl(e,c,h))),e.tag===3)return l;e=e.return}return[]}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yg(e,t,n,l,c){for(var h=t._reactName,x=[];n!==null&&n!==l;){var j=n,N=j.alternate,X=j.stateNode;if(j=j.tag,N!==null&&N===l)break;j!==5&&j!==26&&j!==27||X===null||(N=X,c?(X=Ha(n,h),X!=null&&x.unshift(Zl(n,X,N))):c||(X=Ha(n,h),X!=null&&x.push(Zl(n,X,N)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var qv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function pg(e){return(typeof e=="string"?e:""+e).replace(qv,`
`).replace(Hv,"")}function vg(e,t){return t=pg(t),pg(e)===t}function Tu(){}function vt(e,t,n,l,c,h){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Sr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Sr(e,""+l);break;case"className":Ma(e,"class",l);break;case"tabIndex":Ma(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ma(e,n,l);break;case"style":Ro(e,l,h);break;case"data":if(t!=="object"){Ma(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=za(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&vt(e,t,"name",c.name,c,null),vt(e,t,"formEncType",c.formEncType,c,null),vt(e,t,"formMethod",c.formMethod,c,null),vt(e,t,"formTarget",c.formTarget,c,null)):(vt(e,t,"encType",c.encType,c,null),vt(e,t,"method",c.method,c,null),vt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=za(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Tu);break;case"onScroll":l!=null&&rt("scroll",e);break;case"onScrollEnd":l!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=za(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":rt("beforetoggle",e),rt("toggle",e),ra(e,"popover",l);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ra(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=_n.get(n)||n,ra(e,n,l))}}function Pf(e,t,n,l,c,h){switch(n){case"style":Ro(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Sr(e,l):(typeof l=="number"||typeof l=="bigint")&&Sr(e,""+l);break;case"onScroll":l!=null&&rt("scroll",e);break;case"onScrollEnd":l!=null&&rt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),h=e[Ze]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ra(e,n,l)}}}function un(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var l=!1,c=!1,h;for(h in n)if(n.hasOwnProperty(h)){var x=n[h];if(x!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:vt(e,t,h,x,n,null)}}c&&vt(e,t,"srcSet",n.srcSet,n,null),l&&vt(e,t,"src",n.src,n,null);return;case"input":rt("invalid",e);var j=h=x=c=null,N=null,X=null;for(l in n)if(n.hasOwnProperty(l)){var oe=n[l];if(oe!=null)switch(l){case"name":c=oe;break;case"type":x=oe;break;case"checked":N=oe;break;case"defaultChecked":X=oe;break;case"value":h=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,t));break;default:vt(e,t,l,oe,n,null)}}ol(e,h,j,N,X,x,c,!1),va(e);return;case"select":rt("invalid",e),l=x=h=null;for(c in n)if(n.hasOwnProperty(c)&&(j=n[c],j!=null))switch(c){case"value":h=j;break;case"defaultValue":x=j;break;case"multiple":l=j;default:vt(e,t,c,j,n,null)}t=h,n=x,e.multiple=!!l,t!=null?La(e,!!l,t,!1):n!=null&&La(e,!!l,n,!0);return;case"textarea":rt("invalid",e),h=c=l=null;for(x in n)if(n.hasOwnProperty(x)&&(j=n[x],j!=null))switch(x){case"value":l=j;break;case"defaultValue":c=j;break;case"children":h=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:vt(e,t,x,j,n,null)}ul(e,l,c,h),va(e);return;case"option":for(N in n)if(n.hasOwnProperty(N)&&(l=n[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(e,t,N,l,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(l=0;l<Fl.length;l++)rt(Fl[l],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in n)if(n.hasOwnProperty(X)&&(l=n[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:vt(e,t,X,l,n,null)}return;default:if(cl(t)){for(oe in n)n.hasOwnProperty(oe)&&(l=n[oe],l!==void 0&&Pf(e,t,oe,l,n,void 0));return}}for(j in n)n.hasOwnProperty(j)&&(l=n[j],l!=null&&vt(e,t,j,l,n,null))}function Pv(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,x=null,j=null,N=null,X=null,oe=null;for(ee in n){var de=n[ee];if(n.hasOwnProperty(ee)&&de!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":N=de;default:l.hasOwnProperty(ee)||vt(e,t,ee,null,l,de)}}for(var J in l){var ee=l[J];if(de=n[J],l.hasOwnProperty(J)&&(ee!=null||de!=null))switch(J){case"type":h=ee;break;case"name":c=ee;break;case"checked":X=ee;break;case"defaultChecked":oe=ee;break;case"value":x=ee;break;case"defaultValue":j=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,t));break;default:ee!==de&&vt(e,t,J,ee,l,de)}}wr(e,x,j,N,X,oe,h,c);return;case"select":ee=x=j=J=null;for(h in n)if(N=n[h],n.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":ee=N;default:l.hasOwnProperty(h)||vt(e,t,h,null,l,N)}for(c in l)if(h=l[c],N=n[c],l.hasOwnProperty(c)&&(h!=null||N!=null))switch(c){case"value":J=h;break;case"defaultValue":j=h;break;case"multiple":x=h;default:h!==N&&vt(e,t,c,h,l,N)}t=j,n=x,l=ee,J!=null?La(e,!!n,J,!1):!!l!=!!n&&(t!=null?La(e,!!n,t,!0):La(e,!!n,n?[]:"",!1));return;case"textarea":ee=J=null;for(j in n)if(c=n[j],n.hasOwnProperty(j)&&c!=null&&!l.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:vt(e,t,j,null,l,c)}for(x in l)if(c=l[x],h=n[x],l.hasOwnProperty(x)&&(c!=null||h!=null))switch(x){case"value":J=c;break;case"defaultValue":ee=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&vt(e,t,x,c,l,h)}_r(e,J,ee);return;case"option":for(var Ge in n)if(J=n[Ge],n.hasOwnProperty(Ge)&&J!=null&&!l.hasOwnProperty(Ge))switch(Ge){case"selected":e.selected=!1;break;default:vt(e,t,Ge,null,l,J)}for(N in l)if(J=l[N],ee=n[N],l.hasOwnProperty(N)&&J!==ee&&(J!=null||ee!=null))switch(N){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:vt(e,t,N,J,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in n)J=n[$e],n.hasOwnProperty($e)&&J!=null&&!l.hasOwnProperty($e)&&vt(e,t,$e,null,l,J);for(X in l)if(J=l[X],ee=n[X],l.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,t));break;default:vt(e,t,X,J,l,ee)}return;default:if(cl(t)){for(var bt in n)J=n[bt],n.hasOwnProperty(bt)&&J!==void 0&&!l.hasOwnProperty(bt)&&Pf(e,t,bt,void 0,l,J);for(oe in l)J=l[oe],ee=n[oe],!l.hasOwnProperty(oe)||J===ee||J===void 0&&ee===void 0||Pf(e,t,oe,J,l,ee);return}}for(var K in n)J=n[K],n.hasOwnProperty(K)&&J!=null&&!l.hasOwnProperty(K)&&vt(e,t,K,null,l,J);for(de in l)J=l[de],ee=n[de],!l.hasOwnProperty(de)||J===ee||J==null&&ee==null||vt(e,t,de,J,l,ee)}var $f=null,Yf=null;function Cu(e){return e.nodeType===9?e:e.ownerDocument}function bg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gf=null;function $v(){var e=window.event;return e&&e.type==="popstate"?e===Gf?!1:(Gf=e,!0):(Gf=null,!1)}var xg=typeof setTimeout=="function"?setTimeout:void 0,Yv=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,Kv=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(e){return _g.resolve(null).then(e).catch(Gv)}:xg;function Gv(e){setTimeout(function(){throw e})}function Qr(e){return e==="head"}function Sg(e,t){var n=t,l=0,c=0;do{var h=n.nextSibling;if(e.removeChild(n),h&&h.nodeType===8)if(n=h.data,n==="/$"){if(0<l&&8>l){n=l;var x=e.ownerDocument;if(n&1&&Jl(x.documentElement),n&2&&Jl(x.body),n&4)for(n=x.head,Jl(n),x=n.firstChild;x;){var j=x.nextSibling,N=x.nodeName;x[ci]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=j}}if(c===0){e.removeChild(h),lo(t);return}c--}else n==="$"||n==="$?"||n==="$!"?c++:l=n.charCodeAt(0)-48;else l=0;n=h}while(n);lo(t)}function Vf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vf(n),Gn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Vv(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=oa(e.nextSibling),e===null)break}return null}function Iv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=oa(e.nextSibling),e===null))return null;return e}function If(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Qv(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qf=null;function Eg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function jg(e,t,n){switch(t=Cu(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Jl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Gn(e)}var ta=new Map,Og=new Set;function Au(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rr=re.d;re.d={f:Xv,r:Wv,D:Fv,C:Zv,L:Jv,m:e0,X:n0,S:t0,M:a0};function Xv(){var e=rr.f(),t=xu();return e||t}function Wv(e){var t=wn(e);t!==null&&t.tag===5&&t.type==="form"?Vh(t):rr.r(e)}var Ms=typeof document>"u"?null:document;function kg(e,t,n){var l=Ms;if(l&&typeof t=="string"&&t){var c=hn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Og.has(c)||(Og.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),un(t,"link",e),xt(t),l.head.appendChild(t)))}}function Fv(e){rr.D(e),kg("dns-prefetch",e,null)}function Zv(e,t){rr.C(e,t),kg("preconnect",e,t)}function Jv(e,t,n){rr.L(e,t,n);var l=Ms;if(l&&e&&t){var c='link[rel="preload"][as="'+hn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+hn(n.imageSizes)+'"]')):c+='[href="'+hn(e)+'"]';var h=c;switch(t){case"style":h=Us(e);break;case"script":h=Ls(e)}ta.has(h)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ta.set(h,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(eo(h))||t==="script"&&l.querySelector(to(h))||(t=l.createElement("link"),un(t,"link",e),xt(t),l.head.appendChild(t)))}}function e0(e,t){rr.m(e,t);var n=Ms;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ls(e)}if(!ta.has(h)&&(e=S({rel:"modulepreload",href:e},t),ta.set(h,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(to(h)))return}l=n.createElement("link"),un(l,"link",e),xt(l),n.head.appendChild(l)}}}function t0(e,t,n){rr.S(e,t,n);var l=Ms;if(l&&e){var c=pr(l).hoistableStyles,h=Us(e);t=t||"default";var x=c.get(h);if(!x){var j={loading:0,preload:null};if(x=l.querySelector(eo(h)))j.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ta.get(h))&&Xf(e,n);var N=x=l.createElement("link");xt(N),un(N,"link",e),N._p=new Promise(function(X,oe){N.onload=X,N.onerror=oe}),N.addEventListener("load",function(){j.loading|=1}),N.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Du(x,t,l)}x={type:"stylesheet",instance:x,count:1,state:j},c.set(h,x)}}}function n0(e,t){rr.X(e,t);var n=Ms;if(n&&e){var l=pr(n).hoistableScripts,c=Ls(e),h=l.get(c);h||(h=n.querySelector(to(c)),h||(e=S({src:e,async:!0},t),(t=ta.get(c))&&Wf(e,t),h=n.createElement("script"),xt(h),un(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function a0(e,t){rr.M(e,t);var n=Ms;if(n&&e){var l=pr(n).hoistableScripts,c=Ls(e),h=l.get(c);h||(h=n.querySelector(to(c)),h||(e=S({src:e,async:!0,type:"module"},t),(t=ta.get(c))&&Wf(e,t),h=n.createElement("script"),xt(h),un(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Tg(e,t,n,l){var c=(c=ze.current)?Au(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Us(n.href),n=pr(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Us(n.href);var h=pr(c).hoistableStyles,x=h.get(e);if(x||(c=c.ownerDocument||c,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,x),(h=c.querySelector(eo(e)))&&!h._p&&(x.instance=h,x.state.loading=5),ta.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ta.set(e,n),h||r0(c,e,n,x.state))),t&&l===null)throw Error(s(528,""));return x}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ls(n),n=pr(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Us(e){return'href="'+hn(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function Cg(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function r0(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),un(t,"link",n),xt(t),e.head.appendChild(t))}function Ls(e){return'[src="'+hn(e)+'"]'}function to(e){return"script[async]"+e}function Ag(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+hn(n.href)+'"]');if(l)return t.instance=l,xt(l),l;var c=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xt(l),un(l,"style",c),Du(l,n.precedence,e),t.instance=l;case"stylesheet":c=Us(n.href);var h=e.querySelector(eo(c));if(h)return t.state.loading|=4,t.instance=h,xt(h),h;l=Cg(n),(c=ta.get(c))&&Xf(l,c),h=(e.ownerDocument||e).createElement("link"),xt(h);var x=h;return x._p=new Promise(function(j,N){x.onload=j,x.onerror=N}),un(h,"link",l),t.state.loading|=4,Du(h,n.precedence,e),t.instance=h;case"script":return h=Ls(n.src),(c=e.querySelector(to(h)))?(t.instance=c,xt(c),c):(l=n,(c=ta.get(h))&&(l=S({},n),Wf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),xt(c),un(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Du(l,n.precedence,e));return t.instance}function Du(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,x=0;x<l.length;x++){var j=l[x];if(j.dataset.precedence===t)h=j;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nu=null;function Dg(e,t,n){if(Nu===null){var l=new Map,c=Nu=new Map;c.set(n,l)}else c=Nu,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var h=n[c];if(!(h[ci]||h[Bt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var x=h.getAttribute(t)||"";x=e+x;var j=l.get(x);j?j.push(h):l.set(x,[h])}}return l}function Ng(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function i0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var no=null;function s0(){}function l0(e,t,n){if(no===null)throw Error(s(475));var l=no;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=Us(n.href),h=e.querySelector(eo(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ru.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=h,xt(h);return}h=e.ownerDocument||e,n=Cg(n),(c=ta.get(c))&&Xf(n,c),h=h.createElement("link"),xt(h);var x=h;x._p=new Promise(function(j,N){x.onload=j,x.onerror=N}),un(h,"link",n),t.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Ru.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function o0(){if(no===null)throw Error(s(475));var e=no;return e.stylesheets&&e.count===0&&Ff(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ff(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ru(){if(this.count--,this.count===0){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function Ff(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,t.forEach(u0,e),Mu=null,Ru.call(e))}function u0(e,t){if(!(t.state.loading&4)){var n=Mu.get(e);if(n)var l=n.get(null);else{n=new Map,Mu.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var x=c[h];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(n.set(x.dataset.precedence,x),l=x)}l&&n.set(null,l)}c=t.instance,x=c.getAttribute("data-precedence"),h=n.get(x)||l,h===l&&n.set(null,c),n.set(x,c),this.count++,l=Ru.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ao={$$typeof:ce,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function c0(e,t,n,l,c,h,x,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Mg(e,t,n,l,c,h,x,j,N,X,oe,de){return e=new c0(e,t,n,x,j,N,X,de),t=1,h===!0&&(t|=24),h=Mn(3,null,null,t),e.current=h,h.stateNode=e,t=Dc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:n,cache:t},Uc(h),e}function Ug(e){return e?(e=_a,e):_a}function Lg(e,t,n,l,c,h){c=Ug(c),l.context===null?l.context=c:l.pendingContext=c,l=Ur(t),l.payload={element:n},h=h===void 0?null:h,h!==null&&(l.callback=h),n=Lr(e,l,t),n!==null&&(qn(n,e,t),Rl(n,e,t))}function zg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zf(e,t){zg(e,t),(e=e.alternate)&&zg(e,t)}function Bg(e){if(e.tag===13){var t=sa(e,67108864);t!==null&&qn(t,e,67108864),Zf(e,67108864)}}var Uu=!0;function f0(e,t,n,l){var c=L.T;L.T=null;var h=re.p;try{re.p=2,Jf(e,t,n,l)}finally{re.p=h,L.T=c}}function d0(e,t,n,l){var c=L.T;L.T=null;var h=re.p;try{re.p=8,Jf(e,t,n,l)}finally{re.p=h,L.T=c}}function Jf(e,t,n,l){if(Uu){var c=ed(l);if(c===null)Hf(e,t,l,Lu,n),Hg(e,l);else if(m0(c,e,t,n,l))l.stopPropagation();else if(Hg(e,l),t&4&&-1<h0.indexOf(e)){for(;c!==null;){var h=wn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var x=dn(h.pendingLanes);if(x!==0){var j=h;for(j.pendingLanes|=2,j.entangledLanes|=2;x;){var N=1<<31-It(x);j.entanglements[1]|=N,x&=~N}ka(h),(mt&6)===0&&(bu=lt()+500,Wl(0))}}break;case 13:j=sa(h,2),j!==null&&qn(j,h,2),xu(),Zf(h,2)}if(h=ed(l),h===null&&Hf(e,t,l,Lu,n),h===c)break;c=h}c!==null&&l.stopPropagation()}else Hf(e,t,l,null,n)}}function ed(e){return e=Wi(e),td(e)}var Lu=null;function td(e){if(Lu=null,e=Dn(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Lu=e,null}function qg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pn()){case $n:return 2;case Yi:return 8;case bn:case Ao:return 32;case hr:return 268435456;default:return 32}default:return 32}}var nd=!1,Xr=null,Wr=null,Fr=null,ro=new Map,io=new Map,Zr=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hg(e,t){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function so(e,t,n,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},t!==null&&(t=wn(t),t!==null&&Bg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function m0(e,t,n,l,c){switch(t){case"focusin":return Xr=so(Xr,e,t,n,l,c),!0;case"dragenter":return Wr=so(Wr,e,t,n,l,c),!0;case"mouseover":return Fr=so(Fr,e,t,n,l,c),!0;case"pointerover":var h=c.pointerId;return ro.set(h,so(ro.get(h)||null,e,t,n,l,c)),!0;case"gotpointercapture":return h=c.pointerId,io.set(h,so(io.get(h)||null,e,t,n,l,c)),!0}return!1}function Pg(e){var t=Dn(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,yr(e.priority,function(){if(n.tag===13){var l=Bn();l=tl(l);var c=sa(n,l);c!==null&&qn(c,n,l),Zf(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ed(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);In=l,n.target.dispatchEvent(l),In=null}else return t=wn(n),t!==null&&Bg(t),e.blockedOn=n,!1;t.shift()}return!0}function $g(e,t,n){zu(e)&&n.delete(t)}function g0(){nd=!1,Xr!==null&&zu(Xr)&&(Xr=null),Wr!==null&&zu(Wr)&&(Wr=null),Fr!==null&&zu(Fr)&&(Fr=null),ro.forEach($g),io.forEach($g)}function Bu(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,g0)))}var qu=null;function Yg(e){qu!==e&&(qu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qu===e&&(qu=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(td(l||n)===null)continue;break}var h=wn(n);h!==null&&(e.splice(t,3),t-=3,ef(h,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function lo(e){function t(N){return Bu(N,e)}Xr!==null&&Bu(Xr,e),Wr!==null&&Bu(Wr,e),Fr!==null&&Bu(Fr,e),ro.forEach(t),io.forEach(t);for(var n=0;n<Zr.length;n++){var l=Zr[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zr.length&&(n=Zr[0],n.blockedOn===null);)Pg(n),n.blockedOn===null&&Zr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],h=n[l+1],x=c[Ze]||null;if(typeof h=="function")x||Yg(n);else if(x){var j=null;if(h&&h.hasAttribute("formAction")){if(c=h,x=h[Ze]||null)j=x.formAction;else if(td(c)!==null)continue}else j=x.action;typeof j=="function"?n[l+1]=j:(n.splice(l,3),l-=3),Yg(n)}}}function ad(e){this._internalRoot=e}Hu.prototype.render=ad.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,l=Bn();Lg(n,l,e,t,null,null)},Hu.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lg(e.current,2,null,e,null,null),xu(),t[Ot]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ra();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zr.length&&t!==0&&t<Zr[n].priority;n++);Zr.splice(n,0,e),n===0&&Pg(e)}};var Kg=a.version;if(Kg!=="19.1.0")throw Error(s(527,Kg,"19.1.0"));re.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var y0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{An=Pu.inject(y0),zt=Pu}catch{}}return uo.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,l="",c=sm,h=lm,x=om,j=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(j=t.unstable_transitionCallbacks)),t=Mg(e,1,!1,null,null,n,l,c,h,x,j,null),e[Ot]=t.current,qf(e),new ad(t)},uo.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var l=!1,c="",h=sm,x=lm,j=om,N=null,X=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(N=n.unstable_transitionCallbacks),n.formState!==void 0&&(X=n.formState)),t=Mg(e,1,!0,t,n??null,l,c,h,x,j,N,X),t.context=Ug(null),n=t.current,l=Bn(),l=tl(l),c=Ur(l),c.callback=null,Lr(n,c,l),n=l,t.current.lanes=n,gr(t,n),ka(t),e[Ot]=t.current,qf(e),new Hu(t)},uo.version="19.1.0",uo}var ey;function A0(){if(ey)return ld.exports;ey=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),ld.exports=C0(),ld.exports}var D0=A0();const N0="modulepreload",R0=function(i){return"/HabitApp/"+i},ty={},Xs=function(a,r,s){let o=Promise.resolve();if(r&&r.length>0){let m=function(v){return Promise.all(v.map(S=>Promise.resolve(S).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=m(r.map(v=>{if(v=R0(v),v in ty)return;ty[v]=!0;const S=v.endsWith(".css"),O=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${O}`))return;const T=document.createElement("link");if(T.rel=S?"stylesheet":N0,S||(T.as="script"),T.crossOrigin="",T.href=v,y&&T.setAttribute("nonce",y),document.head.appendChild(T),S)return new Promise((U,C)=>{T.addEventListener("load",U),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${v}`)))})}))}function f(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return o.then(m=>{for(const p of m||[])p.status==="rejected"&&f(p.reason);return a().catch(f)})},M0=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...r)=>Xs(async()=>{const{default:s}=await Promise.resolve().then(()=>Ws);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)};class Hd extends Error{constructor(a,r="FunctionsError",s){super(a),this.name=r,this.context=s}}class U0 extends Hd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class ny extends Hd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class ay extends Hd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var jd;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(jd||(jd={}));var L0=function(i,a,r,s){function o(f){return f instanceof r?f:new r(function(m){m(f)})}return new(r||(r=Promise))(function(f,m){function p(S){try{v(s.next(S))}catch(O){m(O)}}function y(S){try{v(s.throw(S))}catch(O){m(O)}}function v(S){S.done?f(S.value):o(S.value).then(p,y)}v((s=s.apply(i,a||[])).next())})};class z0{constructor(a,{headers:r={},customFetch:s,region:o=jd.Any}={}){this.url=a,this.headers=r,this.region=o,this.fetch=M0(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a,r={}){var s;return L0(this,void 0,void 0,function*(){try{const{headers:o,method:f,body:m}=r;let p={},{region:y}=r;y||(y=this.region);const v=new URL(`${this.url}/${a}`);y&&y!=="any"&&(p["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let S;m&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(p["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(p["Content-Type"]="application/json",S=JSON.stringify(m)));const O=yield this.fetch(v.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:S}).catch(V=>{throw new U0(V)}),T=O.headers.get("x-relay-error");if(T&&T==="true")throw new ny(O);if(!O.ok)throw new ay(O);let U=((s=O.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return U==="application/json"?C=yield O.json():U==="application/octet-stream"?C=yield O.blob():U==="text/event-stream"?C=O:U==="multipart/form-data"?C=yield O.formData():C=yield O.text(),{data:C,error:null,response:O}}catch(o){return{data:null,error:o,response:o instanceof ay||o instanceof ny?o.context:void 0}}})}}var an={},zs={},Bs={},qs={},Hs={},Ps={},B0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qs=B0();const q0=Qs.fetch,ep=Qs.fetch.bind(Qs),tp=Qs.Headers,H0=Qs.Request,P0=Qs.Response,Ws=Object.freeze(Object.defineProperty({__proto__:null,Headers:tp,Request:H0,Response:P0,default:ep,fetch:q0},Symbol.toStringTag,{value:"Module"})),$0=x0(Ws);var $u={},ry;function np(){if(ry)return $u;ry=1,Object.defineProperty($u,"__esModule",{value:!0});class i extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $u.default=i,$u}var iy;function ap(){if(iy)return Ps;iy=1;var i=Ps&&Ps.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ps,"__esModule",{value:!0});const a=i($0),r=i(np());class s{constructor(f){var m,p;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(m=f.shouldThrowOnError)!==null&&m!==void 0?m:!1,this.signal=f.signal,this.isMaybeSingle=(p=f.isMaybeSingle)!==null&&p!==void 0?p:!1,f.fetch?this.fetch=f.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,m){return this.headers=new Headers(this.headers),this.headers.set(f,m),this}then(f,m){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let y=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var S,O,T,U;let C=null,V=null,W=null,Z=v.status,se=v.statusText;if(v.ok){if(this.method!=="HEAD"){const _e=await v.text();_e===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((S=this.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?V=_e:V=JSON.parse(_e))}const pe=(O=this.headers.get("Prefer"))===null||O===void 0?void 0:O.match(/count=(exact|planned|estimated)/),ue=(T=v.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");pe&&ue&&ue.length>1&&(W=parseInt(ue[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(V)&&(V.length>1?(C={code:"PGRST116",details:`Results contain ${V.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},V=null,W=null,Z=406,se="Not Acceptable"):V.length===1?V=V[0]:V=null)}else{const pe=await v.text();try{C=JSON.parse(pe),Array.isArray(C)&&v.status===404&&(V=[],C=null,Z=200,se="OK")}catch{v.status===404&&pe===""?(Z=204,se="No Content"):C={message:pe}}if(C&&this.isMaybeSingle&&(!((U=C==null?void 0:C.details)===null||U===void 0)&&U.includes("0 rows"))&&(C=null,Z=200,se="OK"),C&&this.shouldThrowOnError)throw new r.default(C)}return{error:C,data:V,count:W,status:Z,statusText:se}});return this.shouldThrowOnError||(y=y.catch(v=>{var S,O,T;return{error:{message:`${(S=v==null?void 0:v.name)!==null&&S!==void 0?S:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(O=v==null?void 0:v.stack)!==null&&O!==void 0?O:""}`,hint:"",code:`${(T=v==null?void 0:v.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),y.then(f,m)}returns(){return this}overrideTypes(){return this}}return Ps.default=s,Ps}var sy;function rp(){if(sy)return Hs;sy=1;var i=Hs&&Hs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Hs,"__esModule",{value:!0});const a=i(ap());class r extends a.default{select(o){let f=!1;const m=(o??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:f=!0,nullsFirst:m,foreignTable:p,referencedTable:y=p}={}){const v=y?`${y}.order`:"order",S=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${S?`${S},`:""}${o}.${f?"asc":"desc"}${m===void 0?"":m?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:f,referencedTable:m=f}={}){const p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${o}`),this}range(o,f,{foreignTable:m,referencedTable:p=m}={}){const y=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(y,`${o}`),this.url.searchParams.set(v,`${f-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:f=!1,settings:m=!1,buffers:p=!1,wal:y=!1,format:v="text"}={}){var S;const O=[o?"analyze":null,f?"verbose":null,m?"settings":null,p?"buffers":null,y?"wal":null].filter(Boolean).join("|"),T=(S=this.headers.get("Accept"))!==null&&S!==void 0?S:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${T}"; options=${O};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Hs.default=r,Hs}var ly;function Pd(){if(ly)return qs;ly=1;var i=qs&&qs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(qs,"__esModule",{value:!0});const a=i(rp());class r extends a.default{eq(o,f){return this.url.searchParams.append(o,`eq.${f}`),this}neq(o,f){return this.url.searchParams.append(o,`neq.${f}`),this}gt(o,f){return this.url.searchParams.append(o,`gt.${f}`),this}gte(o,f){return this.url.searchParams.append(o,`gte.${f}`),this}lt(o,f){return this.url.searchParams.append(o,`lt.${f}`),this}lte(o,f){return this.url.searchParams.append(o,`lte.${f}`),this}like(o,f){return this.url.searchParams.append(o,`like.${f}`),this}likeAllOf(o,f){return this.url.searchParams.append(o,`like(all).{${f.join(",")}}`),this}likeAnyOf(o,f){return this.url.searchParams.append(o,`like(any).{${f.join(",")}}`),this}ilike(o,f){return this.url.searchParams.append(o,`ilike.${f}`),this}ilikeAllOf(o,f){return this.url.searchParams.append(o,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(o,f){return this.url.searchParams.append(o,`ilike(any).{${f.join(",")}}`),this}is(o,f){return this.url.searchParams.append(o,`is.${f}`),this}in(o,f){const m=Array.from(new Set(f)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(o,`in.(${m})`),this}contains(o,f){return typeof f=="string"?this.url.searchParams.append(o,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(o,`cs.{${f.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(f)}`),this}containedBy(o,f){return typeof f=="string"?this.url.searchParams.append(o,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(o,`cd.{${f.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(f)}`),this}rangeGt(o,f){return this.url.searchParams.append(o,`sr.${f}`),this}rangeGte(o,f){return this.url.searchParams.append(o,`nxl.${f}`),this}rangeLt(o,f){return this.url.searchParams.append(o,`sl.${f}`),this}rangeLte(o,f){return this.url.searchParams.append(o,`nxr.${f}`),this}rangeAdjacent(o,f){return this.url.searchParams.append(o,`adj.${f}`),this}overlaps(o,f){return typeof f=="string"?this.url.searchParams.append(o,`ov.${f}`):this.url.searchParams.append(o,`ov.{${f.join(",")}}`),this}textSearch(o,f,{config:m,type:p}={}){let y="";p==="plain"?y="pl":p==="phrase"?y="ph":p==="websearch"&&(y="w");const v=m===void 0?"":`(${m})`;return this.url.searchParams.append(o,`${y}fts${v}.${f}`),this}match(o){return Object.entries(o).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(o,f,m){return this.url.searchParams.append(o,`not.${f}.${m}`),this}or(o,{foreignTable:f,referencedTable:m=f}={}){const p=m?`${m}.or`:"or";return this.url.searchParams.append(p,`(${o})`),this}filter(o,f,m){return this.url.searchParams.append(o,`${f}.${m}`),this}}return qs.default=r,qs}var oy;function ip(){if(oy)return Bs;oy=1;var i=Bs&&Bs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bs,"__esModule",{value:!0});const a=i(Pd());class r{constructor(o,{headers:f={},schema:m,fetch:p}){this.url=o,this.headers=new Headers(f),this.schema=m,this.fetch=p}select(o,{head:f=!1,count:m}={}){const p=f?"HEAD":"GET";let y=!1;const v=(o??"*").split("").map(S=>/\s/.test(S)&&!y?"":(S==='"'&&(y=!y),S)).join("");return this.url.searchParams.set("select",v),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:f,defaultToNull:m=!0}={}){var p;const y="POST";if(f&&this.headers.append("Prefer",`count=${f}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((S,O)=>S.concat(Object.keys(O)),[]);if(v.length>0){const S=[...new Set(v)].map(O=>`"${O}"`);this.url.searchParams.set("columns",S.join(","))}}return new a.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(o,{onConflict:f,ignoreDuplicates:m=!1,count:p,defaultToNull:y=!0}={}){var v;const S="POST";if(this.headers.append("Prefer",`resolution=${m?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),p&&this.headers.append("Prefer",`count=${p}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const O=o.reduce((T,U)=>T.concat(Object.keys(U)),[]);if(O.length>0){const T=[...new Set(O)].map(U=>`"${U}"`);this.url.searchParams.set("columns",T.join(","))}}return new a.default({method:S,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(o,{count:f}={}){var m;const p="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}delete({count:o}={}){var f;const m="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Bs.default=r,Bs}var uy;function Y0(){if(uy)return zs;uy=1;var i=zs&&zs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(zs,"__esModule",{value:!0});const a=i(ip()),r=i(Pd());class s{constructor(f,{headers:m={},schema:p,fetch:y}={}){this.url=f,this.headers=new Headers(m),this.schemaName=p,this.fetch=y}from(f){const m=new URL(`${this.url}/${f}`);return new a.default(m,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new s(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,m={},{head:p=!1,get:y=!1,count:v}={}){var S;let O;const T=new URL(`${this.url}/rpc/${f}`);let U;p||y?(O=p?"HEAD":"GET",Object.entries(m).filter(([V,W])=>W!==void 0).map(([V,W])=>[V,Array.isArray(W)?`{${W.join(",")}}`:`${W}`]).forEach(([V,W])=>{T.searchParams.append(V,W)})):(O="POST",U=m);const C=new Headers(this.headers);return v&&C.set("Prefer",`count=${v}`),new r.default({method:O,url:T,headers:C,schema:this.schemaName,body:U,fetch:(S=this.fetch)!==null&&S!==void 0?S:fetch})}}return zs.default=s,zs}var cy;function K0(){if(cy)return an;cy=1;var i=an&&an.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(an,"__esModule",{value:!0}),an.PostgrestError=an.PostgrestBuilder=an.PostgrestTransformBuilder=an.PostgrestFilterBuilder=an.PostgrestQueryBuilder=an.PostgrestClient=void 0;const a=i(Y0());an.PostgrestClient=a.default;const r=i(ip());an.PostgrestQueryBuilder=r.default;const s=i(Pd());an.PostgrestFilterBuilder=s.default;const o=i(rp());an.PostgrestTransformBuilder=o.default;const f=i(ap());an.PostgrestBuilder=f.default;const m=i(np());return an.PostgrestError=m.default,an.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:f.default,PostgrestError:m.default},an}var G0=K0();const V0=jo(G0),{PostgrestClient:I0,PostgrestQueryBuilder:y2,PostgrestFilterBuilder:p2,PostgrestTransformBuilder:v2,PostgrestBuilder:b2,PostgrestError:w2}=V0;function Q0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const X0=Q0(),W0="2.11.15",F0=`realtime-js/${W0}`,Z0="1.0.0",sp=1e4,J0=1e3;var po;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(po||(po={}));var vn;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(vn||(vn={}));var ca;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ca||(ca={}));var Od;(function(i){i.websocket="websocket"})(Od||(Od={}));var Bi;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Bi||(Bi={}));class eb{constructor(){this.HEADER_LENGTH=1}decode(a,r){return a.constructor===ArrayBuffer?r(this._binaryDecode(a)):r(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const r=new DataView(a),s=new TextDecoder;return this._decodeBroadcast(a,r,s)}_decodeBroadcast(a,r,s){const o=r.getUint8(1),f=r.getUint8(2);let m=this.HEADER_LENGTH+2;const p=s.decode(a.slice(m,m+o));m=m+o;const y=s.decode(a.slice(m,m+f));m=m+f;const v=JSON.parse(s.decode(a.slice(m,a.byteLength)));return{ref:null,topic:p,event:y,payload:v}}}class lp{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(jt||(jt={}));const fy=(i,a,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(a).reduce((f,m)=>(f[m]=tb(m,i,a,o),f),{})},tb=(i,a,r,s)=>{const o=a.find(p=>p.name===i),f=o==null?void 0:o.type,m=r[i];return f&&!s.includes(f)?op(f,m):kd(m)},op=(i,a)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return ib(a,r)}switch(i){case jt.bool:return nb(a);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return ab(a);case jt.json:case jt.jsonb:return rb(a);case jt.timestamp:return sb(a);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return kd(a);default:return kd(a)}},kd=i=>i,nb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},ab=i=>{if(typeof i=="string"){const a=parseFloat(i);if(!Number.isNaN(a))return a}return i},rb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(a){return console.log(`JSON parse error: ${a}`),i}return i},ib=(i,a)=>{if(typeof i!="string")return i;const r=i.length-1,s=i[r];if(i[0]==="{"&&s==="}"){let f;const m=i.slice(1,r);try{f=JSON.parse("["+m+"]")}catch{f=m?m.split(","):[]}return f.map(p=>op(a,p))}return i},sb=i=>typeof i=="string"?i.replace(" ","T"):i,up=i=>{let a=i;return a=a.replace(/^ws/i,"http"),a=a.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),a.replace(/\/+$/,"")};class fd{constructor(a,r,s={},o=sp){this.channel=a,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var s;return this._hasReceived(a)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var dy;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(dy||(dy={}));class vo{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:f,onLeave:m,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vo.syncState(this.state,o,f,m),this.pendingDiffs.forEach(y=>{this.state=vo.syncDiff(this.state,y,f,m)}),this.pendingDiffs=[],p()}),this.channel._on(s.diff,{},o=>{const{onJoin:f,onLeave:m,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=vo.syncDiff(this.state,o,f,m),p())}),this.onJoin((o,f,m)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:f,newPresences:m})}),this.onLeave((o,f,m)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:f,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,s,o){const f=this.cloneDeep(a),m=this.transformState(r),p={},y={};return this.map(f,(v,S)=>{m[v]||(y[v]=S)}),this.map(m,(v,S)=>{const O=f[v];if(O){const T=S.map(W=>W.presence_ref),U=O.map(W=>W.presence_ref),C=S.filter(W=>U.indexOf(W.presence_ref)<0),V=O.filter(W=>T.indexOf(W.presence_ref)<0);C.length>0&&(p[v]=C),V.length>0&&(y[v]=V)}else p[v]=S}),this.syncDiff(f,{joins:p,leaves:y},s,o)}static syncDiff(a,r,s,o){const{joins:f,leaves:m}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(f,(p,y)=>{var v;const S=(v=a[p])!==null&&v!==void 0?v:[];if(a[p]=this.cloneDeep(y),S.length>0){const O=a[p].map(U=>U.presence_ref),T=S.filter(U=>O.indexOf(U.presence_ref)<0);a[p].unshift(...T)}s(p,S,y)}),this.map(m,(p,y)=>{let v=a[p];if(!v)return;const S=y.map(O=>O.presence_ref);v=v.filter(O=>S.indexOf(O.presence_ref)<0),a[p]=v,o(p,v,y),v.length===0&&delete a[p]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(s=>r(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,s)=>{const o=a[s];return"metas"in o?r[s]=o.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):r[s]=o,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hy;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(hy||(hy={}));var my;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(my||(my={}));var sr;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(sr||(sr={}));class $d{constructor(a,r={config:{}},s){this.topic=a,this.params=r,this.socket=s,this.bindings={},this.state=vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fd(this,ca.join,this.params,this.timeout),this.rejoinTimer=new lp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(o,f)=>{this._trigger(this._replyEventName(f),o)}),this.presence=new vo(this),this.broadcastEndpointURL=up(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(a,r=this.timeout){var s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==vn.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params;this._onError(S=>a==null?void 0:a(sr.CHANNEL_ERROR,S)),this._onClose(()=>a==null?void 0:a(sr.CLOSED));const y={},v={broadcast:f,presence:m,postgres_changes:(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket.setAuth(),S===void 0){a==null||a(sr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,U=(O=T==null?void 0:T.length)!==null&&O!==void 0?O:0,C=[];for(let V=0;V<U;V++){const W=T[V],{filter:{event:Z,schema:se,table:ce,filter:pe}}=W,ue=S&&S[V];if(ue&&ue.event===Z&&ue.schema===se&&ue.table===ce&&ue.filter===pe)C.push(Object.assign(Object.assign({},W),{id:ue.id}));else{this.unsubscribe(),this.state=vn.errored,a==null||a(sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,a&&a(sr.SUBSCRIBED);return}}).receive("error",S=>{this.state=vn.errored,a==null||a(sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,s){return this._on(a,r,s)}async send(a,r={}){var s,o;if(!this._canPush()&&a.type==="broadcast"){const{event:f,payload:m}=a,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:m,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=v.body)===null||o===void 0?void 0:o.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var m,p,y;const v=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(p=(m=this.params)===null||m===void 0?void 0:m.config)===null||p===void 0?void 0:p.broadcast)===null||y===void 0)&&y.ack)&&f("ok"),v.receive("ok",()=>f("ok")),v.receive("error",()=>f("error")),v.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=vn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new fd(this,ca.leave,{},a),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(a,r,s){const o=new AbortController,f=setTimeout(()=>o.abort(),s),m=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(f),m}_push(a,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new fd(this,a,r,s);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(a,r,s){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,s){var o,f;const m=a.toLocaleLowerCase(),{close:p,error:y,leave:v,join:S}=ca;if(s&&[p,y,v,S].indexOf(m)>=0&&s!==this._joinRef())return;let T=this._onMessage(m,r,s);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(U=>{var C,V,W;return((C=U.filter)===null||C===void 0?void 0:C.event)==="*"||((W=(V=U.filter)===null||V===void 0?void 0:V.event)===null||W===void 0?void 0:W.toLocaleLowerCase())===m}).map(U=>U.callback(T,s)):(f=this.bindings[m])===null||f===void 0||f.filter(U=>{var C,V,W,Z,se,ce;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in U){const pe=U.id,ue=(C=U.filter)===null||C===void 0?void 0:C.event;return pe&&((V=r.ids)===null||V===void 0?void 0:V.includes(pe))&&(ue==="*"||(ue==null?void 0:ue.toLocaleLowerCase())===((W=r.data)===null||W===void 0?void 0:W.type.toLocaleLowerCase()))}else{const pe=(se=(Z=U==null?void 0:U.filter)===null||Z===void 0?void 0:Z.event)===null||se===void 0?void 0:se.toLocaleLowerCase();return pe==="*"||pe===((ce=r==null?void 0:r.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase())}else return U.type.toLocaleLowerCase()===m}).map(U=>{if(typeof T=="object"&&"ids"in T){const C=T.data,{schema:V,table:W,commit_timestamp:Z,type:se,errors:ce}=C;T=Object.assign(Object.assign({},{schema:V,table:W,commit_timestamp:Z,eventType:se,new:{},old:{},errors:ce}),this._getPayloadRecords(C))}U.callback(T,s)})}_isClosed(){return this.state===vn.closed}_isJoined(){return this.state===vn.joined}_isJoining(){return this.state===vn.joining}_isLeaving(){return this.state===vn.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,s){const o=a.toLocaleLowerCase(),f={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(f):this.bindings[o]=[f],this}_off(a,r){const s=a.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(o=>{var f;return!(((f=o.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===s&&$d.isEqual(o.filter,r))}),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const s in a)if(a[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(ca.close,{},a)}_onError(a){this._on(ca.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vn.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=fy(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=fy(a.columns,a.old_record)),r}}const gy=()=>{},lb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ob{constructor(a,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gy,this.ref=0,this.logger=gy,this.conn=null,this.sendBuffer=[],this.serializer=new eb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=f=>{let m;return f?m=f:typeof fetch>"u"?m=(...p)=>Xs(async()=>{const{default:y}=await Promise.resolve().then(()=>Ws);return{default:y}},void 0).then(({default:y})=>y(...p)):m=fetch,(...p)=>m(...p)},this.endPoint=`${a}/${Od.websocket}`,this.httpEndpoint=up(a),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:f=>[1e3,2e3,5e3,1e4][f-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(f,m)=>m(JSON.stringify(f)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=X0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Z0}))}disconnect(a,r){this.conn&&(this.conn.onclose=function(){},a?this.conn.close(a,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,s){this.logger(a,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case po.connecting:return Bi.Connecting;case po.open:return Bi.Open;case po.closing:return Bi.Closing;default:return Bi.Closed}}isConnected(){return this.connectionState()===Bi.Open}channel(a,r={config:{}}){const s=`realtime:${a}`,o=this.getChannels().find(f=>f.topic===s);if(o)return o;{const f=new $d(`realtime:${a}`,r,this);return this.channels.push(f),f}}push(a){const{topic:r,event:s,payload:o,ref:f}=a,m=()=>{this.encode(a,p=>{var y;(y=this.conn)===null||y===void 0||y.send(p)})};this.log("push",`${r} ${s} (${f})`,o),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(a=null){let r=a||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:F0};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(ca.access_token,{access_token:r})}))}async sendHeartbeat(){var a;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(a=this.conn)===null||a===void 0||a.close(J0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_onConnMessage(a){this.decode(a.data,r=>{let{topic:s,event:o,payload:f,ref:m}=r;s==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),m&&m===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${f.status||""} ${s} ${o} ${m&&"("+m+")"||""}`,f),Array.from(this.channels).filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,f,m)),this.stateChangeCallbacks.message.forEach(p=>p(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(a=>a())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){this.log("transport","close",a),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(a))}_onConnError(a){this.log("transport",`${a}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(a))}_triggerChanError(){this.channels.forEach(a=>a._trigger(ca.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const s=a.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${a}${s}${o}`}_workerObjectUrl(a){let r;if(a)r=a;else{const s=new Blob([lb],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class Yd extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function rn(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class ub extends Yd{constructor(a,r){super(a),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Td extends Yd{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}var cb=function(i,a,r,s){function o(f){return f instanceof r?f:new r(function(m){m(f)})}return new(r||(r=Promise))(function(f,m){function p(S){try{v(s.next(S))}catch(O){m(O)}}function y(S){try{v(s.throw(S))}catch(O){m(O)}}function v(S){S.done?f(S.value):o(S.value).then(p,y)}v((s=s.apply(i,a||[])).next())})};const cp=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...r)=>Xs(async()=>{const{default:s}=await Promise.resolve().then(()=>Ws);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)},fb=()=>cb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xs(()=>Promise.resolve().then(()=>Ws),void 0)).Response:Response}),Cd=i=>{if(Array.isArray(i))return i.map(r=>Cd(r));if(typeof i=="function"||i!==Object(i))return i;const a={};return Object.entries(i).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[o]=Cd(s)}),a};var Hi=function(i,a,r,s){function o(f){return f instanceof r?f:new r(function(m){m(f)})}return new(r||(r=Promise))(function(f,m){function p(S){try{v(s.next(S))}catch(O){m(O)}}function y(S){try{v(s.throw(S))}catch(O){m(O)}}function v(S){S.done?f(S.value):o(S.value).then(p,y)}v((s=s.apply(i,a||[])).next())})};const dd=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),db=(i,a,r)=>Hi(void 0,void 0,void 0,function*(){const s=yield fb();i instanceof s&&!(r!=null&&r.noResolveJson)?i.json().then(o=>{a(new ub(dd(o),i.status||500))}).catch(o=>{a(new Td(dd(o),o))}):a(new Td(dd(i),i))}),hb=(i,a,r,s)=>{const o={method:i,headers:(a==null?void 0:a.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),s&&(o.body=JSON.stringify(s)),Object.assign(Object.assign({},o),r))};function Oo(i,a,r,s,o,f){return Hi(this,void 0,void 0,function*(){return new Promise((m,p)=>{i(r,hb(a,s,o,f)).then(y=>{if(!y.ok)throw y;return s!=null&&s.noResolveJson?y:y.json()}).then(y=>m(y)).catch(y=>db(y,p,s))})})}function ac(i,a,r,s){return Hi(this,void 0,void 0,function*(){return Oo(i,"GET",a,r,s)})}function ni(i,a,r,s,o){return Hi(this,void 0,void 0,function*(){return Oo(i,"POST",a,s,o,r)})}function mb(i,a,r,s,o){return Hi(this,void 0,void 0,function*(){return Oo(i,"PUT",a,s,o,r)})}function gb(i,a,r,s){return Hi(this,void 0,void 0,function*(){return Oo(i,"HEAD",a,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function fp(i,a,r,s,o){return Hi(this,void 0,void 0,function*(){return Oo(i,"DELETE",a,s,o,r)})}var Tn=function(i,a,r,s){function o(f){return f instanceof r?f:new r(function(m){m(f)})}return new(r||(r=Promise))(function(f,m){function p(S){try{v(s.next(S))}catch(O){m(O)}}function y(S){try{v(s.throw(S))}catch(O){m(O)}}function v(S){S.done?f(S.value):o(S.value).then(p,y)}v((s=s.apply(i,a||[])).next())})};const yb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pb{constructor(a,r={},s,o){this.url=a,this.headers=r,this.bucketId=s,this.fetch=cp(o)}uploadOrUpdate(a,r,s,o){return Tn(this,void 0,void 0,function*(){try{let f;const m=Object.assign(Object.assign({},yy),o);let p=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(m.upsert)});const y=m.metadata;typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),y&&f.append("metadata",this.encodeMetadata(y)),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",m.cacheControl),y&&f.append("metadata",this.encodeMetadata(y))):(f=s,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType,y&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),o!=null&&o.headers&&(p=Object.assign(Object.assign({},p),o.headers));const v=this._removeEmptyFolders(r),S=this._getFinalPath(v),O=yield this.fetch(`${this.url}/object/${S}`,Object.assign({method:a,body:f,headers:p},m!=null&&m.duplex?{duplex:m.duplex}:{})),T=yield O.json();return O.ok?{data:{path:v,id:T.Id,fullPath:T.Key},error:null}:{data:null,error:T}}catch(f){if(rn(f))return{data:null,error:f};throw f}})}upload(a,r,s){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,s)})}uploadToSignedUrl(a,r,s,o){return Tn(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(a),m=this._getFinalPath(f),p=new URL(this.url+`/object/upload/sign/${m}`);p.searchParams.set("token",r);try{let y;const v=Object.assign({upsert:yy.upsert},o),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",v.cacheControl)):(y=s,S["cache-control"]=`max-age=${v.cacheControl}`,S["content-type"]=v.contentType);const O=yield this.fetch(p.toString(),{method:"PUT",body:y,headers:S}),T=yield O.json();return O.ok?{data:{path:f,fullPath:T.Key},error:null}:{data:null,error:T}}catch(y){if(rn(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(a,r){return Tn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(a);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const f=yield ni(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),m=new URL(this.url+f.url),p=m.searchParams.get("token");if(!p)throw new Yd("No token returned by API");return{data:{signedUrl:m.toString(),path:a,token:p},error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}update(a,r,s){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,s)})}move(a,r,s){return Tn(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(rn(o))return{data:null,error:o};throw o}})}copy(a,r,s){return Tn(this,void 0,void 0,function*(){try{return{data:{path:(yield ni(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(rn(o))return{data:null,error:o};throw o}})}createSignedUrl(a,r,s){return Tn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(a),f=yield ni(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const m=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${m}`)},{data:f,error:null}}catch(o){if(rn(o))return{data:null,error:o};throw o}})}createSignedUrls(a,r,s){return Tn(this,void 0,void 0,function*(){try{const o=yield ni(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(m=>Object.assign(Object.assign({},m),{signedUrl:m.signedURL?encodeURI(`${this.url}${m.signedURL}${f}`):null})),error:null}}catch(o){if(rn(o))return{data:null,error:o};throw o}})}download(a,r){return Tn(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),m=f?`?${f}`:"";try{const p=this._getFinalPath(a);return{data:yield(yield ac(this.fetch,`${this.url}/${o}/${p}${m}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(rn(p))return{data:null,error:p};throw p}})}info(a){return Tn(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{const s=yield ac(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Cd(s),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}exists(a){return Tn(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{return yield gb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(rn(s)&&s instanceof Td){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}})}getPublicUrl(a,r){const s=this._getFinalPath(a),o=[],f=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";f!==""&&o.push(f);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});y!==""&&o.push(y);let v=o.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${s}${v}`)}}}remove(a){return Tn(this,void 0,void 0,function*(){try{return{data:yield fp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(rn(r))return{data:null,error:r};throw r}})}list(a,r,s){return Tn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},yb),r),{prefix:a||""});return{data:yield ni(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(rn(o))return{data:null,error:o};throw o}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const vb="2.7.1",bb={"X-Client-Info":`storage-js/${vb}`};var $s=function(i,a,r,s){function o(f){return f instanceof r?f:new r(function(m){m(f)})}return new(r||(r=Promise))(function(f,m){function p(S){try{v(s.next(S))}catch(O){m(O)}}function y(S){try{v(s.throw(S))}catch(O){m(O)}}function v(S){S.done?f(S.value):o(S.value).then(p,y)}v((s=s.apply(i,a||[])).next())})};class wb{constructor(a,r={},s){this.url=a,this.headers=Object.assign(Object.assign({},bb),r),this.fetch=cp(s)}listBuckets(){return $s(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}})}getBucket(a){return $s(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(rn(r))return{data:null,error:r};throw r}})}createBucket(a,r={public:!1}){return $s(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}updateBucket(a,r){return $s(this,void 0,void 0,function*(){try{return{data:yield mb(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}emptyBucket(a){return $s(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(rn(r))return{data:null,error:r};throw r}})}deleteBucket(a){return $s(this,void 0,void 0,function*(){try{return{data:yield fp(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(rn(r))return{data:null,error:r};throw r}})}}class xb extends wb{constructor(a,r={},s){super(a,r,s)}from(a){return new pb(this.url,this.headers,a,this.fetch)}}const _b="2.50.4";let go="";typeof Deno<"u"?go="deno":typeof document<"u"?go="web":typeof navigator<"u"&&navigator.product==="ReactNative"?go="react-native":go="node";const Sb={"X-Client-Info":`supabase-js-${go}/${_b}`},Eb={headers:Sb},jb={schema:"public"},Ob={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kb={};var Tb=function(i,a,r,s){function o(f){return f instanceof r?f:new r(function(m){m(f)})}return new(r||(r=Promise))(function(f,m){function p(S){try{v(s.next(S))}catch(O){m(O)}}function y(S){try{v(s.throw(S))}catch(O){m(O)}}function v(S){S.done?f(S.value):o(S.value).then(p,y)}v((s=s.apply(i,a||[])).next())})};const Cb=i=>{let a;return i?a=i:typeof fetch>"u"?a=ep:a=fetch,(...r)=>a(...r)},Ab=()=>typeof Headers>"u"?tp:Headers,Db=(i,a,r)=>{const s=Cb(r),o=Ab();return(f,m)=>Tb(void 0,void 0,void 0,function*(){var p;const y=(p=yield a())!==null&&p!==void 0?p:i;let v=new o(m==null?void 0:m.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),s(f,Object.assign(Object.assign({},m),{headers:v}))})};var Nb=function(i,a,r,s){function o(f){return f instanceof r?f:new r(function(m){m(f)})}return new(r||(r=Promise))(function(f,m){function p(S){try{v(s.next(S))}catch(O){m(O)}}function y(S){try{v(s.throw(S))}catch(O){m(O)}}function v(S){S.done?f(S.value):o(S.value).then(p,y)}v((s=s.apply(i,a||[])).next())})};function Rb(i){return i.endsWith("/")?i:i+"/"}function Mb(i,a){var r,s;const{db:o,auth:f,realtime:m,global:p}=i,{db:y,auth:v,realtime:S,global:O}=a,T={db:Object.assign(Object.assign({},y),o),auth:Object.assign(Object.assign({},v),f),realtime:Object.assign(Object.assign({},S),m),global:Object.assign(Object.assign(Object.assign({},O),p),{headers:Object.assign(Object.assign({},(r=O==null?void 0:O.headers)!==null&&r!==void 0?r:{}),(s=p==null?void 0:p.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Nb(this,void 0,void 0,function*(){return""})};return i.accessToken?T.accessToken=i.accessToken:delete T.accessToken,T}const dp="2.70.0",Is=30*1e3,Ad=3,hd=Ad*Is,Ub="http://localhost:9999",Lb="supabase.auth.token",zb={"X-Client-Info":`gotrue-js/${dp}`},Dd="X-Supabase-Api-Version",hp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qb=6e5;class Kd extends Error{constructor(a,r,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Ie(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Hb extends Kd{constructor(a,r,s){super(a,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Pb(i){return Ie(i)&&i.name==="AuthApiError"}class mp extends Kd{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class ii extends Kd{constructor(a,r,s,o){super(a,s,o),this.name=r,this.status=s}}class ti extends ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $b(i){return Ie(i)&&i.name==="AuthSessionMissingError"}class Yu extends ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ku extends ii{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Gu extends ii{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yb(i){return Ie(i)&&i.name==="AuthImplicitGrantRedirectError"}class py extends ii{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nd extends ii{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function md(i){return Ie(i)&&i.name==="AuthRetryableFetchError"}class vy extends ii{constructor(a,r,s){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class bo extends ii{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),by=` 	
\r=`.split(""),Kb=(()=>{const i=new Array(128);for(let a=0;a<i.length;a+=1)i[a]=-1;for(let a=0;a<by.length;a+=1)i[by[a].charCodeAt(0)]=-2;for(let a=0;a<rc.length;a+=1)i[rc[a].charCodeAt(0)]=a;return i})();function wy(i,a,r){if(i!==null)for(a.queue=a.queue<<8|i,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(rc[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(rc[s]),a.queuedBits-=6}}function gp(i,a,r){const s=Kb[i];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function xy(i){const a=[],r=m=>{a.push(String.fromCodePoint(m))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},f=m=>{Ib(m,s,r)};for(let m=0;m<i.length;m+=1)gp(i.charCodeAt(m),o,f);return a.join("")}function Gb(i,a){if(i<=127){a(i);return}else if(i<=2047){a(192|i>>6),a(128|i&63);return}else if(i<=65535){a(224|i>>12),a(128|i>>6&63),a(128|i&63);return}else if(i<=1114111){a(240|i>>18),a(128|i>>12&63),a(128|i>>6&63),a(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Vb(i,a){for(let r=0;r<i.length;r+=1){let s=i.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(i.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}Gb(s,a)}}function Ib(i,a,r){if(a.utf8seq===0){if(i<=127){r(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=i&31;else if(a.utf8seq===3)a.codepoint=i&15;else if(a.utf8seq===4)a.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|i&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Qb(i){const a=[],r={queue:0,queuedBits:0},s=o=>{a.push(o)};for(let o=0;o<i.length;o+=1)gp(i.charCodeAt(o),r,s);return new Uint8Array(a)}function Xb(i){const a=[];return Vb(i,r=>a.push(r)),new Uint8Array(a)}function Wb(i){const a=[],r={queue:0,queuedBits:0},s=o=>{a.push(o)};return i.forEach(o=>wy(o,r,s)),wy(null,r,s),a.join("")}function Fb(i){return Math.round(Date.now()/1e3)+i}function Zb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const a=Math.random()*16|0;return(i=="x"?a:a&3|8).toString(16)})}const ua=()=>typeof window<"u"&&typeof document<"u",Ni={tested:!1,writable:!1},wo=()=>{if(!ua())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ni.tested)return Ni.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ni.tested=!0,Ni.writable=!0}catch{Ni.tested=!0,Ni.writable=!1}return Ni.writable};function Jb(i){const a={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,f)=>{a[f]=o})}catch{}return r.searchParams.forEach((s,o)=>{a[o]=s}),a}const yp=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...r)=>Xs(async()=>{const{default:s}=await Promise.resolve().then(()=>Ws);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)},ew=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",pp=async(i,a,r)=>{await i.setItem(a,JSON.stringify(r))},Vu=async(i,a)=>{const r=await i.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Iu=async(i,a)=>{await i.removeItem(a)};class cc{constructor(){this.promise=new cc.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}cc.promiseConstructor=Promise;function gd(i){const a=i.split(".");if(a.length!==3)throw new bo("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!Bb.test(a[s]))throw new bo("JWT not in base64url format");return{header:JSON.parse(xy(a[0])),payload:JSON.parse(xy(a[1])),signature:Qb(a[2]),raw:{header:a[0],payload:a[1]}}}async function tw(i){return await new Promise(a=>{setTimeout(()=>a(null),i)})}function nw(i,a){return new Promise((s,o)=>{(async()=>{for(let f=0;f<1/0;f++)try{const m=await i(f);if(!a(f,null,m)){s(m);return}}catch(m){if(!a(f,m)){o(m);return}}})()})}function aw(i){return("0"+i.toString(16)).substr(-2)}function rw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let f=0;f<56;f++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(a),Array.from(a,aw).join("")}async function iw(i){const r=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(f=>String.fromCharCode(f)).join("")}async function sw(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await iw(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(i,a,r=!1){const s=rw();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await pp(i,`${a}-code-verifier`,o);const f=await sw(s);return[f,s===f?"plain":"s256"]}const lw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ow(i){const a=i.headers.get(Dd);if(!a||!a.match(lw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function uw(i){if(!i)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(i<=a)throw new Error("JWT has expired")}function cw(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(i){if(!fw.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var dw=function(i,a){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)a.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r};const Li=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),hw=[502,503,504];async function _y(i){var a;if(!ew(i))throw new Nd(Li(i),0);if(hw.includes(i.status))throw new Nd(Li(i),i.status);let r;try{r=await i.json()}catch(f){throw new mp(Li(f),f)}let s;const o=ow(i);if(o&&o.getTime()>=hp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new vy(Li(r),i.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new ti}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((f,m)=>f&&typeof m=="string",!0))throw new vy(Li(r),i.status,r.weak_password.reasons);throw new Hb(Li(r),i.status||500,s)}const mw=(i,a,r,s)=>{const o={method:i,headers:(a==null?void 0:a.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function it(i,a,r,s){var o;const f=Object.assign({},s==null?void 0:s.headers);f[Dd]||(f[Dd]=hp["2024-01-01"].name),s!=null&&s.jwt&&(f.Authorization=`Bearer ${s.jwt}`);const m=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(m.redirect_to=s.redirectTo);const p=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",y=await gw(i,a,r+p,{headers:f,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(y):{data:Object.assign({},y),error:null}}async function gw(i,a,r,s,o,f){const m=mw(a,s,o,f);let p;try{p=await i(r,Object.assign({},m))}catch(y){throw console.error(y),new Nd(Li(y),0)}if(p.ok||await _y(p),s!=null&&s.noResolveJson)return p;try{return await p.json()}catch(y){await _y(y)}}function ir(i){var a;let r=null;bw(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=Fb(i.expires_in)));const s=(a=i.user)!==null&&a!==void 0?a:i;return{data:{session:r,user:s},error:null}}function Sy(i){const a=ir(i);return!a.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(a.data.weak_password=i.weak_password),a}function ri(i){var a;return{data:{user:(a=i.user)!==null&&a!==void 0?a:i},error:null}}function yw(i){return{data:i,error:null}}function pw(i){const{action_link:a,email_otp:r,hashed_token:s,redirect_to:o,verification_type:f}=i,m=dw(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:a,email_otp:r,hashed_token:s,redirect_to:o,verification_type:f},y=Object.assign({},m);return{data:{properties:p,user:y},error:null}}function vw(i){return i}function bw(i){return i.access_token&&i.refresh_token&&i.expires_in}const yd=["global","local","others"];var ww=function(i,a){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)a.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r};class xw{constructor({url:a="",headers:r={},fetch:s}){this.url=a,this.headers=r,this.fetch=yp(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(a,r=yd[0]){if(yd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yd.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ri})}catch(s){if(Ie(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:r}=a,s=ww(a,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:pw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ri})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,s,o,f,m,p,y;try{const v={nextPage:null,lastPage:0,total:0},S=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(f=(o=a==null?void 0:a.perPage)===null||o===void 0?void 0:o.toString())!==null&&f!==void 0?f:""},xform:vw});if(S.error)throw S.error;const O=await S.json(),T=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,U=(y=(p=S.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return U.length>0&&(U.forEach(C=>{const V=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),W=JSON.parse(C.split(";")[1].split("=")[1]);v[`${W}Page`]=V}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},O),v),error:null}}catch(v){if(Ie(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){Ks(a);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ri})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){Ks(a);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:ri})}catch(s){if(Ie(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,r=!1){Ks(a);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:ri})}catch(s){if(Ie(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){Ks(a.userId);try{const{data:r,error:s}=await it(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteFactor(a){Ks(a.userId),Ks(a.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}}const _w={getItem:i=>wo()?globalThis.localStorage.getItem(i):null,setItem:(i,a)=>{wo()&&globalThis.localStorage.setItem(i,a)},removeItem:i=>{wo()&&globalThis.localStorage.removeItem(i)}};function Ey(i={}){return{getItem:a=>i[a]||null,setItem:(a,r)=>{i[a]=r},removeItem:a=>{delete i[a]}}}function Sw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gs={debug:!!(globalThis&&wo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Ew extends vp{}async function jw(i,a,r){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await r()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(a===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Ew(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Gs.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Sw();const Ow={url:Ub,storageKey:Lb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jy(i,a,r){return await r()}class xo{constructor(a){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xo.nextInstanceID,xo.nextInstanceID+=1,this.instanceID>0&&ua()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Ow),a);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new xw({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=yp(o.fetch),this.lock=o.lock||jy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ua()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jw:this.lock=jy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:wo()?this.storage=_w:(this.memoryStorage={},this.storage=Ey(this.memoryStorage)):(this.memoryStorage={},this.storage=Ey(this.memoryStorage)),ua()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dp}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const r=Jb(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),ua()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:f}=await this._getSessionFromURL(r,s);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Yb(f)){const y=(a=f.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:m,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",m,"redirect type",p),await this._saveSession(m),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ie(r)?{error:r}:{error:new mp("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,s,o;try{const f=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=a==null?void 0:a.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=a==null?void 0:a.options)===null||o===void 0?void 0:o.captchaToken}},xform:ir}),{data:m,error:p}=f;if(p||!m)return{data:{user:null,session:null},error:p};const y=m.session,v=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(f){if(Ie(f))return{data:{user:null,session:null},error:f};throw f}}async signUp(a){var r,s,o;try{let f;if("email"in a){const{email:S,password:O,options:T}=a;let U=null,C=null;this.flowType==="pkce"&&([U,C]=await Ys(this.storage,this.storageKey)),f=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:S,password:O,data:(r=T==null?void 0:T.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:U,code_challenge_method:C},xform:ir})}else if("phone"in a){const{phone:S,password:O,options:T}=a;f=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:O,data:(s=T==null?void 0:T.data)!==null&&s!==void 0?s:{},channel:(o=T==null?void 0:T.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:ir})}else throw new Ku("You must provide either an email or phone number and a password");const{data:m,error:p}=f;if(p||!m)return{data:{user:null,session:null},error:p};const y=m.session,v=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(f){if(Ie(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(a){try{let r;if("email"in a){const{email:f,password:m,options:p}=a;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:m,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Sy})}else if("phone"in a){const{phone:f,password:m,options:p}=a;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:m,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Sy})}else throw new Ku("You must provide either an email or phone number and a password");const{data:s,error:o}=r;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Yu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(a){var r,s,o,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;if(r==="solana")return await this.signInWithSolana(a);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(a){var r,s,o,f,m,p,y,v,S,O,T,U;let C,V;if("message"in a)C=a.message,V=a.signature;else{const{chain:W,wallet:Z,statement:se,options:ce}=a;let pe;if(ua())if(typeof Z=="object")pe=Z;else{const _e=window;if("solana"in _e&&typeof _e.solana=="object"&&("signIn"in _e.solana&&typeof _e.solana.signIn=="function"||"signMessage"in _e.solana&&typeof _e.solana.signMessage=="function"))pe=_e.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Z!="object"||!(ce!=null&&ce.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");pe=Z}const ue=new URL((r=ce==null?void 0:ce.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in pe&&pe.signIn){const _e=await pe.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},ce==null?void 0:ce.signInWithSolana),{version:"1",domain:ue.host,uri:ue.href}),se?{statement:se}:null));let Ne;if(Array.isArray(_e)&&_e[0]&&typeof _e[0]=="object")Ne=_e[0];else if(_e&&typeof _e=="object"&&"signedMessage"in _e&&"signature"in _e)Ne=_e;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ne&&"signature"in Ne&&(typeof Ne.signedMessage=="string"||Ne.signedMessage instanceof Uint8Array)&&Ne.signature instanceof Uint8Array)C=typeof Ne.signedMessage=="string"?Ne.signedMessage:new TextDecoder().decode(Ne.signedMessage),V=Ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in pe)||typeof pe.signMessage!="function"||!("publicKey"in pe)||typeof pe!="object"||!pe.publicKey||!("toBase58"in pe.publicKey)||typeof pe.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ue.host} wants you to sign in with your Solana account:`,pe.publicKey.toBase58(),...se?["",se,""]:[""],"Version: 1",`URI: ${ue.href}`,`Issued At: ${(o=(s=ce==null?void 0:ce.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((f=ce==null?void 0:ce.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${ce.signInWithSolana.notBefore}`]:[],...!((m=ce==null?void 0:ce.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${ce.signInWithSolana.expirationTime}`]:[],...!((p=ce==null?void 0:ce.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${ce.signInWithSolana.chainId}`]:[],...!((y=ce==null?void 0:ce.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${ce.signInWithSolana.nonce}`]:[],...!((v=ce==null?void 0:ce.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${ce.signInWithSolana.requestId}`]:[],...!((O=(S=ce==null?void 0:ce.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||O===void 0)&&O.length?["Resources",...ce.signInWithSolana.resources.map(Ne=>`- ${Ne}`)]:[]].join(`
`);const _e=await pe.signMessage(new TextEncoder().encode(C),"utf8");if(!_e||!(_e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");V=_e}}try{const{data:W,error:Z}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Wb(V)},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(U=a.options)===null||U===void 0?void 0:U.captchaToken}}:null),xform:ir});if(Z)throw Z;return!W||!W.session||!W.user?{data:{user:null,session:null},error:new Yu}:(W.session&&(await this._saveSession(W.session),await this._notifyAllSubscribers("SIGNED_IN",W.session)),{data:Object.assign({},W),error:Z})}catch(W){if(Ie(W))return{data:{user:null,session:null},error:W};throw W}}async _exchangeCodeForSession(a){const r=await Vu(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:f,error:m}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:ir});if(await Iu(this.storage,`${this.storageKey}-code-verifier`),m)throw m;return!f||!f.session||!f.user?{data:{user:null,session:null,redirectType:null},error:new Yu}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign(Object.assign({},f),{redirectType:o??null}),error:m})}catch(f){if(Ie(f))return{data:{user:null,session:null,redirectType:null},error:f};throw f}}async signInWithIdToken(a){try{const{options:r,provider:s,token:o,access_token:f,nonce:m}=a,p=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:f,nonce:m,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ir}),{data:y,error:v}=p;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Yu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:v})}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(a){var r,s,o,f,m;try{if("email"in a){const{email:p,options:y}=a;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await Ys(this.storage,this.storageKey));const{error:O}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},create_user:(s=y==null?void 0:y.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:S},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:O}}if("phone"in a){const{phone:p,options:y}=a,{data:v,error:S}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},create_user:(f=y==null?void 0:y.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(m=y==null?void 0:y.channel)!==null&&m!==void 0?m:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:S}}throw new Ku("You must provide either an email or phone number.")}catch(p){if(Ie(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(a){var r,s;try{let o,f;"options"in a&&(o=(r=a.options)===null||r===void 0?void 0:r.redirectTo,f=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:m,error:p}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:o,xform:ir});if(p)throw p;if(!m)throw new Error("An error occurred on token verification.");const y=m.session,v=m.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(o){if(Ie(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(a){var r,s,o;try{let f=null,m=null;return this.flowType==="pkce"&&([f,m]=await Ys(this.storage,this.storageKey)),await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=a==null?void 0:a.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:yw})}catch(f){if(Ie(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;if(s)throw s;if(!r)throw new ti;const{error:o}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:s,type:o,options:f}=a,{error:m}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:m}}else if("phone"in a){const{phone:s,type:o,options:f}=a,{data:m,error:p}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:p}}throw new Ku("You must provide either an email or phone number and a type")}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Vu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<hd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.storage.isServer){let m=this.suppressGetSessionWarning;a=new Proxy(a,{get:(y,v,S)=>(!m&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),m=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,v,S))})}return{data:{session:a},error:null}}const{session:o,error:f}=await this._callRefreshToken(a.refresh_token);return f?{data:{session:null},error:f}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ri}):await this._useSession(async r=>{var s,o,f;const{data:m,error:p}=r;if(p)throw p;return!(!((s=m.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ti}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(o=m.session)===null||o===void 0?void 0:o.access_token)!==null&&f!==void 0?f:void 0,xform:ri})})}catch(r){if(Ie(r))return $b(r)&&(await this._removeSession(),await Iu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async s=>{const{data:o,error:f}=s;if(f)throw f;if(!o.session)throw new ti;const m=o.session;let p=null,y=null;this.flowType==="pkce"&&a.email!=null&&([p,y]=await Ys(this.storage,this.storageKey));const{data:v,error:S}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:p,code_challenge_method:y}),jwt:m.access_token,xform:ri});if(S)throw S;return m.user=v.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),{data:{user:m.user},error:null}})}catch(s){if(Ie(s))return{data:{user:null},error:s};throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ti;const r=Date.now()/1e3;let s=r,o=!0,f=null;const{payload:m}=gd(a.access_token);if(m.exp&&(s=m.exp,o=s<=r),o){const{session:p,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!p)return{data:{user:null,session:null},error:null};f=p}else{const{data:p,error:y}=await this._getUser(a.access_token);if(y)throw y;f={access_token:a.access_token,refresh_token:a.refresh_token,user:p.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(r){if(Ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var s;if(!a){const{data:m,error:p}=r;if(p)throw p;a=(s=m.session)!==null&&s!==void 0?s:void 0}if(!(a!=null&&a.refresh_token))throw new ti;const{session:o,error:f}=await this._callRefreshToken(a.refresh_token);return f?{data:{user:null,session:null},error:f}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(a,r){try{if(!ua())throw new Gu("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Gu(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new py("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new py("No code detected.");const{data:se,error:ce}=await this._exchangeCodeForSession(a.code);if(ce)throw ce;const pe=new URL(window.location.href);return pe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",pe.toString()),{data:{session:se.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:f,refresh_token:m,expires_in:p,expires_at:y,token_type:v}=a;if(!f||!p||!m||!v)throw new Gu("No session defined in URL");const S=Math.round(Date.now()/1e3),O=parseInt(p);let T=S+O;y&&(T=parseInt(y));const U=T-S;U*1e3<=Is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${U}s, should have been closer to ${O}s`);const C=T-O;S-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,T,S):S-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,T,S);const{data:V,error:W}=await this._getUser(f);if(W)throw W;const Z={provider_token:s,provider_refresh_token:o,access_token:f,expires_in:O,expires_at:T,refresh_token:m,token_type:v,user:V.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Z,redirectType:a.type},error:null}}catch(s){if(Ie(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Vu(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:f}=r;if(f)return{error:f};const m=(s=o.session)===null||s===void 0?void 0:s.access_token;if(m){const{error:p}=await this.admin.signOut(m,a);if(p&&!(Pb(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return a!=="others"&&(await this._removeSession(),await Iu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const r=Zb(),s={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async r=>{var s,o;try{const{data:{session:f},error:m}=r;if(m)throw m;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ys(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(f){if(Ie(f))return{data:null,error:f};throw f}}async getUserIdentities(){var a;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async linkIdentity(a){var r;try{const{data:s,error:o}=await this._useSession(async f=>{var m,p,y,v,S;const{data:O,error:T}=f;if(T)throw T;const U=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(m=a.options)===null||m===void 0?void 0:m.redirectTo,scopes:(p=a.options)===null||p===void 0?void 0:p.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",U,{headers:this.headers,jwt:(S=(v=O.session)===null||v===void 0?void 0:v.access_token)!==null&&S!==void 0?S:void 0})});if(o)throw o;return ua()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:a.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ie(s))return{data:{provider:a.provider,url:null},error:s};throw s}}async unlinkIdentity(a){try{return await this._useSession(async r=>{var s,o;const{data:f,error:m}=r;if(m)throw m;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(s=f.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await nw(async o=>(o>0&&await tw(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:ir})),(o,f)=>{const m=200*Math.pow(2,o);return f&&md(f)&&Date.now()+m-s<Is})}catch(s){if(this._debug(r,"error",s),Ie(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",s),ua()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Vu(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((a=s.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<hd;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${hd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:f}=await this._callRefreshToken(s.refresh_token);f&&(console.error(f),md(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var r,s;if(!a)throw new ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new cc;const{data:f,error:m}=await this._refreshAccessToken(a);if(m)throw m;if(!f.session)throw new ti;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const p={session:f.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(f){if(this._debug(o,"error",f),Ie(f)){const m={session:null,error:f};return md(f)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(m),m}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(f),f}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,r,s=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:r});const f=[],m=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(a,r)}catch(y){f.push(y)}});if(await Promise.all(m),f.length>0){for(let p=0;p<f.length;p+=1)console.error(f[p]);throw f[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await pp(this.storage,this.storageKey,a)}async _removeSession(){this._debug("#_removeSession()"),await Iu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ua()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Is);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-a)/Is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Is}ms, refresh threshold is ${Ad} ticks`),o<=Ad&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof vp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ua()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[f,m]=await Ys(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(m)}`});o.push(p.toString())}if(s!=null&&s.queryParams){const f=new URLSearchParams(s.queryParams);o.push(f.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var s;const{data:o,error:f}=r;return f?{data:null,error:f}:await it(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _enroll(a){try{return await this._useSession(async r=>{var s,o;const{data:f,error:m}=r;if(m)return{data:null,error:m};const p=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:{issuer:a.issuer}),{data:y,error:v}=await it(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(s=f==null?void 0:f.session)===null||s===void 0?void 0:s.access_token});return v?{data:null,error:v}:(a.factorType==="totp"&&(!((o=y==null?void 0:y.totp)===null||o===void 0)&&o.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:f}=r;if(f)return{data:null,error:f};const{data:m,error:p}=await it(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:{code:a.code,challenge_id:a.challengeId},headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:p})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:f}=r;return f?{data:null,error:f}:await it(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:{channel:a.channel},headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(a){const{data:r,error:s}=await this._challenge({factorId:a.factorId});return s?{data:null,error:s}:await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(a==null?void 0:a.factors)||[],o=s.filter(m=>m.factor_type==="totp"&&m.status==="verified"),f=s.filter(m=>m.factor_type==="phone"&&m.status==="verified");return{data:{all:s,totp:o,phone:f},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var r,s;const{data:{session:o},error:f}=a;if(f)return{data:null,error:f};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=gd(o.access_token);let p=null;m.aal&&(p=m.aal);let y=p;((s=(r=o.user.factors)===null||r===void 0?void 0:r.filter(O=>O.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(y="aal2");const S=m.amr||[];return{data:{currentLevel:p,nextLevel:y,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(a,r={keys:[]}){let s=r.keys.find(m=>m.kid===a);if(s||(s=this.jwks.keys.find(m=>m.kid===a),s&&this.jwks_cached_at+qb>Date.now()))return s;const{data:o,error:f}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;if(!o.keys||o.keys.length===0)throw new bo("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),s=o.keys.find(m=>m.kid===a),!s)throw new bo("No matching signing key found in JWKS");return s}async getClaims(a,r={keys:[]}){try{let s=a;if(!s){const{data:U,error:C}=await this.getSession();if(C||!U.session)return{data:null,error:C};s=U.session.access_token}const{header:o,payload:f,signature:m,raw:{header:p,payload:y}}=gd(s);if(uw(f.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:U}=await this.getUser(s);if(U)throw U;return{data:{claims:f,header:o,signature:m},error:null}}const v=cw(o.alg),S=await this.fetchJwk(o.kid,r),O=await crypto.subtle.importKey("jwk",S,v,!0,["verify"]);if(!await crypto.subtle.verify(v,O,m,Xb(`${p}.${y}`)))throw new bo("Invalid JWT signature");return{data:{claims:f,header:o,signature:m},error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}}}xo.nextInstanceID=0;const kw=xo;class Tw extends kw{constructor(a){super(a)}}var Cw=function(i,a,r,s){function o(f){return f instanceof r?f:new r(function(m){m(f)})}return new(r||(r=Promise))(function(f,m){function p(S){try{v(s.next(S))}catch(O){m(O)}}function y(S){try{v(s.throw(S))}catch(O){m(O)}}function v(S){S.done?f(S.value):o(S.value).then(p,y)}v((s=s.apply(i,a||[])).next())})};class Aw{constructor(a,r,s){var o,f,m;if(this.supabaseUrl=a,this.supabaseKey=r,!a)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const p=Rb(a),y=new URL(p);this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const v=`sb-${y.hostname.split(".")[0]}-auth-token`,S={db:jb,realtime:kb,auth:Object.assign(Object.assign({},Ob),{storageKey:v}),global:Eb},O=Mb(s??{},S);this.storageKey=(o=O.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(f=O.global.headers)!==null&&f!==void 0?f:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(T,U)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(U)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=O.auth)!==null&&m!==void 0?m:{},this.headers,O.global.fetch),this.fetch=Db(r,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.rest=new I0(new URL("rest/v1",y).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),O.accessToken||this._listenForAuthEvents()}get functions(){return new z0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xb(this.storageUrl.href,this.headers,this.fetch)}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},s={}){return this.rest.rpc(a,r,s)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a,r;return Cw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:o,storageKey:f,flowType:m,lock:p,debug:y},v,S){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tw({url:this.authUrl.href,headers:Object.assign(Object.assign({},O),v),storageKey:f,autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:o,flowType:m,lock:p,debug:y,fetch:S,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(a){return new ob(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(a,r,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dw=(i,a,r)=>new Aw(i,a,r),Nw="https://xytftodiuxefsylkdaig.supabase.co",Rw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5dGZ0b2RpdXhlZnN5bGtkYWlnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg3MTE1NTEsImV4cCI6MjA2NDI4NzU1MX0.YzuTozhquDy5C1JiTAUyLUB6xmPIRdGeINRuphMD8PU",Xe=Dw(Nw,Rw);var co={},Oy;function Mw(){if(Oy)return co;Oy=1,Object.defineProperty(co,"__esModule",{value:!0}),co.parse=m,co.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,f=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function m(T,U){const C=new f,V=T.length;if(V<2)return C;const W=(U==null?void 0:U.decode)||S;let Z=0;do{const se=T.indexOf("=",Z);if(se===-1)break;const ce=T.indexOf(";",Z),pe=ce===-1?V:ce;if(se>pe){Z=T.lastIndexOf(";",se-1)+1;continue}const ue=p(T,Z,se),_e=y(T,se,ue),Ne=T.slice(ue,_e);if(C[Ne]===void 0){let We=p(T,se+1,pe),Le=y(T,pe,We);const Ue=W(T.slice(We,Le));C[Ne]=Ue}Z=pe+1}while(Z<V);return C}function p(T,U,C){do{const V=T.charCodeAt(U);if(V!==32&&V!==9)return U}while(++U<C);return C}function y(T,U,C){for(;U>C;){const V=T.charCodeAt(--U);if(V!==32&&V!==9)return U+1}return C}function v(T,U,C){const V=(C==null?void 0:C.encode)||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const W=V(U);if(!a.test(W))throw new TypeError(`argument val is invalid: ${U}`);let Z=T+"="+W;if(!C)return Z;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);Z+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);Z+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);Z+="; Path="+C.path}if(C.expires){if(!O(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);Z+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(Z+="; HttpOnly"),C.secure&&(Z+="; Secure"),C.partitioned&&(Z+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":Z+="; Priority=Low";break;case"medium":Z+="; Priority=Medium";break;case"high":Z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":Z+="; SameSite=Strict";break;case"lax":Z+="; SameSite=Lax";break;case"none":Z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return Z}function S(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function O(T){return o.call(T)==="[object Date]"}return co}Mw();var ky="popstate";function Uw(i={}){function a(o,f){let{pathname:m="/",search:p="",hash:y=""}=Pi(o.location.hash.substring(1));return!m.startsWith("/")&&!m.startsWith(".")&&(m="/"+m),Rd("",{pathname:m,search:p,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function r(o,f){let m=o.document.querySelector("base"),p="";if(m&&m.getAttribute("href")){let y=o.location.href,v=y.indexOf("#");p=v===-1?y:y.slice(0,v)}return p+"#"+(typeof f=="string"?f:_o(f))}function s(o,f){fa(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return zw(a,r,s,i)}function Mt(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function fa(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Lw(){return Math.random().toString(36).substring(2,10)}function Ty(i,a){return{usr:i.state,key:i.key,idx:a}}function Rd(i,a,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?Pi(a):a,state:r,key:a&&a.key||s||Lw()}}function _o({pathname:i="/",search:a="",hash:r=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Pi(i){let a={};if(i){let r=i.indexOf("#");r>=0&&(a.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(a.search=i.substring(s),i=i.substring(0,s)),i&&(a.pathname=i)}return a}function zw(i,a,r,s={}){let{window:o=document.defaultView,v5Compat:f=!1}=s,m=o.history,p="POP",y=null,v=S();v==null&&(v=0,m.replaceState({...m.state,idx:v},""));function S(){return(m.state||{idx:null}).idx}function O(){p="POP";let W=S(),Z=W==null?null:W-v;v=W,y&&y({action:p,location:V.location,delta:Z})}function T(W,Z){p="PUSH";let se=Rd(V.location,W,Z);r&&r(se,W),v=S()+1;let ce=Ty(se,v),pe=V.createHref(se);try{m.pushState(ce,"",pe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(pe)}f&&y&&y({action:p,location:V.location,delta:1})}function U(W,Z){p="REPLACE";let se=Rd(V.location,W,Z);r&&r(se,W),v=S();let ce=Ty(se,v),pe=V.createHref(se);m.replaceState(ce,"",pe),f&&y&&y({action:p,location:V.location,delta:0})}function C(W){return Bw(W)}let V={get action(){return p},get location(){return i(o,m)},listen(W){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(ky,O),y=W,()=>{o.removeEventListener(ky,O),y=null}},createHref(W){return a(o,W)},createURL:C,encodeLocation(W){let Z=C(W);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:T,replace:U,go(W){return m.go(W)}};return V}function Bw(i,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(r,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:_o(i);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function bp(i,a,r="/"){return qw(i,a,r,!1)}function qw(i,a,r,s){let o=typeof a=="string"?Pi(a):a,f=or(o.pathname||"/",r);if(f==null)return null;let m=wp(i);Hw(m);let p=null;for(let y=0;p==null&&y<m.length;++y){let v=Fw(f);p=Xw(m[y],v,s)}return p}function wp(i,a=[],r=[],s=""){let o=(f,m,p)=>{let y={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};y.relativePath.startsWith("/")&&(Mt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let v=lr([s,y.relativePath]),S=r.concat(y);f.children&&f.children.length>0&&(Mt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),wp(f.children,a,S,v)),!(f.path==null&&!f.index)&&a.push({path:v,score:Iw(v,f.index),routesMeta:S})};return i.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))o(f,m);else for(let y of xp(f.path))o(f,m,y)}),a}function xp(i){let a=i.split("/");if(a.length===0)return[];let[r,...s]=a,o=r.endsWith("?"),f=r.replace(/\?$/,"");if(s.length===0)return o?[f,""]:[f];let m=xp(s.join("/")),p=[];return p.push(...m.map(y=>y===""?f:[f,y].join("/"))),o&&p.push(...m),p.map(y=>i.startsWith("/")&&y===""?"/":y)}function Hw(i){i.sort((a,r)=>a.score!==r.score?r.score-a.score:Qw(a.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var Pw=/^:[\w-]+$/,$w=3,Yw=2,Kw=1,Gw=10,Vw=-2,Cy=i=>i==="*";function Iw(i,a){let r=i.split("/"),s=r.length;return r.some(Cy)&&(s+=Vw),a&&(s+=Yw),r.filter(o=>!Cy(o)).reduce((o,f)=>o+(Pw.test(f)?$w:f===""?Kw:Gw),s)}function Qw(i,a){return i.length===a.length&&i.slice(0,-1).every((s,o)=>s===a[o])?i[i.length-1]-a[a.length-1]:0}function Xw(i,a,r=!1){let{routesMeta:s}=i,o={},f="/",m=[];for(let p=0;p<s.length;++p){let y=s[p],v=p===s.length-1,S=f==="/"?a:a.slice(f.length)||"/",O=ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},S),T=y.route;if(!O&&v&&r&&!s[s.length-1].route.index&&(O=ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},S)),!O)return null;Object.assign(o,O.params),m.push({params:o,pathname:lr([f,O.pathname]),pathnameBase:t1(lr([f,O.pathnameBase])),route:T}),O.pathnameBase!=="/"&&(f=lr([f,O.pathnameBase]))}return m}function ic(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=Ww(i.path,i.caseSensitive,i.end),o=a.match(r);if(!o)return null;let f=o[0],m=f.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((v,{paramName:S,isOptional:O},T)=>{if(S==="*"){let C=p[T]||"";m=f.slice(0,f.length-C.length).replace(/(.)\/+$/,"$1")}const U=p[T];return O&&!U?v[S]=void 0:v[S]=(U||"").replace(/%2F/g,"/"),v},{}),pathname:f,pathnameBase:m,pattern:i}}function Ww(i,a=!1,r=!0){fa(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,y)=>(s.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),s]}function Fw(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return fa(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function or(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function Zw(i,a="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?Pi(i):i;return{pathname:r?r.startsWith("/")?r:Jw(r,a):a,search:n1(s),hash:a1(o)}}function Jw(i,a){let r=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function pd(i,a,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e1(i){return i.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function _p(i){let a=e1(i);return a.map((r,s)=>s===a.length-1?r.pathname:r.pathnameBase)}function Sp(i,a,r,s=!1){let o;typeof i=="string"?o=Pi(i):(o={...i},Mt(!o.pathname||!o.pathname.includes("?"),pd("?","pathname","search",o)),Mt(!o.pathname||!o.pathname.includes("#"),pd("#","pathname","hash",o)),Mt(!o.search||!o.search.includes("#"),pd("#","search","hash",o)));let f=i===""||o.pathname==="",m=f?"/":o.pathname,p;if(m==null)p=r;else{let O=a.length-1;if(!s&&m.startsWith("..")){let T=m.split("/");for(;T[0]==="..";)T.shift(),O-=1;o.pathname=T.join("/")}p=O>=0?a[O]:"/"}let y=Zw(o,p),v=m&&m!=="/"&&m.endsWith("/"),S=(f||m===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(v||S)&&(y.pathname+="/"),y}var lr=i=>i.join("/").replace(/\/\/+/g,"/"),t1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),n1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,a1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function r1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Ep=["POST","PUT","PATCH","DELETE"];new Set(Ep);var i1=["GET",...Ep];new Set(i1);var Fs=R.createContext(null);Fs.displayName="DataRouter";var fc=R.createContext(null);fc.displayName="DataRouterState";var jp=R.createContext({isTransitioning:!1});jp.displayName="ViewTransition";var s1=R.createContext(new Map);s1.displayName="Fetchers";var l1=R.createContext(null);l1.displayName="Await";var Ca=R.createContext(null);Ca.displayName="Navigation";var ko=R.createContext(null);ko.displayName="Location";var cr=R.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var Gd=R.createContext(null);Gd.displayName="RouteError";function o1(i,{relative:a}={}){Mt(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=R.useContext(Ca),{hash:o,pathname:f,search:m}=Co(i,{relative:a}),p=f;return r!=="/"&&(p=f==="/"?r:lr([r,f])),s.createHref({pathname:p,search:m,hash:o})}function To(){return R.useContext(ko)!=null}function fr(){return Mt(To(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ko).location}var Op="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kp(i){R.useContext(Ca).static||R.useLayoutEffect(i)}function u1(){let{isDataRoute:i}=R.useContext(cr);return i?_1():c1()}function c1(){Mt(To(),"useNavigate() may be used only in the context of a <Router> component.");let i=R.useContext(Fs),{basename:a,navigator:r}=R.useContext(Ca),{matches:s}=R.useContext(cr),{pathname:o}=fr(),f=JSON.stringify(_p(s)),m=R.useRef(!1);return kp(()=>{m.current=!0}),R.useCallback((y,v={})=>{if(fa(m.current,Op),!m.current)return;if(typeof y=="number"){r.go(y);return}let S=Sp(y,JSON.parse(f),o,v.relative==="path");i==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:lr([a,S.pathname])),(v.replace?r.replace:r.push)(S,v.state,v)},[a,r,f,o,i])}R.createContext(null);function Co(i,{relative:a}={}){let{matches:r}=R.useContext(cr),{pathname:s}=fr(),o=JSON.stringify(_p(r));return R.useMemo(()=>Sp(i,JSON.parse(o),s,a==="path"),[i,o,s,a])}function f1(i,a){return Tp(i,a)}function Tp(i,a,r,s){var Z;Mt(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(Ca),{matches:f}=R.useContext(cr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",v=m?m.pathnameBase:"/",S=m&&m.route;{let se=S&&S.path||"";Cp(y,!S||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let O=fr(),T;if(a){let se=typeof a=="string"?Pi(a):a;Mt(v==="/"||((Z=se.pathname)==null?void 0:Z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${se.pathname}" was given in the \`location\` prop.`),T=se}else T=O;let U=T.pathname||"/",C=U;if(v!=="/"){let se=v.replace(/^\//,"").split("/");C="/"+U.replace(/^\//,"").split("/").slice(se.length).join("/")}let V=bp(i,{pathname:C});fa(S||V!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),fa(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=y1(V&&V.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:lr([v,o.encodeLocation?o.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?v:lr([v,o.encodeLocation?o.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),f,r,s);return a&&W?R.createElement(ko.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},W):W}function d1(){let i=x1(),a=r1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},f={padding:"2px 4px",backgroundColor:s},m=null;return console.error("Error handled by React Router default ErrorBoundary:",i),m=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:f},"ErrorBoundary")," or"," ",R.createElement("code",{style:f},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},a),r?R.createElement("pre",{style:o},r):null,m)}var h1=R.createElement(d1,null),m1=class extends R.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error!==void 0?R.createElement(cr.Provider,{value:this.props.routeContext},R.createElement(Gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g1({routeContext:i,match:a,children:r}){let s=R.useContext(Fs);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),R.createElement(cr.Provider,{value:i},r)}function y1(i,a=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,f=r==null?void 0:r.errors;if(f!=null){let y=o.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);Mt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let m=!1,p=-1;if(r)for(let y=0;y<o.length;y++){let v=o[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:S,errors:O}=r,T=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!O||O[v.route.id]===void 0);if(v.route.lazy||T){m=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((y,v,S)=>{let O,T=!1,U=null,C=null;r&&(O=f&&v.route.id?f[v.route.id]:void 0,U=v.route.errorElement||h1,m&&(p<0&&S===0?(Cp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):p===S&&(T=!0,C=v.route.hydrateFallbackElement||null)));let V=a.concat(o.slice(0,S+1)),W=()=>{let Z;return O?Z=U:T?Z=C:v.route.Component?Z=R.createElement(v.route.Component,null):v.route.element?Z=v.route.element:Z=y,R.createElement(g1,{match:v,routeContext:{outlet:y,matches:V,isDataRoute:r!=null},children:Z})};return r&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?R.createElement(m1,{location:r.location,revalidation:r.revalidation,component:U,error:O,children:W(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):W()},null)}function Vd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p1(i){let a=R.useContext(Fs);return Mt(a,Vd(i)),a}function v1(i){let a=R.useContext(fc);return Mt(a,Vd(i)),a}function b1(i){let a=R.useContext(cr);return Mt(a,Vd(i)),a}function Id(i){let a=b1(i),r=a.matches[a.matches.length-1];return Mt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function w1(){return Id("useRouteId")}function x1(){var s;let i=R.useContext(Gd),a=v1("useRouteError"),r=Id("useRouteError");return i!==void 0?i:(s=a.errors)==null?void 0:s[r]}function _1(){let{router:i}=p1("useNavigate"),a=Id("useNavigate"),r=R.useRef(!1);return kp(()=>{r.current=!0}),R.useCallback(async(o,f={})=>{fa(r.current,Op),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:a,...f}))},[i,a])}var Ay={};function Cp(i,a,r){!a&&!Ay[i]&&(Ay[i]=!0,fa(!1,r))}R.memo(S1);function S1({routes:i,future:a,state:r}){return Tp(i,void 0,r,a)}function yo(i){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E1({basename:i="/",children:a=null,location:r,navigationType:s="POP",navigator:o,static:f=!1}){Mt(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:m,navigator:o,static:f,future:{}}),[m,o,f]);typeof r=="string"&&(r=Pi(r));let{pathname:y="/",search:v="",hash:S="",state:O=null,key:T="default"}=r,U=R.useMemo(()=>{let C=or(y,m);return C==null?null:{location:{pathname:C,search:v,hash:S,state:O,key:T},navigationType:s}},[m,y,v,S,O,T,s]);return fa(U!=null,`<Router basename="${m}"> is not able to match the URL "${y}${v}${S}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:R.createElement(Ca.Provider,{value:p},R.createElement(ko.Provider,{children:a,value:U}))}function j1({children:i,location:a}){return f1(Md(i),a)}function Md(i,a=[]){let r=[];return R.Children.forEach(i,(s,o)=>{if(!R.isValidElement(s))return;let f=[...a,o];if(s.type===R.Fragment){r.push.apply(r,Md(s.props.children,f));return}Mt(s.type===yo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let m={id:s.props.id||f.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(m.children=Md(s.props.children,f)),r.push(m)}),r}var Fu="get",Zu="application/x-www-form-urlencoded";function dc(i){return i!=null&&typeof i.tagName=="string"}function O1(i){return dc(i)&&i.tagName.toLowerCase()==="button"}function k1(i){return dc(i)&&i.tagName.toLowerCase()==="form"}function T1(i){return dc(i)&&i.tagName.toLowerCase()==="input"}function C1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function A1(i,a){return i.button===0&&(!a||a==="_self")&&!C1(i)}var Qu=null;function D1(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var N1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(i){return i!=null&&!N1.has(i)?(fa(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):i}function R1(i,a){let r,s,o,f,m;if(k1(i)){let p=i.getAttribute("action");s=p?or(p,a):null,r=i.getAttribute("method")||Fu,o=vd(i.getAttribute("enctype"))||Zu,f=new FormData(i)}else if(O1(i)||T1(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||p.getAttribute("action");if(s=y?or(y,a):null,r=i.getAttribute("formmethod")||p.getAttribute("method")||Fu,o=vd(i.getAttribute("formenctype"))||vd(p.getAttribute("enctype"))||Zu,f=new FormData(p,i),!D1()){let{name:v,type:S,value:O}=i;if(S==="image"){let T=v?`${v}.`:"";f.append(`${T}x`,"0"),f.append(`${T}y`,"0")}else v&&f.append(v,O)}}else{if(dc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Fu,s=null,o=Zu,m=i}return f&&o==="text/plain"&&(m=f,f=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:f,body:m}}function Qd(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}async function M1(i,a){if(i.id in a)return a[i.id];try{let r=await import(i.module);return a[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function L1(i,a,r){let s=await Promise.all(i.map(async o=>{let f=a.routes[o.route.id];if(f){let m=await M1(f,r);return m.links?m.links():[]}return[]}));return H1(s.flat(1).filter(U1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dy(i,a,r,s,o,f){let m=(y,v)=>r[v]?y.route.id!==r[v].route.id:!0,p=(y,v)=>{var S;return r[v].pathname!==y.pathname||((S=r[v].route.path)==null?void 0:S.endsWith("*"))&&r[v].params["*"]!==y.params["*"]};return f==="assets"?a.filter((y,v)=>m(y,v)||p(y,v)):f==="data"?a.filter((y,v)=>{var O;let S=s.routes[y.route.id];if(!S||!S.hasLoader)return!1;if(m(y,v)||p(y,v))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((O=r[0])==null?void 0:O.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function z1(i,a,{includeHydrateFallback:r}={}){return B1(i.map(s=>{let o=a.routes[s.route.id];if(!o)return[];let f=[o.module];return o.clientActionModule&&(f=f.concat(o.clientActionModule)),o.clientLoaderModule&&(f=f.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(f=f.concat(o.hydrateFallbackModule)),o.imports&&(f=f.concat(o.imports)),f}).flat(1))}function B1(i){return[...new Set(i)]}function q1(i){let a={},r=Object.keys(i).sort();for(let s of r)a[s]=i[s];return a}function H1(i,a){let r=new Set;return new Set(a),i.reduce((s,o)=>{let f=JSON.stringify(q1(o));return r.has(f)||(r.add(f),s.push({key:f,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var P1=new Set([100,101,204,205]);function $1(i,a){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":a&&or(r.pathname,a)==="/"?r.pathname=`${a.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Ap(){let i=R.useContext(Fs);return Qd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Y1(){let i=R.useContext(fc);return Qd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Xd=R.createContext(void 0);Xd.displayName="FrameworkContext";function Dp(){let i=R.useContext(Xd);return Qd(i,"You must render this element inside a <HydratedRouter> element"),i}function K1(i,a){let r=R.useContext(Xd),[s,o]=R.useState(!1),[f,m]=R.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:v,onMouseLeave:S,onTouchStart:O}=a,T=R.useRef(null);R.useEffect(()=>{if(i==="render"&&m(!0),i==="viewport"){let V=Z=>{Z.forEach(se=>{m(se.isIntersecting)})},W=new IntersectionObserver(V,{threshold:.5});return T.current&&W.observe(T.current),()=>{W.disconnect()}}},[i]),R.useEffect(()=>{if(s){let V=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(V)}}},[s]);let U=()=>{o(!0)},C=()=>{o(!1),m(!1)};return r?i!=="intent"?[f,T,{}]:[f,T,{onFocus:fo(p,U),onBlur:fo(y,C),onMouseEnter:fo(v,U),onMouseLeave:fo(S,C),onTouchStart:fo(O,U)}]:[!1,T,{}]}function fo(i,a){return r=>{i&&i(r),r.defaultPrevented||a(r)}}function G1({page:i,...a}){let{router:r}=Ap(),s=R.useMemo(()=>bp(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?R.createElement(I1,{page:i,matches:s,...a}):null}function V1(i){let{manifest:a,routeModules:r}=Dp(),[s,o]=R.useState([]);return R.useEffect(()=>{let f=!1;return L1(i,a,r).then(m=>{f||o(m)}),()=>{f=!0}},[i,a,r]),s}function I1({page:i,matches:a,...r}){let s=fr(),{manifest:o,routeModules:f}=Dp(),{basename:m}=Ap(),{loaderData:p,matches:y}=Y1(),v=R.useMemo(()=>Dy(i,a,y,o,s,"data"),[i,a,y,o,s]),S=R.useMemo(()=>Dy(i,a,y,o,s,"assets"),[i,a,y,o,s]),O=R.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let C=new Set,V=!1;if(a.forEach(Z=>{var ce;let se=o.routes[Z.route.id];!se||!se.hasLoader||(!v.some(pe=>pe.route.id===Z.route.id)&&Z.route.id in p&&((ce=f[Z.route.id])!=null&&ce.shouldRevalidate)||se.hasClientLoader?V=!0:C.add(Z.route.id))}),C.size===0)return[];let W=$1(i,m);return V&&C.size>0&&W.searchParams.set("_routes",a.filter(Z=>C.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[W.pathname+W.search]},[m,p,s,o,v,a,i,f]),T=R.useMemo(()=>z1(S,o),[S,o]),U=V1(S);return R.createElement(R.Fragment,null,O.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),T.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),U.map(({key:C,link:V})=>R.createElement("link",{key:C,...V})))}function Q1(...i){return a=>{i.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var Np=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Np&&(window.__reactRouterVersion="7.6.2")}catch{}function X1({basename:i,children:a,window:r}){let s=R.useRef();s.current==null&&(s.current=Uw({window:r,v5Compat:!0}));let o=s.current,[f,m]=R.useState({action:o.action,location:o.location}),p=R.useCallback(y=>{R.startTransition(()=>m(y))},[m]);return R.useLayoutEffect(()=>o.listen(p),[o,p]),R.createElement(E1,{basename:i,children:a,location:f.location,navigationType:f.action,navigator:o})}var Rp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=R.forwardRef(function({onClick:a,discover:r="render",prefetch:s="none",relative:o,reloadDocument:f,replace:m,state:p,target:y,to:v,preventScrollReset:S,viewTransition:O,...T},U){let{basename:C}=R.useContext(Ca),V=typeof v=="string"&&Rp.test(v),W,Z=!1;if(typeof v=="string"&&V&&(W=v,Np))try{let Le=new URL(window.location.href),Ue=v.startsWith("//")?new URL(Le.protocol+v):new URL(v),Ce=or(Ue.pathname,C);Ue.origin===Le.origin&&Ce!=null?v=Ce+Ue.search+Ue.hash:Z=!0}catch{fa(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=o1(v,{relative:o}),[ce,pe,ue]=K1(s,T),_e=J1(v,{replace:m,state:p,target:y,preventScrollReset:S,relative:o,viewTransition:O});function Ne(Le){a&&a(Le),Le.defaultPrevented||_e(Le)}let We=R.createElement("a",{...T,...ue,href:W||se,onClick:Z||f?a:Ne,ref:Q1(U,pe),target:y,"data-discover":!V&&r==="render"?"true":void 0});return ce&&!V?R.createElement(R.Fragment,null,We,R.createElement(G1,{page:se})):We});qi.displayName="Link";var W1=R.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:s="",end:o=!1,style:f,to:m,viewTransition:p,children:y,...v},S){let O=Co(m,{relative:v.relative}),T=fr(),U=R.useContext(fc),{navigator:C,basename:V}=R.useContext(Ca),W=U!=null&&rx(O)&&p===!0,Z=C.encodeLocation?C.encodeLocation(O).pathname:O.pathname,se=T.pathname,ce=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;r||(se=se.toLowerCase(),ce=ce?ce.toLowerCase():null,Z=Z.toLowerCase()),ce&&V&&(ce=or(ce,V)||ce);const pe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ue=se===Z||!o&&se.startsWith(Z)&&se.charAt(pe)==="/",_e=ce!=null&&(ce===Z||!o&&ce.startsWith(Z)&&ce.charAt(Z.length)==="/"),Ne={isActive:ue,isPending:_e,isTransitioning:W},We=ue?a:void 0,Le;typeof s=="function"?Le=s(Ne):Le=[s,ue?"active":null,_e?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let Ue=typeof f=="function"?f(Ne):f;return R.createElement(qi,{...v,"aria-current":We,className:Le,ref:S,style:Ue,to:m,viewTransition:p},typeof y=="function"?y(Ne):y)});W1.displayName="NavLink";var F1=R.forwardRef(({discover:i="render",fetcherKey:a,navigate:r,reloadDocument:s,replace:o,state:f,method:m=Fu,action:p,onSubmit:y,relative:v,preventScrollReset:S,viewTransition:O,...T},U)=>{let C=nx(),V=ax(p,{relative:v}),W=m.toLowerCase()==="get"?"get":"post",Z=typeof p=="string"&&Rp.test(p),se=ce=>{if(y&&y(ce),ce.defaultPrevented)return;ce.preventDefault();let pe=ce.nativeEvent.submitter,ue=(pe==null?void 0:pe.getAttribute("formmethod"))||m;C(pe||ce.currentTarget,{fetcherKey:a,method:ue,navigate:r,replace:o,state:f,relative:v,preventScrollReset:S,viewTransition:O})};return R.createElement("form",{ref:U,method:W,action:V,onSubmit:s?y:se,...T,"data-discover":!Z&&i==="render"?"true":void 0})});F1.displayName="Form";function Z1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mp(i){let a=R.useContext(Fs);return Mt(a,Z1(i)),a}function J1(i,{target:a,replace:r,state:s,preventScrollReset:o,relative:f,viewTransition:m}={}){let p=u1(),y=fr(),v=Co(i,{relative:f});return R.useCallback(S=>{if(A1(S,a)){S.preventDefault();let O=r!==void 0?r:_o(y)===_o(v);p(i,{replace:O,state:s,preventScrollReset:o,relative:f,viewTransition:m})}},[y,p,v,r,s,a,i,o,f,m])}var ex=0,tx=()=>`__${String(++ex)}__`;function nx(){let{router:i}=Mp("useSubmit"),{basename:a}=R.useContext(Ca),r=w1();return R.useCallback(async(s,o={})=>{let{action:f,method:m,encType:p,formData:y,body:v}=R1(s,a);if(o.navigate===!1){let S=o.fetcherKey||tx();await i.fetch(S,r,o.action||f,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||m,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||f,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||m,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,a,r])}function ax(i,{relative:a}={}){let{basename:r}=R.useContext(Ca),s=R.useContext(cr);Mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),f={...Co(i||".",{relative:a})},m=fr();if(i==null){f.search=m.search;let p=new URLSearchParams(f.search),y=p.getAll("index");if(y.some(S=>S==="")){p.delete("index"),y.filter(O=>O).forEach(O=>p.append("index",O));let S=p.toString();f.search=S?`?${S}`:""}}return(!i||i===".")&&o.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(f.pathname=f.pathname==="/"?r:lr([r,f.pathname])),_o(f)}function rx(i,a={}){let r=R.useContext(jp);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Mp("useViewTransitionState"),o=Co(i,{relative:a.relative});if(!r.isTransitioning)return!1;let f=or(r.currentLocation.pathname,s)||r.currentLocation.pathname,m=or(r.nextLocation.pathname,s)||r.nextLocation.pathname;return ic(o.pathname,m)!=null||ic(o.pathname,f)!=null}[...P1];var Ju={exports:{}},ix=Ju.exports,Ny;function sx(){return Ny||(Ny=1,function(i,a){(function(r,s){i.exports=s()})(ix,function(){var r=function(u,d){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(g[_]=w[_])})(u,d)},s=function(){return(s=Object.assign||function(u){for(var d,g=1,w=arguments.length;g<w;g++)for(var _ in d=arguments[g])Object.prototype.hasOwnProperty.call(d,_)&&(u[_]=d[_]);return u}).apply(this,arguments)};function o(u,d,g){for(var w,_=0,E=d.length;_<E;_++)!w&&_ in d||((w=w||Array.prototype.slice.call(d,0,_))[_]=d[_]);return u.concat(w||Array.prototype.slice.call(d))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:w0,m=Object.keys,p=Array.isArray;function y(u,d){return typeof d!="object"||m(d).forEach(function(g){u[g]=d[g]}),u}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var v=Object.getPrototypeOf,S={}.hasOwnProperty;function O(u,d){return S.call(u,d)}function T(u,d){typeof d=="function"&&(d=d(v(u))),(typeof Reflect>"u"?m:Reflect.ownKeys)(d).forEach(function(g){C(u,g,d[g])})}var U=Object.defineProperty;function C(u,d,g,w){U(u,d,y(g&&O(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},w))}function V(u){return{from:function(d){return u.prototype=Object.create(d.prototype),C(u.prototype,"constructor",u),{extend:T.bind(null,u.prototype)}}}}var W=Object.getOwnPropertyDescriptor,Z=[].slice;function se(u,d,g){return Z.call(u,d,g)}function ce(u,d){return d(u)}function pe(u){if(!u)throw new Error("Assertion Failed")}function ue(u){f.setImmediate?setImmediate(u):setTimeout(u,0)}function _e(u,d){if(typeof d=="string"&&O(u,d))return u[d];if(!d)return u;if(typeof d!="string"){for(var g=[],w=0,_=d.length;w<_;++w){var E=_e(u,d[w]);g.push(E)}return g}var k=d.indexOf(".");if(k!==-1){var D=u[d.substr(0,k)];return D==null?void 0:_e(D,d.substr(k+1))}}function Ne(u,d,g){if(u&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof d!="string"&&"length"in d){pe(typeof g!="string"&&"length"in g);for(var w=0,_=d.length;w<_;++w)Ne(u,d[w],g[w])}else{var E,k,D=d.indexOf(".");D!==-1?(E=d.substr(0,D),(k=d.substr(D+1))===""?g===void 0?p(u)&&!isNaN(parseInt(E))?u.splice(E,1):delete u[E]:u[E]=g:Ne(D=!(D=u[E])||!O(u,E)?u[E]={}:D,k,g)):g===void 0?p(u)&&!isNaN(parseInt(d))?u.splice(d,1):delete u[d]:u[d]=g}}function We(u){var d,g={};for(d in u)O(u,d)&&(g[d]=u[d]);return g}var Le=[].concat;function Ue(u){return Le.apply([],u)}var An="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ue([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(d){return d+u+"Array"})}))).filter(function(u){return f[u]}),Ce=new Set(An.map(function(u){return f[u]})),tt=null;function Ct(u){return tt=new WeakMap,u=function d(g){if(!g||typeof g!="object")return g;var w=tt.get(g);if(w)return w;if(p(g)){w=[],tt.set(g,w);for(var _=0,E=g.length;_<E;++_)w.push(d(g[_]))}else if(Ce.has(g.constructor))w=g;else{var k,D=v(g);for(k in w=D===Object.prototype?{}:Object.create(D),tt.set(g,w),g)O(g,k)&&(w[k]=d(g[k]))}return w}(u),tt=null,u}var ge={}.toString;function me(u){return ge.call(u).slice(8,-1)}var L=typeof Symbol<"u"?Symbol.iterator:"@@iterator",re=typeof L=="symbol"?function(u){var d;return u!=null&&(d=u[L])&&d.apply(u)}:function(){return null};function ie(u,d){return d=u.indexOf(d),0<=d&&u.splice(d,1),0<=d}var je={};function A(u){var d,g,w,_;if(arguments.length===1){if(p(u))return u.slice();if(this===je&&typeof u=="string")return[u];if(_=re(u)){for(g=[];!(w=_.next()).done;)g.push(w.value);return g}if(u==null)return[u];if(typeof(d=u.length)!="number")return[u];for(g=new Array(d);d--;)g[d]=u[d];return g}for(d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return g}var ae=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},si=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Sn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(si),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function he(u,d){this.name=u,this.message=d}function ke(u,d){return u+". Errors: "+Object.keys(d).map(function(g){return d[g].toString()}).filter(function(g,w,_){return _.indexOf(g)===w}).join(`
`)}function He(u,d,g,w){this.failures=d,this.failedKeys=w,this.successCount=g,this.message=ke(u,d)}function ze(u,d){this.name="BulkError",this.failures=Object.keys(d).map(function(g){return d[g]}),this.failuresByPos=d,this.message=ke(u,this.failures)}V(he).from(Error).extend({toString:function(){return this.name+": "+this.message}}),V(He).from(he),V(ze).from(he);var wt=Sn.reduce(function(u,d){return u[d]=d+"Error",u},{}),ot=he,Te=Sn.reduce(function(u,d){var g=d+"Error";function w(_,E){this.name=g,_?typeof _=="string"?(this.message="".concat(_).concat(E?`
 `+E:""),this.inner=E||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=ye[d]||g,this.inner=null)}return V(w).from(ot),u[d]=w,u},{});Te.Syntax=SyntaxError,Te.Type=TypeError,Te.Range=RangeError;var At=si.reduce(function(u,d){return u[d+"Error"]=Te[d],u},{}),$t=Sn.reduce(function(u,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(u[d+"Error"]=Te[d]),u},{});function Fe(){}function fn(u){return u}function dr(u,d){return u==null||u===fn?d:function(g){return d(u(g))}}function Hn(u,d){return function(){u.apply(this,arguments),d.apply(this,arguments)}}function De(u,d){return u===Fe?d:function(){var g=u.apply(this,arguments);g!==void 0&&(arguments[0]=g);var w=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var E=d.apply(this,arguments);return w&&(this.onsuccess=this.onsuccess?Hn(w,this.onsuccess):w),_&&(this.onerror=this.onerror?Hn(_,this.onerror):_),E!==void 0?E:g}}function lt(u,d){return u===Fe?d:function(){u.apply(this,arguments);var g=this.onsuccess,w=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?Hn(g,this.onsuccess):g),w&&(this.onerror=this.onerror?Hn(w,this.onerror):w)}}function Pn(u,d){return u===Fe?d:function(g){var w=u.apply(this,arguments);y(g,w);var _=this.onsuccess,E=this.onerror;return this.onsuccess=null,this.onerror=null,g=d.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?Hn(_,this.onsuccess):_),E&&(this.onerror=this.onerror?Hn(E,this.onerror):E),w===void 0?g===void 0?void 0:g:y(w,g)}}function $n(u,d){return u===Fe?d:function(){return d.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function Yi(u,d){return u===Fe?d:function(){var g=u.apply(this,arguments);if(g&&typeof g.then=="function"){for(var w=this,_=arguments.length,E=new Array(_);_--;)E[_]=arguments[_];return g.then(function(){return d.apply(w,E)})}return d.apply(this,arguments)}}$t.ModifyError=He,$t.DexieError=he,$t.BulkError=ze;var bn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ao(u){bn=u}var hr={},Do=100,An=typeof Promise>"u"?[]:function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,v(u),u];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,v(d),u]}(),si=An[0],Sn=An[1],An=An[2],Sn=Sn&&Sn.then,zt=si&&si.constructor,Yn=!!An,It=function(u,d){aa.push([u,d]),Ki&&(queueMicrotask(nl),Ki=!1)},Zs=!0,Ki=!0,Aa=[],Da=[],mr=fn,dn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Fe,pgp:!1,env:{},finalize:Fe},Me=dn,aa=[],Na=0,li=[];function Oe(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=Me;if(typeof u!="function"){if(u!==hr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Js(this,this._value))}this._state=null,this._value=null,++d.ref,function g(w,_){try{_(function(E){if(w._state===null){if(E===w)throw new TypeError("A promise cannot be resolved with itself.");var k=w._lib&&Ra();E&&typeof E.then=="function"?g(w,function(D,B){E instanceof Oe?E._then(D,B):E.then(D,B)}):(w._state=!0,w._value=E,el(w)),k&&yr()}},Js.bind(null,w))}catch(E){Js(w,E)}}(this,u)}var oi={get:function(){var u=Me,d=ui;function g(w,_){var E=this,k=!u.global&&(u!==Me||d!==ui),D=k&&!wn(),B=new Oe(function(H,Y){Gi(E,new gr(ma(w,u,k,D),ma(_,u,k,D),H,Y,u))});return this._consoleTask&&(B._consoleTask=this._consoleTask),B}return g.prototype=hr,g},set:function(u){C(this,"then",u&&u.prototype===hr?oi:{get:function(){return u},set:oi.set})}};function gr(u,d,g,w,_){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof d=="function"?d:null,this.resolve=g,this.reject=w,this.psd=_}function Js(u,d){var g,w;Da.push(d),u._state===null&&(g=u._lib&&Ra(),d=mr(d),u._state=!1,u._value=d,w=u,Aa.some(function(_){return _._value===w._value})||Aa.push(w),el(u),g&&yr())}function el(u){var d=u._listeners;u._listeners=[];for(var g=0,w=d.length;g<w;++g)Gi(u,d[g]);var _=u._PSD;--_.ref||_.finalize(),Na===0&&(++Na,It(function(){--Na==0&&Kn()},[]))}function Gi(u,d){if(u._state!==null){var g=u._state?d.onFulfilled:d.onRejected;if(g===null)return(u._state?d.resolve:d.reject)(u._value);++d.psd.ref,++Na,It(tl,[g,u,d])}else u._listeners.push(d)}function tl(u,d,g){try{var w,_=d._value;!d._state&&Da.length&&(Da=[]),w=bn&&d._consoleTask?d._consoleTask.run(function(){return u(_)}):u(_),d._state||Da.indexOf(_)!==-1||function(E){for(var k=Aa.length;k;)if(Aa[--k]._value===E._value)return Aa.splice(k,1)}(d),g.resolve(w)}catch(E){g.reject(E)}finally{--Na==0&&Kn(),--g.psd.ref||g.psd.finalize()}}function nl(){ha(dn,function(){Ra()&&yr()})}function Ra(){var u=Zs;return Ki=Zs=!1,u}function yr(){var u,d,g;do for(;0<aa.length;)for(u=aa,aa=[],g=u.length,d=0;d<g;++d){var w=u[d];w[0].apply(null,w[1])}while(0<aa.length);Ki=Zs=!0}function Kn(){var u=Aa;Aa=[],u.forEach(function(w){w._PSD.onunhandled.call(null,w._value,w)});for(var d=li.slice(0),g=d.length;g;)d[--g]()}function Bt(u){return new Oe(hr,!1,u)}function Ze(u,d){var g=Me;return function(){var w=Ra(),_=Me;try{return xt(g,!0),u.apply(this,arguments)}catch(E){d&&d(E)}finally{xt(_,!1),w&&yr()}}}T(Oe.prototype,{then:oi,_then:function(u,d){Gi(this,new gr(null,null,u,d,Me))},catch:function(u){if(arguments.length===1)return this.then(null,u);var d=u,g=arguments[1];return typeof d=="function"?this.then(null,function(w){return(w instanceof d?g:Bt)(w)}):this.then(null,function(w){return(w&&w.name===d?g:Bt)(w)})},finally:function(u){return this.then(function(d){return Oe.resolve(u()).then(function(){return d})},function(d){return Oe.resolve(u()).then(function(){return Bt(d)})})},timeout:function(u,d){var g=this;return u<1/0?new Oe(function(w,_){var E=setTimeout(function(){return _(new Te.Timeout(d))},u);g.then(w,_).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),dn.env=rl(),T(Oe,{all:function(){var u=A.apply(null,arguments).map(da);return new Oe(function(d,g){u.length===0&&d([]);var w=u.length;u.forEach(function(_,E){return Oe.resolve(_).then(function(k){u[E]=k,--w||d(u)},g)})})},resolve:function(u){return u instanceof Oe?u:u&&typeof u.then=="function"?new Oe(function(d,g){u.then(d,g)}):new Oe(hr,!0,u)},reject:Bt,race:function(){var u=A.apply(null,arguments).map(da);return new Oe(function(d,g){u.map(function(w){return Oe.resolve(w).then(d,g)})})},PSD:{get:function(){return Me},set:function(u){return Me=u}},totalEchoes:{get:function(){return ui}},newPSD:Gn,usePSD:ha,scheduler:{get:function(){return It},set:function(u){It=u}},rejectionMapper:{get:function(){return mr},set:function(u){mr=u}},follow:function(u,d){return new Oe(function(g,w){return Gn(function(_,E){var k=Me;k.unhandleds=[],k.onunhandled=E,k.finalize=Hn(function(){var D,B=this;D=function(){B.unhandleds.length===0?_():E(B.unhandleds[0])},li.push(function H(){D(),li.splice(li.indexOf(H),1)}),++Na,It(function(){--Na==0&&Kn()},[])},k.finalize),u()},d,g,w)})}}),zt&&(zt.allSettled&&C(Oe,"allSettled",function(){var u=A.apply(null,arguments).map(da);return new Oe(function(d){u.length===0&&d([]);var g=u.length,w=new Array(g);u.forEach(function(_,E){return Oe.resolve(_).then(function(k){return w[E]={status:"fulfilled",value:k}},function(k){return w[E]={status:"rejected",reason:k}}).then(function(){return--g||d(w)})})})}),zt.any&&typeof AggregateError<"u"&&C(Oe,"any",function(){var u=A.apply(null,arguments).map(da);return new Oe(function(d,g){u.length===0&&g(new AggregateError([]));var w=u.length,_=new Array(w);u.forEach(function(E,k){return Oe.resolve(E).then(function(D){return d(D)},function(D){_[k]=D,--w||g(new AggregateError(_))})})})}),zt.withResolvers&&(Oe.withResolvers=zt.withResolvers));var Ot={awaits:0,echoes:0,id:0},al=0,Vi=[],Ii=0,ui=0,ci=0;function Gn(u,d,g,w){var _=Me,E=Object.create(_);return E.parent=_,E.ref=0,E.global=!1,E.id=++ci,dn.env,E.env=Yn?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},d&&y(E,d),++_.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},w=ha(E,u,g,w),E.ref===0&&E.finalize(),w}function Dn(){return Ot.id||(Ot.id=++al),++Ot.awaits,Ot.echoes+=Do,Ot.id}function wn(){return!!Ot.awaits&&(--Ot.awaits==0&&(Ot.id=0),Ot.echoes=Ot.awaits*Do,!0)}function da(u){return Ot.echoes&&u&&u.constructor===zt?(Dn(),u.then(function(d){return wn(),d},function(d){return wn(),Nt(d)})):u}function pr(){var u=Vi[Vi.length-1];Vi.pop(),xt(u,!1)}function xt(u,d){var g,w=Me;(d?!Ot.echoes||Ii++&&u===Me:!Ii||--Ii&&u===Me)||queueMicrotask(d?(function(_){++ui,Ot.echoes&&--Ot.echoes!=0||(Ot.echoes=Ot.awaits=Ot.id=0),Vi.push(Me),xt(_,!0)}).bind(null,u):pr),u!==Me&&(Me=u,w===dn&&(dn.env=rl()),Yn&&(g=dn.env.Promise,d=u.env,(w.global||u.global)&&(Object.defineProperty(f,"Promise",d.PromiseProp),g.all=d.all,g.race=d.race,g.resolve=d.resolve,g.reject=d.reject,d.allSettled&&(g.allSettled=d.allSettled),d.any&&(g.any=d.any))))}function rl(){var u=f.Promise;return Yn?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function ha(u,d,g,w,_){var E=Me;try{return xt(u,!0),d(g,w,_)}finally{xt(E,!1)}}function ma(u,d,g,w){return typeof u!="function"?u:function(){var _=Me;g&&Dn(),xt(d,!0);try{return u.apply(this,arguments)}finally{xt(_,!1),w&&queueMicrotask(wn)}}}function ga(u){Promise===zt&&Ot.echoes===0?Ii===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+Sn).indexOf("[native code]")===-1&&(Dn=wn=Fe);var Nt=Oe.reject,ya="",Vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",No="String expected.",ra=[],Ma="__dbnames",Nn="readonly",fi="readwrite";function pa(u,d){return u?d?function(){return u.apply(this,arguments)&&d.apply(this,arguments)}:u:d}var Ua={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vr(u){return typeof u!="string"||/\./.test(u)?function(d){return d}:function(d){return d[u]===void 0&&u in d&&delete(d=Ct(d))[u],d}}function Qi(){throw Te.Type()}function nt(u,d){try{var g=il(u),w=il(d);if(g!==w)return g==="Array"?1:w==="Array"?-1:g==="binary"?1:w==="binary"?-1:g==="string"?1:w==="string"?-1:g==="Date"?1:w!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return d<u?1:u<d?-1:0;case"binary":return function(_,E){for(var k=_.length,D=E.length,B=k<D?k:D,H=0;H<B;++H)if(_[H]!==E[H])return _[H]<E[H]?-1:1;return k===D?0:k<D?-1:1}(xn(u),xn(d));case"Array":return function(_,E){for(var k=_.length,D=E.length,B=k<D?k:D,H=0;H<B;++H){var Y=nt(_[H],E[H]);if(Y!==0)return Y}return k===D?0:k<D?-1:1}(u,d)}}catch{}return NaN}function il(u){var d=typeof u;return d!="object"?d:ArrayBuffer.isView(u)?"binary":(u=me(u),u==="ArrayBuffer"?"binary":u)}function xn(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}var sl=(_t.prototype._trans=function(u,d,g){var w=this._tx||Me.trans,_=this.name,E=bn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function k(H,Y,M){if(!M.schema[_])throw new Te.NotFound("Table "+_+" not part of transaction");return d(M.idbtrans,M)}var D=Ra();try{var B=w&&w.db._novip===this.db._novip?w===Me.trans?w._promise(u,k,g):Gn(function(){return w._promise(u,k,g)},{trans:w,transless:Me.transless||Me}):function H(Y,M,G,z){if(Y.idbdb&&(Y._state.openComplete||Me.letThrough||Y._vip)){var $=Y._createTransaction(M,G,Y._dbSchema);try{$.create(),Y._state.PR1398_maxLoop=3}catch(I){return I.name===wt.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return H(Y,M,G,z)})):Nt(I)}return $._promise(M,function(I,P){return Gn(function(){return Me.trans=$,z(I,P,$)})}).then(function(I){if(M==="readwrite")try{$.idbtrans.commit()}catch{}return M==="readonly"?I:$._completion.then(function(){return I})})}if(Y._state.openComplete)return Nt(new Te.DatabaseClosed(Y._state.dbOpenError));if(!Y._state.isBeingOpened){if(!Y._state.autoOpen)return Nt(new Te.DatabaseClosed);Y.open().catch(Fe)}return Y._state.dbReadyPromise.then(function(){return H(Y,M,G,z)})}(this.db,u,[this.name],k);return E&&(B._consoleTask=E,B=B.catch(function(H){return console.trace(H),Nt(H)})),B}finally{D&&yr()}},_t.prototype.get=function(u,d){var g=this;return u&&u.constructor===Object?this.where(u).first(d):u==null?Nt(new Te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(w){return g.core.get({trans:w,key:u}).then(function(_){return g.hook.reading.fire(_)})}).then(d)},_t.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(p(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var d=m(u);if(d.length===1)return this.where(d[0]).equals(u[d[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(D){if(D.compound&&d.every(function(H){return 0<=D.keyPath.indexOf(H)})){for(var B=0;B<d.length;++B)if(d.indexOf(D.keyPath[B])===-1)return!1;return!0}return!1}).sort(function(D,B){return D.keyPath.length-B.keyPath.length})[0];if(g&&this.db._maxKey!==ya){var E=g.keyPath.slice(0,d.length);return this.where(E).equals(E.map(function(B){return u[B]}))}!g&&bn&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var w=this.schema.idxByName;function _(D,B){return nt(D,B)===0}var k=d.reduce(function(M,B){var H=M[0],Y=M[1],M=w[B],G=u[B];return[H||M,H||!M?pa(Y,M&&M.multi?function(z){return z=_e(z,B),p(z)&&z.some(function($){return _(G,$)})}:function(z){return _(G,_e(z,B))}):Y]},[null,null]),E=k[0],k=k[1];return E?this.where(E.name).equals(u[E.keyPath]).filter(k):g?this.filter(k):this.where(d).equals("")},_t.prototype.filter=function(u){return this.toCollection().and(u)},_t.prototype.count=function(u){return this.toCollection().count(u)},_t.prototype.offset=function(u){return this.toCollection().offset(u)},_t.prototype.limit=function(u){return this.toCollection().limit(u)},_t.prototype.each=function(u){return this.toCollection().each(u)},_t.prototype.toArray=function(u){return this.toCollection().toArray(u)},_t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},_t.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,p(u)?"[".concat(u.join("+"),"]"):u))},_t.prototype.reverse=function(){return this.toCollection().reverse()},_t.prototype.mapToClass=function(u){var d,g=this.db,w=this.name;function _(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof Qi&&(function(B,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function Y(){this.constructor=B}r(B,H),B.prototype=H===null?Object.create(H):(Y.prototype=H.prototype,new Y)}(_,d=u),Object.defineProperty(_.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),_.prototype.table=function(){return w},u=_);for(var E=new Set,k=u.prototype;k;k=v(k))Object.getOwnPropertyNames(k).forEach(function(B){return E.add(B)});function D(B){if(!B)return B;var H,Y=Object.create(u.prototype);for(H in B)if(!E.has(H))try{Y[H]=B[H]}catch{}return Y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=D,this.hook("reading",D),u},_t.prototype.defineClass=function(){return this.mapToClass(function(u){y(this,u)})},_t.prototype.add=function(u,d){var g=this,w=this.schema.primKey,_=w.auto,E=w.keyPath,k=u;return E&&_&&(k=vr(E)(u)),this._trans("readwrite",function(D){return g.core.mutate({trans:D,type:"add",keys:d!=null?[d]:null,values:[k]})}).then(function(D){return D.numFailures?Oe.reject(D.failures[0]):D.lastResult}).then(function(D){if(E)try{Ne(u,E,D)}catch{}return D})},_t.prototype.update=function(u,d){return typeof u!="object"||p(u)?this.where(":id").equals(u).modify(d):(u=_e(u,this.schema.primKey.keyPath),u===void 0?Nt(new Te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(d))},_t.prototype.put=function(u,d){var g=this,w=this.schema.primKey,_=w.auto,E=w.keyPath,k=u;return E&&_&&(k=vr(E)(u)),this._trans("readwrite",function(D){return g.core.mutate({trans:D,type:"put",values:[k],keys:d!=null?[d]:null})}).then(function(D){return D.numFailures?Oe.reject(D.failures[0]):D.lastResult}).then(function(D){if(E)try{Ne(u,E,D)}catch{}return D})},_t.prototype.delete=function(u){var d=this;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:[u]})}).then(function(g){return g.numFailures?Oe.reject(g.failures[0]):void 0})},_t.prototype.clear=function(){var u=this;return this._trans("readwrite",function(d){return u.core.mutate({trans:d,type:"deleteRange",range:Ua})}).then(function(d){return d.numFailures?Oe.reject(d.failures[0]):void 0})},_t.prototype.bulkGet=function(u){var d=this;return this._trans("readonly",function(g){return d.core.getMany({keys:u,trans:g}).then(function(w){return w.map(function(_){return d.hook.reading.fire(_)})})})},_t.prototype.bulkAdd=function(u,d,g){var w=this,_=Array.isArray(d)?d:void 0,E=(g=g||(_?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(k){var H=w.schema.primKey,D=H.auto,H=H.keyPath;if(H&&_)throw new Te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==u.length)throw new Te.InvalidArgument("Arguments objects and keys must have the same length");var B=u.length,H=H&&D?u.map(vr(H)):u;return w.core.mutate({trans:k,type:"add",keys:_,values:H,wantResults:E}).then(function($){var M=$.numFailures,G=$.results,z=$.lastResult,$=$.failures;if(M===0)return E?G:z;throw new ze("".concat(w.name,".bulkAdd(): ").concat(M," of ").concat(B," operations failed"),$)})})},_t.prototype.bulkPut=function(u,d,g){var w=this,_=Array.isArray(d)?d:void 0,E=(g=g||(_?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(k){var H=w.schema.primKey,D=H.auto,H=H.keyPath;if(H&&_)throw new Te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==u.length)throw new Te.InvalidArgument("Arguments objects and keys must have the same length");var B=u.length,H=H&&D?u.map(vr(H)):u;return w.core.mutate({trans:k,type:"put",keys:_,values:H,wantResults:E}).then(function($){var M=$.numFailures,G=$.results,z=$.lastResult,$=$.failures;if(M===0)return E?G:z;throw new ze("".concat(w.name,".bulkPut(): ").concat(M," of ").concat(B," operations failed"),$)})})},_t.prototype.bulkUpdate=function(u){var d=this,g=this.core,w=u.map(function(k){return k.key}),_=u.map(function(k){return k.changes}),E=[];return this._trans("readwrite",function(k){return g.getMany({trans:k,keys:w,cache:"clone"}).then(function(D){var B=[],H=[];u.forEach(function(M,G){var z=M.key,$=M.changes,I=D[G];if(I){for(var P=0,F=Object.keys($);P<F.length;P++){var te=F[P],ne=$[te];if(te===d.schema.primKey.keyPath){if(nt(ne,z)!==0)throw new Te.Constraint("Cannot update primary key in bulkUpdate()")}else Ne(I,te,ne)}E.push(G),B.push(z),H.push(I)}});var Y=B.length;return g.mutate({trans:k,type:"put",keys:B,values:H,updates:{keys:w,changeSpecs:_}}).then(function(M){var G=M.numFailures,z=M.failures;if(G===0)return Y;for(var $=0,I=Object.keys(z);$<I.length;$++){var P,F=I[$],te=E[Number(F)];te!=null&&(P=z[F],delete z[F],z[te]=P)}throw new ze("".concat(d.name,".bulkUpdate(): ").concat(G," of ").concat(Y," operations failed"),z)})})})},_t.prototype.bulkDelete=function(u){var d=this,g=u.length;return this._trans("readwrite",function(w){return d.core.mutate({trans:w,type:"delete",keys:u})}).then(function(k){var _=k.numFailures,E=k.lastResult,k=k.failures;if(_===0)return E;throw new ze("".concat(d.name,".bulkDelete(): ").concat(_," of ").concat(g," operations failed"),k)})},_t);function _t(){}function va(u){function d(k,D){if(D){for(var B=arguments.length,H=new Array(B-1);--B;)H[B-1]=arguments[B];return g[k].subscribe.apply(null,H),u}if(typeof k=="string")return g[k]}var g={};d.addEventType=E;for(var w=1,_=arguments.length;w<_;++w)E(arguments[w]);return d;function E(k,D,B){if(typeof k!="object"){var H;D=D||$n;var Y={subscribers:[],fire:B=B||Fe,subscribe:function(M){Y.subscribers.indexOf(M)===-1&&(Y.subscribers.push(M),Y.fire=D(Y.fire,M))},unsubscribe:function(M){Y.subscribers=Y.subscribers.filter(function(G){return G!==M}),Y.fire=Y.subscribers.reduce(D,B)}};return g[k]=d[k]=Y}m(H=k).forEach(function(M){var G=H[M];if(p(G))E(M,H[M][0],H[M][1]);else{if(G!=="asap")throw new Te.InvalidArgument("Invalid event config");var z=E(M,fn,function(){for(var $=arguments.length,I=new Array($);$--;)I[$]=arguments[$];z.subscribers.forEach(function(P){ue(function(){P.apply(null,I)})})})}})}}function br(u,d){return V(d).from({prototype:u}),d}function ia(u,d){return!(u.filter||u.algorithm||u.or)&&(d?u.justLimit:!u.replayFilter)}function ll(u,d){u.filter=pa(u.filter,d)}function hn(u,d,g){var w=u.replayFilter;u.replayFilter=w?function(){return pa(w(),d())}:d,u.justLimit=g&&!w}function wr(u,d){if(u.isPrimKey)return d.primaryKey;var g=d.getIndexByKeyPath(u.index);if(!g)throw new Te.Schema("KeyPath "+u.index+" on object store "+d.name+" is not indexed");return g}function ol(u,d,g){var w=wr(u,d.schema);return d.openCursor({trans:g,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:w,range:u.range}})}function xr(u,d,g,w){var _=u.replayFilter?pa(u.filter,u.replayFilter()):u.filter;if(u.or){var E={},k=function(D,B,H){var Y,M;_&&!_(B,H,function(G){return B.stop(G)},function(G){return B.fail(G)})||((M=""+(Y=B.primaryKey))=="[object ArrayBuffer]"&&(M=""+new Uint8Array(Y)),O(E,M)||(E[M]=!0,d(D,B,H)))};return Promise.all([u.or._iterate(k,g),La(ol(u,w,g),u.algorithm,k,!u.keysOnly&&u.valueMapper)])}return La(ol(u,w,g),pa(u.algorithm,_),d,!u.keysOnly&&u.valueMapper)}function La(u,d,g,w){var _=Ze(w?function(E,k,D){return g(w(E),k,D)}:g);return u.then(function(E){if(E)return E.start(function(){var k=function(){return E.continue()};d&&!d(E,function(D){return k=D},function(D){E.stop(D),k=Fe},function(D){E.fail(D),k=Fe})||_(E.value,E,function(D){return k=D}),k()})})}var _r=(ul.prototype.execute=function(u){var d=this["@@propmod"];if(d.add!==void 0){var g=d.add;if(p(g))return o(o([],p(u)?u:[],!0),g).sort();if(typeof g=="number")return(Number(u)||0)+g;if(typeof g=="bigint")try{return BigInt(u)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(d.remove!==void 0){var w=d.remove;if(p(w))return p(u)?u.filter(function(_){return!w.includes(_)}).sort():[];if(typeof w=="number")return Number(u)-w;if(typeof w=="bigint")try{return BigInt(u)-w}catch{return BigInt(0)-w}throw new TypeError("Invalid subtrahend ".concat(w))}return g=(g=d.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof u=="string"&&u.startsWith(g)?d.replacePrefix[1]+u.substring(g.length):u},ul);function ul(u){this["@@propmod"]=u}var Sr=(ut.prototype._read=function(u,d){var g=this._ctx;return g.error?g.table._trans(null,Nt.bind(null,g.error)):g.table._trans("readonly",u).then(d)},ut.prototype._write=function(u){var d=this._ctx;return d.error?d.table._trans(null,Nt.bind(null,d.error)):d.table._trans("readwrite",u,"locked")},ut.prototype._addAlgorithm=function(u){var d=this._ctx;d.algorithm=pa(d.algorithm,u)},ut.prototype._iterate=function(u,d){return xr(this._ctx,u,d,this._ctx.table.core)},ut.prototype.clone=function(u){var d=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return u&&y(g,u),d._ctx=g,d},ut.prototype.raw=function(){return this._ctx.valueMapper=null,this},ut.prototype.each=function(u){var d=this._ctx;return this._read(function(g){return xr(d,u,g,d.table.core)})},ut.prototype.count=function(u){var d=this;return this._read(function(g){var w=d._ctx,_=w.table.core;if(ia(w,!0))return _.count({trans:g,query:{index:wr(w,_.schema),range:w.range}}).then(function(k){return Math.min(k,w.limit)});var E=0;return xr(w,function(){return++E,!1},g,_).then(function(){return E})}).then(u)},ut.prototype.sortBy=function(u,d){var g=u.split(".").reverse(),w=g[0],_=g.length-1;function E(B,H){return H?E(B[g[H]],H-1):B[w]}var k=this._ctx.dir==="next"?1:-1;function D(B,H){return nt(E(B,_),E(H,_))*k}return this.toArray(function(B){return B.sort(D)}).then(d)},ut.prototype.toArray=function(u){var d=this;return this._read(function(g){var w=d._ctx;if(w.dir==="next"&&ia(w,!0)&&0<w.limit){var _=w.valueMapper,E=wr(w,w.table.core.schema);return w.table.core.query({trans:g,limit:w.limit,values:!0,query:{index:E,range:w.range}}).then(function(D){return D=D.result,_?D.map(_):D})}var k=[];return xr(w,function(D){return k.push(D)},g,w.table.core).then(function(){return k})},u)},ut.prototype.offset=function(u){var d=this._ctx;return u<=0||(d.offset+=u,ia(d)?hn(d,function(){var g=u;return function(w,_){return g===0||(g===1?--g:_(function(){w.advance(g),g=0}),!1)}}):hn(d,function(){var g=u;return function(){return--g<0}})),this},ut.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),hn(this._ctx,function(){var d=u;return function(g,w,_){return--d<=0&&w(_),0<=d}},!0),this},ut.prototype.until=function(u,d){return ll(this._ctx,function(g,w,_){return!u(g.value)||(w(_),d)}),this},ut.prototype.first=function(u){return this.limit(1).toArray(function(d){return d[0]}).then(u)},ut.prototype.last=function(u){return this.reverse().first(u)},ut.prototype.filter=function(u){var d;return ll(this._ctx,function(g){return u(g.value)}),(d=this._ctx).isMatch=pa(d.isMatch,u),this},ut.prototype.and=function(u){return this.filter(u)},ut.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},ut.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ut.prototype.desc=function(){return this.reverse()},ut.prototype.eachKey=function(u){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,w){u(w.key,w)})},ut.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},ut.prototype.eachPrimaryKey=function(u){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,w){u(w.primaryKey,w)})},ut.prototype.keys=function(u){var d=this._ctx;d.keysOnly=!d.isMatch;var g=[];return this.each(function(w,_){g.push(_.key)}).then(function(){return g}).then(u)},ut.prototype.primaryKeys=function(u){var d=this._ctx;if(d.dir==="next"&&ia(d,!0)&&0<d.limit)return this._read(function(w){var _=wr(d,d.table.core.schema);return d.table.core.query({trans:w,values:!1,limit:d.limit,query:{index:_,range:d.range}})}).then(function(w){return w.result}).then(u);d.keysOnly=!d.isMatch;var g=[];return this.each(function(w,_){g.push(_.primaryKey)}).then(function(){return g}).then(u)},ut.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},ut.prototype.firstKey=function(u){return this.limit(1).keys(function(d){return d[0]}).then(u)},ut.prototype.lastKey=function(u){return this.reverse().firstKey(u)},ut.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var d={};return ll(this._ctx,function(_){var w=_.primaryKey.toString(),_=O(d,w);return d[w]=!0,!_}),this},ut.prototype.modify=function(u){var d=this,g=this._ctx;return this._write(function(w){var _,E,k;k=typeof u=="function"?u:(_=m(u),E=_.length,function(P){for(var F=!1,te=0;te<E;++te){var ne=_[te],le=u[ne],we=_e(P,ne);le instanceof _r?(Ne(P,ne,le.execute(we)),F=!0):we!==le&&(Ne(P,ne,le),F=!0)}return F});var D=g.table.core,M=D.schema.primaryKey,B=M.outbound,H=M.extractKey,Y=200,M=d.db._options.modifyChunkSize;M&&(Y=typeof M=="object"?M[D.name]||M["*"]||200:M);function G(P,ne){var te=ne.failures,ne=ne.numFailures;$+=P-ne;for(var le=0,we=m(te);le<we.length;le++){var Se=we[le];z.push(te[Se])}}var z=[],$=0,I=[];return d.clone().primaryKeys().then(function(P){function F(ne){var le=Math.min(Y,P.length-ne);return D.getMany({trans:w,keys:P.slice(ne,ne+le),cache:"immutable"}).then(function(we){for(var Se=[],ve=[],xe=B?[]:null,Ee=[],be=0;be<le;++be){var Ae=we[be],qe={value:Ct(Ae),primKey:P[ne+be]};k.call(qe,qe.value,qe)!==!1&&(qe.value==null?Ee.push(P[ne+be]):B||nt(H(Ae),H(qe.value))===0?(ve.push(qe.value),B&&xe.push(P[ne+be])):(Ee.push(P[ne+be]),Se.push(qe.value)))}return Promise.resolve(0<Se.length&&D.mutate({trans:w,type:"add",values:Se}).then(function(Pe){for(var Ve in Pe.failures)Ee.splice(parseInt(Ve),1);G(Se.length,Pe)})).then(function(){return(0<ve.length||te&&typeof u=="object")&&D.mutate({trans:w,type:"put",keys:xe,values:ve,criteria:te,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<ne}).then(function(Pe){return G(ve.length,Pe)})}).then(function(){return(0<Ee.length||te&&u===Xi)&&D.mutate({trans:w,type:"delete",keys:Ee,criteria:te,isAdditionalChunk:0<ne}).then(function(Pe){return G(Ee.length,Pe)})}).then(function(){return P.length>ne+le&&F(ne+Y)})})}var te=ia(g)&&g.limit===1/0&&(typeof u!="function"||u===Xi)&&{index:g.index,range:g.range};return F(0).then(function(){if(0<z.length)throw new He("Error modifying one or more objects",z,$,I);return P.length})})})},ut.prototype.delete=function(){var u=this._ctx,d=u.range;return ia(u)&&(u.isPrimKey||d.type===3)?this._write(function(g){var w=u.table.core.schema.primaryKey,_=d;return u.table.core.count({trans:g,query:{index:w,range:_}}).then(function(E){return u.table.core.mutate({trans:g,type:"deleteRange",range:_}).then(function(k){var D=k.failures;if(k.lastResult,k.results,k=k.numFailures,k)throw new He("Could not delete some values",Object.keys(D).map(function(B){return D[B]}),E-k);return E-k})})}):this.modify(Xi)},ut);function ut(){}var Xi=function(u,d){return d.value=null};function Ro(u,d){return u<d?-1:u===d?0:1}function cl(u,d){return d<u?-1:u===d?0:1}function _n(u,d,g){return u=u instanceof Ba?new u.Collection(u):u,u._ctx.error=new(g||TypeError)(d),u}function Er(u){return new u.Collection(u,function(){return Wi("")}).limit(0)}function za(u,d,g,w){var _,E,k,D,B,H,Y,M=g.length;if(!g.every(function($){return typeof $=="string"}))return _n(u,No);function G($){_=$==="next"?function(P){return P.toUpperCase()}:function(P){return P.toLowerCase()},E=$==="next"?function(P){return P.toLowerCase()}:function(P){return P.toUpperCase()},k=$==="next"?Ro:cl;var I=g.map(function(P){return{lower:E(P),upper:_(P)}}).sort(function(P,F){return k(P.lower,F.lower)});D=I.map(function(P){return P.upper}),B=I.map(function(P){return P.lower}),Y=(H=$)==="next"?"":w}G("next"),u=new u.Collection(u,function(){return In(D[0],B[M-1]+w)}),u._ondirectionchange=function($){G($)};var z=0;return u._addAlgorithm(function($,I,P){var F=$.key;if(typeof F!="string")return!1;var te=E(F);if(d(te,B,z))return!0;for(var ne=null,le=z;le<M;++le){var we=function(Se,ve,xe,Ee,be,Ae){for(var qe=Math.min(Se.length,Ee.length),Pe=-1,Ve=0;Ve<qe;++Ve){var sn=ve[Ve];if(sn!==Ee[Ve])return be(Se[Ve],xe[Ve])<0?Se.substr(0,Ve)+xe[Ve]+xe.substr(Ve+1):be(Se[Ve],Ee[Ve])<0?Se.substr(0,Ve)+Ee[Ve]+xe.substr(Ve+1):0<=Pe?Se.substr(0,Pe)+ve[Pe]+xe.substr(Pe+1):null;be(Se[Ve],sn)<0&&(Pe=Ve)}return qe<Ee.length&&Ae==="next"?Se+xe.substr(Se.length):qe<Se.length&&Ae==="prev"?Se.substr(0,xe.length):Pe<0?null:Se.substr(0,Pe)+Ee[Pe]+xe.substr(Pe+1)}(F,te,D[le],B[le],k,H);we===null&&ne===null?z=le+1:(ne===null||0<k(ne,we))&&(ne=we)}return I(ne!==null?function(){$.continue(ne+Y)}:P),!1}),u}function In(u,d,g,w){return{type:2,lower:u,upper:d,lowerOpen:g,upperOpen:w}}function Wi(u){return{type:1,lower:u,upper:u}}var Ba=(Object.defineProperty(kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),kt.prototype.between=function(u,d,g,w){g=g!==!1,w=w===!0;try{return 0<this._cmp(u,d)||this._cmp(u,d)===0&&(g||w)&&(!g||!w)?Er(this):new this.Collection(this,function(){return In(u,d,!g,!w)})}catch{return _n(this,Vn)}},kt.prototype.equals=function(u){return u==null?_n(this,Vn):new this.Collection(this,function(){return Wi(u)})},kt.prototype.above=function(u){return u==null?_n(this,Vn):new this.Collection(this,function(){return In(u,void 0,!0)})},kt.prototype.aboveOrEqual=function(u){return u==null?_n(this,Vn):new this.Collection(this,function(){return In(u,void 0,!1)})},kt.prototype.below=function(u){return u==null?_n(this,Vn):new this.Collection(this,function(){return In(void 0,u,!1,!0)})},kt.prototype.belowOrEqual=function(u){return u==null?_n(this,Vn):new this.Collection(this,function(){return In(void 0,u)})},kt.prototype.startsWith=function(u){return typeof u!="string"?_n(this,No):this.between(u,u+ya,!0,!0)},kt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):za(this,function(d,g){return d.indexOf(g[0])===0},[u],ya)},kt.prototype.equalsIgnoreCase=function(u){return za(this,function(d,g){return d===g[0]},[u],"")},kt.prototype.anyOfIgnoreCase=function(){var u=A.apply(je,arguments);return u.length===0?Er(this):za(this,function(d,g){return g.indexOf(d)!==-1},u,"")},kt.prototype.startsWithAnyOfIgnoreCase=function(){var u=A.apply(je,arguments);return u.length===0?Er(this):za(this,function(d,g){return g.some(function(w){return d.indexOf(w)===0})},u,ya)},kt.prototype.anyOf=function(){var u=this,d=A.apply(je,arguments),g=this._cmp;try{d.sort(g)}catch{return _n(this,Vn)}if(d.length===0)return Er(this);var w=new this.Collection(this,function(){return In(d[0],d[d.length-1])});w._ondirectionchange=function(E){g=E==="next"?u._ascending:u._descending,d.sort(g)};var _=0;return w._addAlgorithm(function(E,k,D){for(var B=E.key;0<g(B,d[_]);)if(++_===d.length)return k(D),!1;return g(B,d[_])===0||(k(function(){E.continue(d[_])}),!1)}),w},kt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},kt.prototype.noneOf=function(){var u=A.apply(je,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return _n(this,Vn)}var d=u.reduce(function(g,w){return g?g.concat([[g[g.length-1][1],w]]):[[-1/0,w]]},null);return d.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},kt.prototype.inAnyRange=function(F,d){var g=this,w=this._cmp,_=this._ascending,E=this._descending,k=this._min,D=this._max;if(F.length===0)return Er(this);if(!F.every(function(te){return te[0]!==void 0&&te[1]!==void 0&&_(te[0],te[1])<=0}))return _n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Te.InvalidArgument);var B=!d||d.includeLowers!==!1,H=d&&d.includeUppers===!0,Y,M=_;function G(te,ne){return M(te[0],ne[0])}try{(Y=F.reduce(function(te,ne){for(var le=0,we=te.length;le<we;++le){var Se=te[le];if(w(ne[0],Se[1])<0&&0<w(ne[1],Se[0])){Se[0]=k(Se[0],ne[0]),Se[1]=D(Se[1],ne[1]);break}}return le===we&&te.push(ne),te},[])).sort(G)}catch{return _n(this,Vn)}var z=0,$=H?function(te){return 0<_(te,Y[z][1])}:function(te){return 0<=_(te,Y[z][1])},I=B?function(te){return 0<E(te,Y[z][0])}:function(te){return 0<=E(te,Y[z][0])},P=$,F=new this.Collection(this,function(){return In(Y[0][0],Y[Y.length-1][1],!B,!H)});return F._ondirectionchange=function(te){M=te==="next"?(P=$,_):(P=I,E),Y.sort(G)},F._addAlgorithm(function(te,ne,le){for(var we,Se=te.key;P(Se);)if(++z===Y.length)return ne(le),!1;return!$(we=Se)&&!I(we)||(g._cmp(Se,Y[z][1])===0||g._cmp(Se,Y[z][0])===0||ne(function(){M===_?te.continue(Y[z][0]):te.continue(Y[z][1])}),!1)}),F},kt.prototype.startsWithAnyOf=function(){var u=A.apply(je,arguments);return u.every(function(d){return typeof d=="string"})?u.length===0?Er(this):this.inAnyRange(u.map(function(d){return[d,d+ya]})):_n(this,"startsWithAnyOf() only works with strings")},kt);function kt(){}function Rn(u){return Ze(function(d){return qa(d),u(d.target.error),!1})}function qa(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var jr="storagemutated",Ha="x-storagemutated-1",Ft=va(null,jr),fl=(mn.prototype._lock=function(){return pe(!Me.global),++this._reculock,this._reculock!==1||Me.global||(Me.lockOwnerFor=this),this},mn.prototype._unlock=function(){if(pe(!Me.global),--this._reculock==0)for(Me.global||(Me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{ha(u[1],u[0])}catch{}}return this},mn.prototype._locked=function(){return this._reculock&&Me.lockOwnerFor!==this},mn.prototype.create=function(u){var d=this;if(!this.mode)return this;var g=this.db.idbdb,w=this.db._state.dbOpenError;if(pe(!this.idbtrans),!u&&!g)switch(w&&w.name){case"DatabaseClosedError":throw new Te.DatabaseClosed(w);case"MissingAPIError":throw new Te.MissingAPI(w.message,w);default:throw new Te.OpenFailed(w)}if(!this.active)throw new Te.TransactionInactive;return pe(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ze(function(_){qa(_),d._reject(u.error)}),u.onabort=Ze(function(_){qa(_),d.active&&d._reject(new Te.Abort(u.error)),d.active=!1,d.on("abort").fire(_)}),u.oncomplete=Ze(function(){d.active=!1,d._resolve(),"mutatedParts"in u&&Ft.storagemutated.fire(u.mutatedParts)}),this},mn.prototype._promise=function(u,d,g){var w=this;if(u==="readwrite"&&this.mode!=="readwrite")return Nt(new Te.ReadOnly("Transaction is readonly"));if(!this.active)return Nt(new Te.TransactionInactive);if(this._locked())return new Oe(function(E,k){w._blockedFuncs.push([function(){w._promise(u,d,g).then(E,k)},Me])});if(g)return Gn(function(){var E=new Oe(function(k,D){w._lock();var B=d(k,D,w);B&&B.then&&B.then(k,D)});return E.finally(function(){return w._unlock()}),E._lib=!0,E});var _=new Oe(function(E,k){var D=d(E,k,w);D&&D.then&&D.then(E,k)});return _._lib=!0,_},mn.prototype._root=function(){return this.parent?this.parent._root():this},mn.prototype.waitFor=function(u){var d,g=this._root(),w=Oe.resolve(u);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return w}):(g._waitingFor=w,g._waitingQueue=[],d=g.idbtrans.objectStore(g.storeNames[0]),function E(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(d.get(-1/0).onsuccess=E)}());var _=g._waitingFor;return new Oe(function(E,k){w.then(function(D){return g._waitingQueue.push(Ze(E.bind(null,D)))},function(D){return g._waitingQueue.push(Ze(k.bind(null,D)))}).finally(function(){g._waitingFor===_&&(g._waitingFor=null)})})},mn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Te.Abort))},mn.prototype.table=function(u){var d=this._memoizedTables||(this._memoizedTables={});if(O(d,u))return d[u];var g=this.schema[u];if(!g)throw new Te.NotFound("Table "+u+" not part of transaction");return g=new this.db.Table(u,g,this),g.core=this.db.core.table(u),d[u]=g},mn);function mn(){}function Qn(u,d,g,w,_,E,k){return{name:u,keyPath:d,unique:g,multi:w,auto:_,compound:E,src:(g&&!k?"&":"")+(w?"*":"")+(_?"++":"")+Fi(d)}}function Fi(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function Or(u,d,g){return{name:u,primKey:d,indexes:g,mappedClass:null,idxByName:(w=function(_){return[_.name,_]},g.reduce(function(_,E,k){return k=w(E,k),k&&(_[k[0]]=k[1]),_},{}))};var w}var kr=function(u){try{return u.only([[]]),kr=function(){return[[]]},[[]]}catch{return kr=function(){return ya},ya}};function Tr(u){return u==null?function(){}:typeof u=="string"?(d=u).split(".").length===1?function(g){return g[d]}:function(g){return _e(g,d)}:function(g){return _e(g,u)};var d}function di(u){return[].slice.call(u)}var Mo=0;function Yt(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Pa(u,d,B){function w(P){if(P.type===3)return null;if(P.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=P.lower,$=P.upper,I=P.lowerOpen,P=P.upperOpen;return z===void 0?$===void 0?null:d.upperBound($,!!P):$===void 0?d.lowerBound(z,!!I):d.bound(z,$,!!I,!!P)}function _(G){var z,$=G.name;return{name:$,schema:G,mutate:function(I){var P=I.trans,F=I.type,te=I.keys,ne=I.values,le=I.range;return new Promise(function(we,Se){we=Ze(we);var ve=P.objectStore($),xe=ve.keyPath==null,Ee=F==="put"||F==="add";if(!Ee&&F!=="delete"&&F!=="deleteRange")throw new Error("Invalid operation type: "+F);var be,Ae=(te||ne||{length:1}).length;if(te&&ne&&te.length!==ne.length)throw new Error("Given keys array must have same length as given values array.");if(Ae===0)return we({numFailures:0,failures:{},results:[],lastResult:void 0});function qe(Jt){++sn,qa(Jt)}var Pe=[],Ve=[],sn=0;if(F==="deleteRange"){if(le.type===4)return we({numFailures:sn,failures:Ve,results:[],lastResult:void 0});le.type===3?Pe.push(be=ve.clear()):Pe.push(be=ve.delete(w(le)))}else{var xe=Ee?xe?[ne,te]:[ne,null]:[te,null],Ke=xe[0],qt=xe[1];if(Ee)for(var Kt=0;Kt<Ae;++Kt)Pe.push(be=qt&&qt[Kt]!==void 0?ve[F](Ke[Kt],qt[Kt]):ve[F](Ke[Kt])),be.onerror=qe;else for(Kt=0;Kt<Ae;++Kt)Pe.push(be=ve[F](Ke[Kt])),be.onerror=qe}function sa(Jt){Jt=Jt.target.result,Pe.forEach(function(Wn,_a){return Wn.error!=null&&(Ve[_a]=Wn.error)}),we({numFailures:sn,failures:Ve,results:F==="delete"?te:Pe.map(function(Wn){return Wn.result}),lastResult:Jt})}be.onerror=function(Jt){qe(Jt),sa(Jt)},be.onsuccess=sa})},getMany:function(I){var P=I.trans,F=I.keys;return new Promise(function(te,ne){te=Ze(te);for(var le,we=P.objectStore($),Se=F.length,ve=new Array(Se),xe=0,Ee=0,be=function(Pe){Pe=Pe.target,ve[Pe._pos]=Pe.result,++Ee===xe&&te(ve)},Ae=Rn(ne),qe=0;qe<Se;++qe)F[qe]!=null&&((le=we.get(F[qe]))._pos=qe,le.onsuccess=be,le.onerror=Ae,++xe);xe===0&&te(ve)})},get:function(I){var P=I.trans,F=I.key;return new Promise(function(te,ne){te=Ze(te);var le=P.objectStore($).get(F);le.onsuccess=function(we){return te(we.target.result)},le.onerror=Rn(ne)})},query:(z=H,function(I){return new Promise(function(P,F){P=Ze(P);var te,ne,le,xe=I.trans,we=I.values,Se=I.limit,be=I.query,ve=Se===1/0?void 0:Se,Ee=be.index,be=be.range,xe=xe.objectStore($),Ee=Ee.isPrimaryKey?xe:xe.index(Ee.name),be=w(be);if(Se===0)return P({result:[]});z?((ve=we?Ee.getAll(be,ve):Ee.getAllKeys(be,ve)).onsuccess=function(Ae){return P({result:Ae.target.result})},ve.onerror=Rn(F)):(te=0,ne=!we&&"openKeyCursor"in Ee?Ee.openKeyCursor(be):Ee.openCursor(be),le=[],ne.onsuccess=function(Ae){var qe=ne.result;return qe?(le.push(we?qe.value:qe.primaryKey),++te===Se?P({result:le}):void qe.continue()):P({result:le})},ne.onerror=Rn(F))})}),openCursor:function(I){var P=I.trans,F=I.values,te=I.query,ne=I.reverse,le=I.unique;return new Promise(function(we,Se){we=Ze(we);var Ee=te.index,ve=te.range,xe=P.objectStore($),xe=Ee.isPrimaryKey?xe:xe.index(Ee.name),Ee=ne?le?"prevunique":"prev":le?"nextunique":"next",be=!F&&"openKeyCursor"in xe?xe.openKeyCursor(w(ve),Ee):xe.openCursor(w(ve),Ee);be.onerror=Rn(Se),be.onsuccess=Ze(function(Ae){var qe,Pe,Ve,sn,Ke=be.result;Ke?(Ke.___id=++Mo,Ke.done=!1,qe=Ke.continue.bind(Ke),Pe=(Pe=Ke.continuePrimaryKey)&&Pe.bind(Ke),Ve=Ke.advance.bind(Ke),sn=function(){throw new Error("Cursor not stopped")},Ke.trans=P,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=Ze(Se),Ke.next=function(){var qt=this,Kt=1;return this.start(function(){return Kt--?qt.continue():qt.stop()}).then(function(){return qt})},Ke.start=function(qt){function Kt(){if(be.result)try{qt()}catch(Jt){Ke.fail(Jt)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var sa=new Promise(function(Jt,Wn){Jt=Ze(Jt),be.onerror=Rn(Wn),Ke.fail=Wn,Ke.stop=function(_a){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=sn,Jt(_a)}});return be.onsuccess=Ze(function(Jt){be.onsuccess=Kt,Kt()}),Ke.continue=qe,Ke.continuePrimaryKey=Pe,Ke.advance=Ve,Kt(),sa},we(Ke)):we(null)},Se)})},count:function(I){var P=I.query,F=I.trans,te=P.index,ne=P.range;return new Promise(function(le,we){var Se=F.objectStore($),ve=te.isPrimaryKey?Se:Se.index(te.name),Se=w(ne),ve=Se?ve.count(Se):ve.count();ve.onsuccess=Ze(function(xe){return le(xe.target.result)}),ve.onerror=Rn(we)})}}}var E,k,D,Y=(k=B,D=di((E=u).objectStoreNames),{schema:{name:E.name,tables:D.map(function(G){return k.objectStore(G)}).map(function(G){var z=G.keyPath,P=G.autoIncrement,$=p(z),I={},P={name:G.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:$,keyPath:z,autoIncrement:P,unique:!0,extractKey:Tr(z)},indexes:di(G.indexNames).map(function(F){return G.index(F)}).map(function(le){var te=le.name,ne=le.unique,we=le.multiEntry,le=le.keyPath,we={name:te,compound:p(le),keyPath:le,unique:ne,multiEntry:we,extractKey:Tr(le)};return I[Yt(le)]=we}),getIndexByKeyPath:function(F){return I[Yt(F)]}};return I[":id"]=P.primaryKey,z!=null&&(I[Yt(z)]=P.primaryKey),P})},hasGetAll:0<D.length&&"getAll"in k.objectStore(D[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),B=Y.schema,H=Y.hasGetAll,Y=B.tables.map(_),M={};return Y.forEach(function(G){return M[G.name]=G}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(G){if(!M[G])throw new Error("Table '".concat(G,"' not found"));return M[G]},MIN_KEY:-1/0,MAX_KEY:kr(d),schema:B}}function Zi(u,d,g,w){var _=g.IDBKeyRange;return g.indexedDB,{dbcore:(w=Pa(d,_,w),u.dbcore.reduce(function(E,k){return k=k.create,s(s({},E),k(E))},w))}}function ba(u,w){var g=w.db,w=Zi(u._middlewares,g,u._deps,w);u.core=w.dbcore,u.tables.forEach(function(_){var E=_.name;u.core.schema.tables.some(function(k){return k.name===E})&&(_.core=u.core.table(E),u[E]instanceof u.Table&&(u[E].core=_.core))})}function Ji(u,d,g,w){g.forEach(function(_){var E=w[_];d.forEach(function(k){var D=function B(H,Y){return W(H,Y)||(H=v(H))&&B(H,Y)}(k,_);(!D||"value"in D&&D.value===void 0)&&(k===u.Transaction.prototype||k instanceof u.Transaction?C(k,_,{get:function(){return this.table(_)},set:function(B){U(this,_,{value:B,writable:!0,configurable:!0,enumerable:!0})}}):k[_]=new u.Table(_,E))})})}function hi(u,d){d.forEach(function(g){for(var w in g)g[w]instanceof u.Table&&delete g[w]})}function dl(u,d){return u._cfg.version-d._cfg.version}function mi(u,d,g,w){var _=u._dbSchema;g.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=Or("$meta",Lo("")[0],[]),u._storeNames.push("$meta"));var E=u._createTransaction("readwrite",u._storeNames,_);E.create(g),E._completion.catch(w);var k=E._reject.bind(E),D=Me.transless||Me;Gn(function(){return Me.trans=E,Me.transless=D,d!==0?(ba(u,g),H=d,((B=E).storeNames.includes("$meta")?B.table("$meta").get("version").then(function(Y){return Y??H}):Oe.resolve(H)).then(function(Y){return G=Y,z=E,$=g,I=[],Y=(M=u)._versions,P=M._dbSchema=Cr(0,M.idbdb,$),(Y=Y.filter(function(F){return F._cfg.version>=G})).length!==0?(Y.forEach(function(F){I.push(function(){var te=P,ne=F._cfg.dbschema;as(M,te,$),as(M,ne,$),P=M._dbSchema=ne;var le=ts(te,ne);le.add.forEach(function(Ee){hl($,Ee[0],Ee[1].primKey,Ee[1].indexes)}),le.change.forEach(function(Ee){if(Ee.recreate)throw new Te.Upgrade("Not yet support for changing primary key");var be=$.objectStore(Ee.name);Ee.add.forEach(function(Ae){return ns(be,Ae)}),Ee.change.forEach(function(Ae){be.deleteIndex(Ae.name),ns(be,Ae)}),Ee.del.forEach(function(Ae){return be.deleteIndex(Ae)})});var we=F._cfg.contentUpgrade;if(we&&F._cfg.version>G){ba(M,$),z._memoizedTables={};var Se=We(ne);le.del.forEach(function(Ee){Se[Ee]=te[Ee]}),hi(M,[M.Transaction.prototype]),Ji(M,[M.Transaction.prototype],m(Se),Se),z.schema=Se;var ve,xe=ae(we);return xe&&Dn(),le=Oe.follow(function(){var Ee;(ve=we(z))&&xe&&(Ee=wn.bind(null,null),ve.then(Ee,Ee))}),ve&&typeof ve.then=="function"?Oe.resolve(ve):le.then(function(){return ve})}}),I.push(function(te){var ne,le,we=F._cfg.dbschema;ne=we,le=te,[].slice.call(le.db.objectStoreNames).forEach(function(Se){return ne[Se]==null&&le.db.deleteObjectStore(Se)}),hi(M,[M.Transaction.prototype]),Ji(M,[M.Transaction.prototype],M._storeNames,M._dbSchema),z.schema=M._dbSchema}),I.push(function(te){M.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(M.idbdb.version/10)===F._cfg.version?(M.idbdb.deleteObjectStore("$meta"),delete M._dbSchema.$meta,M._storeNames=M._storeNames.filter(function(ne){return ne!=="$meta"})):te.objectStore("$meta").put(F._cfg.version,"version"))})}),function F(){return I.length?Oe.resolve(I.shift()(z.idbtrans)).then(F):Oe.resolve()}().then(function(){Uo(P,$)})):Oe.resolve();var M,G,z,$,I,P}).catch(k)):(m(_).forEach(function(Y){hl(g,Y,_[Y].primKey,_[Y].indexes)}),ba(u,g),void Oe.follow(function(){return u.on.populate.fire(E)}).catch(k));var B,H})}function es(u,d){Uo(u._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var g=Cr(0,u.idbdb,d);as(u,u._dbSchema,d);for(var w=0,_=ts(g,u._dbSchema).change;w<_.length;w++){var E=function(k){if(k.change.length||k.recreate)return console.warn("Unable to patch indexes of table ".concat(k.name," because it has changes on the type of index or primary key.")),{value:void 0};var D=d.objectStore(k.name);k.add.forEach(function(B){bn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(k.name,".").concat(B.src)),ns(D,B)})}(_[w]);if(typeof E=="object")return E.value}}function ts(u,d){var g,w={del:[],add:[],change:[]};for(g in u)d[g]||w.del.push(g);for(g in d){var _=u[g],E=d[g];if(_){var k={name:g,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||_.primKey.auto!==E.primKey.auto)k.recreate=!0,w.change.push(k);else{var D=_.idxByName,B=E.idxByName,H=void 0;for(H in D)B[H]||k.del.push(H);for(H in B){var Y=D[H],M=B[H];Y?Y.src!==M.src&&k.change.push(M):k.add.push(M)}(0<k.del.length||0<k.add.length||0<k.change.length)&&w.change.push(k)}}else w.add.push([g,E])}return w}function hl(u,d,g,w){var _=u.db.createObjectStore(d,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return w.forEach(function(E){return ns(_,E)}),_}function Uo(u,d){m(u).forEach(function(g){d.db.objectStoreNames.contains(g)||(bn&&console.debug("Dexie: Creating missing table",g),hl(d,g,u[g].primKey,u[g].indexes))})}function ns(u,d){u.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Cr(u,d,g){var w={};return se(d.objectStoreNames,0).forEach(function(_){for(var E=g.objectStore(_),k=Qn(Fi(H=E.keyPath),H||"",!0,!1,!!E.autoIncrement,H&&typeof H!="string",!0),D=[],B=0;B<E.indexNames.length;++B){var Y=E.index(E.indexNames[B]),H=Y.keyPath,Y=Qn(Y.name,H,!!Y.unique,!!Y.multiEntry,!1,H&&typeof H!="string",!1);D.push(Y)}w[_]=Or(_,k,D)}),w}function as(u,d,g){for(var w=g.db.objectStoreNames,_=0;_<w.length;++_){var E=w[_],k=g.objectStore(E);u._hasGetAll="getAll"in k;for(var D=0;D<k.indexNames.length;++D){var B=k.indexNames[D],H=k.index(B).keyPath,Y=typeof H=="string"?H:"["+se(H).join("+")+"]";!d[E]||(H=d[E].idxByName[Y])&&(H.name=B,delete d[E].idxByName[Y],d[E].idxByName[B]=H)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function Lo(u){return u.split(",").map(function(d,g){var w=(d=d.trim()).replace(/([&*]|\+\+)/g,""),_=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return Qn(w,_||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),p(_),g===0)})}var pc=(rs.prototype._parseStoresSpec=function(u,d){m(u).forEach(function(g){if(u[g]!==null){var w=Lo(u[g]),_=w.shift();if(_.unique=!0,_.multi)throw new Te.Schema("Primary key cannot be multi-valued");w.forEach(function(E){if(E.auto)throw new Te.Schema("Only primary key can be marked as autoIncrement (++)");if(!E.keyPath)throw new Te.Schema("Index must have a name and cannot be an empty string")}),d[g]=Or(g,_,w)}})},rs.prototype.stores=function(g){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?y(this._cfg.storesSource,g):g;var g=d._versions,w={},_={};return g.forEach(function(E){y(w,E._cfg.storesSource),_=E._cfg.dbschema={},E._parseStoresSpec(w,_)}),d._dbSchema=_,hi(d,[d._allTables,d,d.Transaction.prototype]),Ji(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],m(_),_),d._storeNames=m(_),this},rs.prototype.upgrade=function(u){return this._cfg.contentUpgrade=Yi(this._cfg.contentUpgrade||Fe,u),this},rs);function rs(){}function ml(u,d){var g=u._dbNamesDB;return g||(g=u._dbNamesDB=new Xn(Ma,{addons:[],indexedDB:u,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function is(u){return u&&typeof u.databases=="function"}function gl(u){return Gn(function(){return Me.letThrough=!0,u()})}function yl(u){return!("from"in u)}var Zt=function(u,d){if(!this){var g=new Zt;return u&&"d"in u&&y(g,u),g}y(this,arguments.length?{d:1,from:u,to:1<arguments.length?d:u}:{d:0})};function gi(u,d,g){var w=nt(d,g);if(!isNaN(w)){if(0<w)throw RangeError();if(yl(u))return y(u,{from:d,to:g,d:1});var _=u.l,w=u.r;if(nt(g,u.from)<0)return _?gi(_,d,g):u.l={from:d,to:g,d:1,l:null,r:null},Bo(u);if(0<nt(d,u.to))return w?gi(w,d,g):u.r={from:d,to:g,d:1,l:null,r:null},Bo(u);nt(d,u.from)<0&&(u.from=d,u.l=null,u.d=w?w.d+1:1),0<nt(g,u.to)&&(u.to=g,u.r=null,u.d=u.l?u.l.d+1:1),g=!u.r,_&&!u.l&&$a(u,_),w&&g&&$a(u,w)}}function $a(u,d){yl(d)||function g(w,B){var E=B.from,k=B.to,D=B.l,B=B.r;gi(w,E,k),D&&g(w,D),B&&g(w,B)}(u,d)}function zo(u,d){var g=ss(d),w=g.next();if(w.done)return!1;for(var _=w.value,E=ss(u),k=E.next(_.from),D=k.value;!w.done&&!k.done;){if(nt(D.from,_.to)<=0&&0<=nt(D.to,_.from))return!0;nt(_.from,D.from)<0?_=(w=g.next(D.from)).value:D=(k=E.next(_.from)).value}return!1}function ss(u){var d=yl(u)?null:{s:0,n:u};return{next:function(g){for(var w=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,w)for(;d.n.l&&nt(g,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!w||nt(g,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Bo(u){var d,g,w=(((d=u.r)===null||d===void 0?void 0:d.d)||0)-(((g=u.l)===null||g===void 0?void 0:g.d)||0),_=1<w?"r":w<-1?"l":"";_&&(d=_=="r"?"l":"r",g=s({},u),w=u[_],u.from=w.from,u.to=w.to,u[_]=w[_],g[_]=w[d],(u[d]=g).d=pl(g)),u.d=pl(u)}function pl(g){var d=g.r,g=g.l;return(d?g?Math.max(d.d,g.d):d.d:g?g.d:0)+1}function ls(u,d){return m(d).forEach(function(g){u[g]?$a(u[g],d[g]):u[g]=function w(_){var E,k,D={};for(E in _)O(_,E)&&(k=_[E],D[E]=!k||typeof k!="object"||Ce.has(k.constructor)?k:w(k));return D}(d[g])}),u}function vl(u,d){return u.all||d.all||Object.keys(u).some(function(g){return d[g]&&zo(d[g],u[g])})}T(Zt.prototype,((Sn={add:function(u){return $a(this,u),this},addKey:function(u){return gi(this,u,u),this},addKeys:function(u){var d=this;return u.forEach(function(g){return gi(d,g,g)}),this},hasKey:function(u){var d=ss(this).next(u).value;return d&&nt(d.from,u)<=0&&0<=nt(d.to,u)}})[L]=function(){return ss(this)},Sn));var Ya={},bl={},wl=!1;function os(u){ls(bl,u),wl||(wl=!0,setTimeout(function(){wl=!1,xl(bl,!(bl={}))},0))}function xl(u,d){d===void 0&&(d=!1);var g=new Set;if(u.all)for(var w=0,_=Object.values(Ya);w<_.length;w++)qo(k=_[w],u,g,d);else for(var E in u){var k,D=/^idb\:\/\/(.*)\/(.*)\//.exec(E);D&&(E=D[1],D=D[2],(k=Ya["idb://".concat(E,"/").concat(D)])&&qo(k,u,g,d))}g.forEach(function(B){return B()})}function qo(u,d,g,w){for(var _=[],E=0,k=Object.entries(u.queries.query);E<k.length;E++){for(var D=k[E],B=D[0],H=[],Y=0,M=D[1];Y<M.length;Y++){var G=M[Y];vl(d,G.obsSet)?G.subscribers.forEach(function(P){return g.add(P)}):w&&H.push(G)}w&&_.push([B,H])}if(w)for(var z=0,$=_;z<$.length;z++){var I=$[z],B=I[0],H=I[1];u.queries.query[B]=H}}function vc(u){var d=u._state,g=u._deps.indexedDB;if(d.isBeingOpened||u.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?Nt(d.dbOpenError):u});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var w=d.openCanceller,_=Math.round(10*u.verno),E=!1;function k(){if(d.openCanceller!==w)throw new Te.DatabaseClosed("db.open() was cancelled")}function D(){return new Oe(function(G,z){if(k(),!g)throw new Te.MissingAPI;var $=u.name,I=d.autoSchema||!_?g.open($):g.open($,_);if(!I)throw new Te.MissingAPI;I.onerror=Rn(z),I.onblocked=Ze(u._fireOnBlocked),I.onupgradeneeded=Ze(function(P){var F;Y=I.transaction,d.autoSchema&&!u._options.allowEmptyDB?(I.onerror=qa,Y.abort(),I.result.close(),(F=g.deleteDatabase($)).onsuccess=F.onerror=Ze(function(){z(new Te.NoSuchDatabase("Database ".concat($," doesnt exist")))})):(Y.onerror=Rn(z),P=P.oldVersion>Math.pow(2,62)?0:P.oldVersion,M=P<1,u.idbdb=I.result,E&&es(u,Y),mi(u,P/10,Y,z))},z),I.onsuccess=Ze(function(){Y=null;var P,F,te,ne,le,we=u.idbdb=I.result,Se=se(we.objectStoreNames);if(0<Se.length)try{var ve=we.transaction((ne=Se).length===1?ne[0]:ne,"readonly");if(d.autoSchema)F=we,te=ve,(P=u).verno=F.version/10,te=P._dbSchema=Cr(0,F,te),P._storeNames=se(F.objectStoreNames,0),Ji(P,[P._allTables],m(te),te);else if(as(u,u._dbSchema,ve),((le=ts(Cr(0,(le=u).idbdb,ve),le._dbSchema)).add.length||le.change.some(function(xe){return xe.add.length||xe.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),we.close(),_=we.version+1,E=!0,G(D());ba(u,ve)}catch{}ra.push(u),we.onversionchange=Ze(function(xe){d.vcFired=!0,u.on("versionchange").fire(xe)}),we.onclose=Ze(function(xe){u.on("close").fire(xe)}),M&&(le=u._deps,ve=$,we=le.indexedDB,le=le.IDBKeyRange,is(we)||ve===Ma||ml(we,le).put({name:ve}).catch(Fe)),G()},z)}).catch(function(G){switch(G==null?void 0:G.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),D();break;case"VersionError":if(0<_)return _=0,D()}return Oe.reject(G)})}var B,H=d.dbReadyResolve,Y=null,M=!1;return Oe.race([w,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(G){function z(){return indexedDB.databases().finally(G)}B=setInterval(z,100),z()}).finally(function(){return clearInterval(B)}):Promise.resolve()).then(D)]).then(function(){return k(),d.onReadyBeingFired=[],Oe.resolve(gl(function(){return u.on.ready.fire(u.vip)})).then(function G(){if(0<d.onReadyBeingFired.length){var z=d.onReadyBeingFired.reduce(Yi,Fe);return d.onReadyBeingFired=[],Oe.resolve(gl(function(){return z(u.vip)})).then(G)}})}).finally(function(){d.openCanceller===w&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(G){d.dbOpenError=G;try{Y&&Y.abort()}catch{}return w===d.openCanceller&&u._close(),Nt(G)}).finally(function(){d.openComplete=!0,H()}).then(function(){var G;return M&&(G={},u.tables.forEach(function(z){z.schema.indexes.forEach(function($){$.name&&(G["idb://".concat(u.name,"/").concat(z.name,"/").concat($.name)]=new Zt(-1/0,[[[]]]))}),G["idb://".concat(u.name,"/").concat(z.name,"/")]=G["idb://".concat(u.name,"/").concat(z.name,"/:dels")]=new Zt(-1/0,[[[]]])}),Ft(jr).fire(G),xl(G,!0)),u})}function yi(u){function d(E){return u.next(E)}var g=_(d),w=_(function(E){return u.throw(E)});function _(E){return function(B){var D=E(B),B=D.value;return D.done?B:B&&typeof B.then=="function"?B.then(g,w):p(B)?Promise.all(B).then(g,w):g(B)}}return _(d)()}function wa(u,d,g){for(var w=p(u)?u.slice():[u],_=0;_<g;++_)w.push(d);return w}var bc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return s(s({},u),{table:function(d){var g=u.table(d),w=g.schema,_={},E=[];function k(M,G,z){var $=Yt(M),I=_[$]=_[$]||[],P=M==null?0:typeof M=="string"?1:M.length,F=0<G,F=s(s({},z),{name:F?"".concat($,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:F,keyTail:G,keyLength:P,extractKey:Tr(M),unique:!F&&z.unique});return I.push(F),F.isPrimaryKey||E.push(F),1<P&&k(P===2?M[0]:M.slice(0,P-1),G+1,z),I.sort(function(te,ne){return te.keyTail-ne.keyTail}),F}d=k(w.primaryKey.keyPath,0,w.primaryKey),_[":id"]=[d];for(var D=0,B=w.indexes;D<B.length;D++){var H=B[D];k(H.keyPath,0,H)}function Y(M){var G,z=M.query.index;return z.isVirtual?s(s({},M),{query:{index:z.lowLevelIndex,range:(G=M.query.range,z=z.keyTail,{type:G.type===1?2:G.type,lower:wa(G.lower,G.lowerOpen?u.MAX_KEY:u.MIN_KEY,z),lowerOpen:!0,upper:wa(G.upper,G.upperOpen?u.MIN_KEY:u.MAX_KEY,z),upperOpen:!0})}}):M}return s(s({},g),{schema:s(s({},w),{primaryKey:d,indexes:E,getIndexByKeyPath:function(M){return(M=_[Yt(M)])&&M[0]}}),count:function(M){return g.count(Y(M))},query:function(M){return g.query(Y(M))},openCursor:function(M){var G=M.query.index,z=G.keyTail,$=G.isVirtual,I=G.keyLength;return $?g.openCursor(Y(M)).then(function(F){return F&&P(F)}):g.openCursor(M);function P(F){return Object.create(F,{continue:{value:function(te){te!=null?F.continue(wa(te,M.reverse?u.MAX_KEY:u.MIN_KEY,z)):M.unique?F.continue(F.key.slice(0,I).concat(M.reverse?u.MIN_KEY:u.MAX_KEY,z)):F.continue()}},continuePrimaryKey:{value:function(te,ne){F.continuePrimaryKey(wa(te,u.MAX_KEY,z),ne)}},primaryKey:{get:function(){return F.primaryKey}},key:{get:function(){var te=F.key;return I===1?te[0]:te.slice(0,I)}},value:{get:function(){return F.value}}})}}})}})}};function us(u,d,g,w){return g=g||{},w=w||"",m(u).forEach(function(_){var E,k,D;O(d,_)?(E=u[_],k=d[_],typeof E=="object"&&typeof k=="object"&&E&&k?(D=me(E))!==me(k)?g[w+_]=d[_]:D==="Object"?us(E,k,g,w+_+"."):E!==k&&(g[w+_]=d[_]):E!==k&&(g[w+_]=d[_])):g[w+_]=void 0}),m(d).forEach(function(_){O(u,_)||(g[w+_]=d[_])}),g}function cs(u,d){return d.type==="delete"?d.keys:d.keys||d.values.map(u.extractKey)}var Ho={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return s(s({},u),{table:function(d){var g=u.table(d),w=g.schema.primaryKey;return s(s({},g),{mutate:function(_){var E=Me.trans,k=E.table(d).hook,D=k.deleting,B=k.creating,H=k.updating;switch(_.type){case"add":if(B.fire===Fe)break;return E._promise("readwrite",function(){return Y(_)},!0);case"put":if(B.fire===Fe&&H.fire===Fe)break;return E._promise("readwrite",function(){return Y(_)},!0);case"delete":if(D.fire===Fe)break;return E._promise("readwrite",function(){return Y(_)},!0);case"deleteRange":if(D.fire===Fe)break;return E._promise("readwrite",function(){return function M(G,z,$){return g.query({trans:G,values:!1,query:{index:w,range:z},limit:$}).then(function(I){var P=I.result;return Y({type:"delete",keys:P,trans:G}).then(function(F){return 0<F.numFailures?Promise.reject(F.failures[0]):P.length<$?{failures:[],numFailures:0,lastResult:void 0}:M(G,s(s({},z),{lower:P[P.length-1],lowerOpen:!0}),$)})})}(_.trans,_.range,1e4)},!0)}return g.mutate(_);function Y(M){var G,z,$,I=Me.trans,P=M.keys||cs(w,M);if(!P)throw new Error("Keys missing");return(M=M.type==="add"||M.type==="put"?s(s({},M),{keys:P}):s({},M)).type!=="delete"&&(M.values=o([],M.values)),M.keys&&(M.keys=o([],M.keys)),G=g,$=P,((z=M).type==="add"?Promise.resolve([]):G.getMany({trans:z.trans,keys:$,cache:"immutable"})).then(function(F){var te=P.map(function(ne,le){var we,Se,ve,xe=F[le],Ee={onerror:null,onsuccess:null};return M.type==="delete"?D.fire.call(Ee,ne,xe,I):M.type==="add"||xe===void 0?(we=B.fire.call(Ee,ne,M.values[le],I),ne==null&&we!=null&&(M.keys[le]=ne=we,w.outbound||Ne(M.values[le],w.keyPath,ne))):(we=us(xe,M.values[le]),(Se=H.fire.call(Ee,we,ne,xe,I))&&(ve=M.values[le],Object.keys(Se).forEach(function(be){O(ve,be)?ve[be]=Se[be]:Ne(ve,be,Se[be])}))),Ee});return g.mutate(M).then(function(ne){for(var le=ne.failures,we=ne.results,Se=ne.numFailures,ne=ne.lastResult,ve=0;ve<P.length;++ve){var xe=(we||P)[ve],Ee=te[ve];xe==null?Ee.onerror&&Ee.onerror(le[ve]):Ee.onsuccess&&Ee.onsuccess(M.type==="put"&&F[ve]?M.values[ve]:xe)}return{failures:le,results:we,numFailures:Se,lastResult:ne}}).catch(function(ne){return te.forEach(function(le){return le.onerror&&le.onerror(ne)}),Promise.reject(ne)})})}}})}})}};function _l(u,d,g){try{if(!d||d.keys.length<u.length)return null;for(var w=[],_=0,E=0;_<d.keys.length&&E<u.length;++_)nt(d.keys[_],u[E])===0&&(w.push(g?Ct(d.values[_]):d.values[_]),++E);return w.length===u.length?w:null}catch{return null}}var Po={stack:"dbcore",level:-1,create:function(u){return{table:function(d){var g=u.table(d);return s(s({},g),{getMany:function(w){if(!w.cache)return g.getMany(w);var _=_l(w.keys,w.trans._cache,w.cache==="clone");return _?Oe.resolve(_):g.getMany(w).then(function(E){return w.trans._cache={keys:w.keys,values:w.cache==="clone"?Ct(E):E},E})},mutate:function(w){return w.type!=="add"&&(w.trans._cache=null),g.mutate(w)}})}}}};function Ka(u,d){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function $o(u,d){switch(u){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var wc={stack:"dbcore",level:0,name:"Observability",create:function(u){var d=u.schema.name,g=new Zt(u.MIN_KEY,u.MAX_KEY);return s(s({},u),{transaction:function(w,_,E){if(Me.subscr&&_!=="readonly")throw new Te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Me.querier));return u.transaction(w,_,E)},table:function(w){var _=u.table(w),E=_.schema,k=E.primaryKey,M=E.indexes,D=k.extractKey,B=k.outbound,H=k.autoIncrement&&M.filter(function(z){return z.compound&&z.keyPath.includes(k.keyPath)}),Y=s(s({},_),{mutate:function(z){function $(be){return be="idb://".concat(d,"/").concat(w,"/").concat(be),ne[be]||(ne[be]=new Zt)}var I,P,F,te=z.trans,ne=z.mutatedParts||(z.mutatedParts={}),le=$(""),we=$(":dels"),Se=z.type,Ee=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[cs(k,z).filter(function(be){return be}),z.values]:[],ve=Ee[0],xe=Ee[1],Ee=z.trans._cache;return p(ve)?(le.addKeys(ve),(Ee=Se==="delete"||ve.length===xe.length?_l(ve,Ee):null)||we.addKeys(ve),(Ee||xe)&&(I=$,P=Ee,F=xe,E.indexes.forEach(function(be){var Ae=I(be.name||"");function qe(Ve){return Ve!=null?be.extractKey(Ve):null}function Pe(Ve){return be.multiEntry&&p(Ve)?Ve.forEach(function(sn){return Ae.addKey(sn)}):Ae.addKey(Ve)}(P||F).forEach(function(Ve,qt){var Ke=P&&qe(P[qt]),qt=F&&qe(F[qt]);nt(Ke,qt)!==0&&(Ke!=null&&Pe(Ke),qt!=null&&Pe(qt))})}))):ve?(xe={from:(xe=ve.lower)!==null&&xe!==void 0?xe:u.MIN_KEY,to:(xe=ve.upper)!==null&&xe!==void 0?xe:u.MAX_KEY},we.add(xe),le.add(xe)):(le.add(g),we.add(g),E.indexes.forEach(function(be){return $(be.name).add(g)})),_.mutate(z).then(function(be){return!ve||z.type!=="add"&&z.type!=="put"||(le.addKeys(be.results),H&&H.forEach(function(Ae){for(var qe=z.values.map(function(Ke){return Ae.extractKey(Ke)}),Pe=Ae.keyPath.findIndex(function(Ke){return Ke===k.keyPath}),Ve=0,sn=be.results.length;Ve<sn;++Ve)qe[Ve][Pe]=be.results[Ve];$(Ae.name).addKeys(qe)})),te.mutatedParts=ls(te.mutatedParts||{},ne),be})}}),M=function($){var I=$.query,$=I.index,I=I.range;return[$,new Zt(($=I.lower)!==null&&$!==void 0?$:u.MIN_KEY,(I=I.upper)!==null&&I!==void 0?I:u.MAX_KEY)]},G={get:function(z){return[k,new Zt(z.key)]},getMany:function(z){return[k,new Zt().addKeys(z.keys)]},count:M,query:M,openCursor:M};return m(G).forEach(function(z){Y[z]=function($){var I=Me.subscr,P=!!I,F=Ka(Me,_)&&$o(z,$)?$.obsSet={}:I;if(P){var te=function(xe){return xe="idb://".concat(d,"/").concat(w,"/").concat(xe),F[xe]||(F[xe]=new Zt)},ne=te(""),le=te(":dels"),I=G[z]($),P=I[0],I=I[1];if((z==="query"&&P.isPrimaryKey&&!$.values?le:te(P.name||"")).add(I),!P.isPrimaryKey){if(z!=="count"){var we=z==="query"&&B&&$.values&&_.query(s(s({},$),{values:!1}));return _[z].apply(this,arguments).then(function(xe){if(z==="query"){if(B&&$.values)return we.then(function(qe){return qe=qe.result,ne.addKeys(qe),xe});var Ee=$.values?xe.result.map(D):xe.result;($.values?ne:le).addKeys(Ee)}else if(z==="openCursor"){var be=xe,Ae=$.values;return be&&Object.create(be,{key:{get:function(){return le.addKey(be.primaryKey),be.key}},primaryKey:{get:function(){var qe=be.primaryKey;return le.addKey(qe),qe}},value:{get:function(){return Ae&&ne.addKey(be.primaryKey),be.value}}})}return xe})}le.add(g)}}return _[z].apply(this,arguments)}}),Y}})}};function Yo(u,d,g){if(g.numFailures===0)return d;if(d.type==="deleteRange")return null;var w=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return g.numFailures===w?null:(d=s({},d),p(d.keys)&&(d.keys=d.keys.filter(function(_,E){return!(E in g.failures)})),"values"in d&&p(d.values)&&(d.values=d.values.filter(function(_,E){return!(E in g.failures)})),d)}function fs(u,d){return g=u,((w=d).lower===void 0||(w.lowerOpen?0<nt(g,w.lower):0<=nt(g,w.lower)))&&(u=u,(d=d).upper===void 0||(d.upperOpen?nt(u,d.upper)<0:nt(u,d.upper)<=0));var g,w}function Sl(u,d,G,w,_,E){if(!G||G.length===0)return u;var k=d.query.index,D=k.multiEntry,B=d.query.range,H=w.schema.primaryKey.extractKey,Y=k.extractKey,M=(k.lowLevelIndex||k).extractKey,G=G.reduce(function(z,$){var I=z,P=[];if($.type==="add"||$.type==="put")for(var F=new Zt,te=$.values.length-1;0<=te;--te){var ne,le=$.values[te],we=H(le);F.hasKey(we)||(ne=Y(le),(D&&p(ne)?ne.some(function(be){return fs(be,B)}):fs(ne,B))&&(F.addKey(we),P.push(le)))}switch($.type){case"add":var Se=new Zt().addKeys(d.values?z.map(function(Ae){return H(Ae)}):z),I=z.concat(d.values?P.filter(function(Ae){return Ae=H(Ae),!Se.hasKey(Ae)&&(Se.addKey(Ae),!0)}):P.map(function(Ae){return H(Ae)}).filter(function(Ae){return!Se.hasKey(Ae)&&(Se.addKey(Ae),!0)}));break;case"put":var ve=new Zt().addKeys($.values.map(function(Ae){return H(Ae)}));I=z.filter(function(Ae){return!ve.hasKey(d.values?H(Ae):Ae)}).concat(d.values?P:P.map(function(Ae){return H(Ae)}));break;case"delete":var xe=new Zt().addKeys($.keys);I=z.filter(function(Ae){return!xe.hasKey(d.values?H(Ae):Ae)});break;case"deleteRange":var Ee=$.range;I=z.filter(function(Ae){return!fs(H(Ae),Ee)})}return I},u);return G===u?u:(G.sort(function(z,$){return nt(M(z),M($))||nt(H(z),H($))}),d.limit&&d.limit<1/0&&(G.length>d.limit?G.length=d.limit:u.length===d.limit&&G.length<d.limit&&(_.dirty=!0)),E?Object.freeze(G):G)}function Ar(u,d){return nt(u.lower,d.lower)===0&&nt(u.upper,d.upper)===0&&!!u.lowerOpen==!!d.lowerOpen&&!!u.upperOpen==!!d.upperOpen}function pi(u,d){return function(g,w,_,E){if(g===void 0)return w!==void 0?-1:0;if(w===void 0)return 1;if((w=nt(g,w))===0){if(_&&E)return 0;if(_)return 1;if(E)return-1}return w}(u.lower,d.lower,u.lowerOpen,d.lowerOpen)<=0&&0<=function(g,w,_,E){if(g===void 0)return w!==void 0?1:0;if(w===void 0)return-1;if((w=nt(g,w))===0){if(_&&E)return 0;if(_)return-1;if(E)return 1}return w}(u.upper,d.upper,u.upperOpen,d.upperOpen)}function xc(u,d,g,w){u.subscribers.add(g),w.addEventListener("abort",function(){var _,E;u.subscribers.delete(g),u.subscribers.size===0&&(_=u,E=d,setTimeout(function(){_.subscribers.size===0&&ie(E,_)},3e3))})}var ds={stack:"dbcore",level:0,name:"Cache",create:function(u){var d=u.schema.name;return s(s({},u),{transaction:function(g,w,_){var E,k,D=u.transaction(g,w,_);return w==="readwrite"&&(k=(E=new AbortController).signal,_=function(B){return function(){if(E.abort(),w==="readwrite"){for(var H=new Set,Y=0,M=g;Y<M.length;Y++){var G=M[Y],z=Ya["idb://".concat(d,"/").concat(G)];if(z){var $=u.table(G),I=z.optimisticOps.filter(function(Ae){return Ae.trans===D});if(D._explicit&&B&&D.mutatedParts)for(var P=0,F=Object.values(z.queries.query);P<F.length;P++)for(var te=0,ne=(Se=F[P]).slice();te<ne.length;te++)vl((ve=ne[te]).obsSet,D.mutatedParts)&&(ie(Se,ve),ve.subscribers.forEach(function(Ae){return H.add(Ae)}));else if(0<I.length){z.optimisticOps=z.optimisticOps.filter(function(Ae){return Ae.trans!==D});for(var le=0,we=Object.values(z.queries.query);le<we.length;le++)for(var Se,ve,xe,Ee=0,be=(Se=we[le]).slice();Ee<be.length;Ee++)(ve=be[Ee]).res!=null&&D.mutatedParts&&(B&&!ve.dirty?(xe=Object.isFrozen(ve.res),xe=Sl(ve.res,ve.req,I,$,ve,xe),ve.dirty?(ie(Se,ve),ve.subscribers.forEach(function(Ae){return H.add(Ae)})):xe!==ve.res&&(ve.res=xe,ve.promise=Oe.resolve({result:xe}))):(ve.dirty&&ie(Se,ve),ve.subscribers.forEach(function(Ae){return H.add(Ae)})))}}}H.forEach(function(Ae){return Ae()})}}},D.addEventListener("abort",_(!1),{signal:k}),D.addEventListener("error",_(!1),{signal:k}),D.addEventListener("complete",_(!0),{signal:k})),D},table:function(g){var w=u.table(g),_=w.schema.primaryKey;return s(s({},w),{mutate:function(E){var k=Me.trans;if(_.outbound||k.db._options.cache==="disabled"||k.explicit||k.idbtrans.mode!=="readwrite")return w.mutate(E);var D=Ya["idb://".concat(d,"/").concat(g)];return D?(k=w.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||cs(_,E).some(function(B){return B==null}))?(D.optimisticOps.push(E),E.mutatedParts&&os(E.mutatedParts),k.then(function(B){0<B.numFailures&&(ie(D.optimisticOps,E),(B=Yo(0,E,B))&&D.optimisticOps.push(B),E.mutatedParts&&os(E.mutatedParts))}),k.catch(function(){ie(D.optimisticOps,E),E.mutatedParts&&os(E.mutatedParts)})):k.then(function(B){var H=Yo(0,s(s({},E),{values:E.values.map(function(Y,M){var G;return B.failures[M]?Y:(Y=(G=_.keyPath)!==null&&G!==void 0&&G.includes(".")?Ct(Y):s({},Y),Ne(Y,_.keyPath,B.results[M]),Y)})}),B);D.optimisticOps.push(H),queueMicrotask(function(){return E.mutatedParts&&os(E.mutatedParts)})}),k):w.mutate(E)},query:function(E){if(!Ka(Me,w)||!$o("query",E))return w.query(E);var k=((H=Me.trans)===null||H===void 0?void 0:H.db._options.cache)==="immutable",M=Me,D=M.requery,B=M.signal,H=function($,I,P,F){var te=Ya["idb://".concat($,"/").concat(I)];if(!te)return[];if(!(I=te.queries[P]))return[null,!1,te,null];var ne=I[(F.query?F.query.index.name:null)||""];if(!ne)return[null,!1,te,null];switch(P){case"query":var le=ne.find(function(we){return we.req.limit===F.limit&&we.req.values===F.values&&Ar(we.req.query.range,F.query.range)});return le?[le,!0,te,ne]:[ne.find(function(we){return("limit"in we.req?we.req.limit:1/0)>=F.limit&&(!F.values||we.req.values)&&pi(we.req.query.range,F.query.range)}),!1,te,ne];case"count":return le=ne.find(function(we){return Ar(we.req.query.range,F.query.range)}),[le,!!le,te,ne]}}(d,g,"query",E),Y=H[0],M=H[1],G=H[2],z=H[3];return Y&&M?Y.obsSet=E.obsSet:(M=w.query(E).then(function($){var I=$.result;if(Y&&(Y.res=I),k){for(var P=0,F=I.length;P<F;++P)Object.freeze(I[P]);Object.freeze(I)}else $.result=Ct(I);return $}).catch(function($){return z&&Y&&ie(z,Y),Promise.reject($)}),Y={obsSet:E.obsSet,promise:M,subscribers:new Set,type:"query",req:E,dirty:!1},z?z.push(Y):(z=[Y],(G=G||(Ya["idb://".concat(d,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=z)),xc(Y,z,D,B),Y.promise.then(function($){return{result:Sl($.result,E,G==null?void 0:G.optimisticOps,w,Y,k)}})}})}})}};function vi(u,d){return new Proxy(u,{get:function(g,w,_){return w==="db"?d:Reflect.get(g,w,_)}})}var Xn=(Tt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new Te.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new Te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var d=this._versions,g=d.filter(function(w){return w._cfg.version===u})[0];return g||(g=new this.Version(u),d.push(g),d.sort(dl),g.stores({}),this._state.autoSchema=!1,g)},Tt.prototype._whenReady=function(u){var d=this;return this.idbdb&&(this._state.openComplete||Me.letThrough||this._vip)?u():new Oe(function(g,w){if(d._state.openComplete)return w(new Te.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void w(new Te.DatabaseClosed);d.open().catch(Fe)}d._state.dbReadyPromise.then(g,w)}).then(u)},Tt.prototype.use=function(u){var d=u.stack,g=u.create,w=u.level,_=u.name;return _&&this.unuse({stack:d,name:_}),u=this._middlewares[d]||(this._middlewares[d]=[]),u.push({stack:d,create:g,level:w??10,name:_}),u.sort(function(E,k){return E.level-k.level}),this},Tt.prototype.unuse=function(u){var d=u.stack,g=u.name,w=u.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(_){return w?_.create!==w:!!g&&_.name!==g})),this},Tt.prototype.open=function(){var u=this;return ha(dn,function(){return vc(u)})},Tt.prototype._close=function(){var u=this._state,d=ra.indexOf(this);if(0<=d&&ra.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Oe(function(g){u.dbReadyResolve=g}),u.openCanceller=new Oe(function(g,w){u.cancelOpen=w}))},Tt.prototype.close=function(g){var d=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;d?(g.isBeingOpened&&g.cancelOpen(new Te.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Te.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Tt.prototype.delete=function(u){var d=this;u===void 0&&(u={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",w=this._state;return new Oe(function(_,E){function k(){d.close(u);var D=d._deps.indexedDB.deleteDatabase(d.name);D.onsuccess=Ze(function(){var B,H,Y;B=d._deps,H=d.name,Y=B.indexedDB,B=B.IDBKeyRange,is(Y)||H===Ma||ml(Y,B).delete(H).catch(Fe),_()}),D.onerror=Rn(E),D.onblocked=d._fireOnBlocked}if(g)throw new Te.InvalidArgument("Invalid closeOptions argument to db.delete()");w.isBeingOpened?w.dbReadyPromise.then(k):k()})},Tt.prototype.backendDB=function(){return this.idbdb},Tt.prototype.isOpen=function(){return this.idbdb!==null},Tt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},Tt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Tt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Tt.prototype,"tables",{get:function(){var u=this;return m(this._allTables).map(function(d){return u._allTables[d]})},enumerable:!1,configurable:!0}),Tt.prototype.transaction=function(){var u=(function(d,g,w){var _=arguments.length;if(_<2)throw new Te.InvalidArgument("Too few arguments");for(var E=new Array(_-1);--_;)E[_-1]=arguments[_];return w=E.pop(),[d,Ue(E),w]}).apply(this,arguments);return this._transaction.apply(this,u)},Tt.prototype._transaction=function(u,d,g){var w=this,_=Me.trans;_&&_.db===this&&u.indexOf("!")===-1||(_=null);var E,k,D=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(k=d.map(function(H){if(H=H instanceof w.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),u=="r"||u===Nn)E=Nn;else{if(u!="rw"&&u!=fi)throw new Te.InvalidArgument("Invalid transaction mode: "+u);E=fi}if(_){if(_.mode===Nn&&E===fi){if(!D)throw new Te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&k.forEach(function(H){if(_&&_.storeNames.indexOf(H)===-1){if(!D)throw new Te.SubTransaction("Table "+H+" not included in parent transaction.");_=null}}),D&&_&&!_.active&&(_=null)}}catch(H){return _?_._promise(null,function(Y,M){M(H)}):Nt(H)}var B=(function H(Y,M,G,z,$){return Oe.resolve().then(function(){var I=Me.transless||Me,P=Y._createTransaction(M,G,Y._dbSchema,z);if(P.explicit=!0,I={trans:P,transless:I},z)P.idbtrans=z.idbtrans;else try{P.create(),P.idbtrans._explicit=!0,Y._state.PR1398_maxLoop=3}catch(ne){return ne.name===wt.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return H(Y,M,G,null,$)})):Nt(ne)}var F,te=ae($);return te&&Dn(),I=Oe.follow(function(){var ne;(F=$.call(P,P))&&(te?(ne=wn.bind(null,null),F.then(ne,ne)):typeof F.next=="function"&&typeof F.throw=="function"&&(F=yi(F)))},I),(F&&typeof F.then=="function"?Oe.resolve(F).then(function(ne){return P.active?ne:Nt(new Te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):I.then(function(){return F})).then(function(ne){return z&&P._resolve(),P._completion.then(function(){return ne})}).catch(function(ne){return P._reject(ne),Nt(ne)})})}).bind(null,this,E,k,_,g);return _?_._promise(E,B,"lock"):Me.trans?ha(Me.transless,function(){return w._whenReady(B)}):this._whenReady(B)},Tt.prototype.table=function(u){if(!O(this._allTables,u))throw new Te.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},Tt);function Tt(u,d){var g=this;this._middlewares={},this.verno=0;var w=Tt.dependencies;this._options=d=s({addons:Tt.addons,autoOpen:!0,indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},w=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,E,k,D,B,H={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fe,dbReadyPromise:null,cancelOpen:Fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};H.dbReadyPromise=new Oe(function(M){H.dbReadyResolve=M}),H.openCanceller=new Oe(function(M,G){H.cancelOpen=G}),this._state=H,this.name=u,this.on=va(this,"populate","blocked","versionchange","close",{ready:[Yi,Fe]}),this.on.ready.subscribe=ce(this.on.ready.subscribe,function(M){return function(G,z){Tt.vip(function(){var $,I=g._state;I.openComplete?(I.dbOpenError||Oe.resolve().then(G),z&&M(G)):I.onReadyBeingFired?(I.onReadyBeingFired.push(G),z&&M(G)):(M(G),$=g,z||M(function P(){$.on.ready.unsubscribe(G),$.on.ready.unsubscribe(P)}))})}}),this.Collection=(_=this,br(Sr.prototype,function(F,P){this.db=_;var z=Ua,$=null;if(P)try{z=P()}catch(te){$=te}var I=F._ctx,P=I.table,F=P.hook.reading.fire;this._ctx={table:P,index:I.index,isPrimKey:!I.index||P.schema.primKey.keyPath&&I.index===P.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:$,or:I.or,valueMapper:F!==fn?F:null}})),this.Table=(E=this,br(sl.prototype,function(M,G,z){this.db=E,this._tx=z,this.name=M,this.schema=G,this.hook=E._allTables[M]?E._allTables[M].hook:va(null,{creating:[De,Fe],reading:[dr,fn],updating:[Pn,Fe],deleting:[lt,Fe]})})),this.Transaction=(k=this,br(fl.prototype,function(M,G,z,$,I){var P=this;this.db=k,this.mode=M,this.storeNames=G,this.schema=z,this.chromeTransactionDurability=$,this.idbtrans=null,this.on=va(this,"complete","error","abort"),this.parent=I||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(F,te){P._resolve=F,P._reject=te}),this._completion.then(function(){P.active=!1,P.on.complete.fire()},function(F){var te=P.active;return P.active=!1,P.on.error.fire(F),P.parent?P.parent._reject(F):te&&P.idbtrans&&P.idbtrans.abort(),Nt(F)})})),this.Version=(D=this,br(pc.prototype,function(M){this.db=D,this._cfg={version:M,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(B=this,br(Ba.prototype,function(M,G,z){if(this.db=B,this._ctx={table:M,index:G===":id"?null:G,or:z},this._cmp=this._ascending=nt,this._descending=function($,I){return nt(I,$)},this._max=function($,I){return 0<nt($,I)?$:I},this._min=function($,I){return nt($,I)<0?$:I},this._IDBKeyRange=B._deps.IDBKeyRange,!this._IDBKeyRange)throw new Te.MissingAPI})),this.on("versionchange",function(M){0<M.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(M){!M.newVersion||M.newVersion<M.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(M.oldVersion/10))}),this._maxKey=kr(d.IDBKeyRange),this._createTransaction=function(M,G,z,$){return new g.Transaction(M,G,z,g._options.chromeTransactionDurability,$)},this._fireOnBlocked=function(M){g.on("blocked").fire(M),ra.filter(function(G){return G.name===g.name&&G!==g&&!G._state.vcFired}).map(function(G){return G.on("versionchange").fire(M)})},this.use(Po),this.use(ds),this.use(wc),this.use(bc),this.use(Ho);var Y=new Proxy(this,{get:function(M,G,z){if(G==="_vip")return!0;if(G==="table")return function(I){return vi(g.table(I),Y)};var $=Reflect.get(M,G,z);return $ instanceof sl?vi($,Y):G==="tables"?$.map(function(I){return vi(I,Y)}):G==="_createTransaction"?function(){return vi($.apply(this,arguments),Y)}:$}});this.vip=Y,w.forEach(function(M){return M(g)})}var Dr,Sn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ko=(hs.prototype.subscribe=function(u,d,g){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:d,complete:g})},hs.prototype[Sn]=function(){return this},hs);function hs(u){this._subscribe=u}try{Dr={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Dr={indexedDB:null,IDBKeyRange:null}}function Go(u){var d,g=!1,w=new Ko(function(_){var E=ae(u),k,D=!1,B={},H={},Y={get closed(){return D},unsubscribe:function(){D||(D=!0,k&&k.abort(),M&&Ft.storagemutated.unsubscribe(z))}};_.start&&_.start(Y);var M=!1,G=function(){return ga($)},z=function(I){ls(B,I),vl(H,B)&&G()},$=function(){var I,P,F;!D&&Dr.indexedDB&&(B={},I={},k&&k.abort(),k=new AbortController,F=function(te){var ne=Ra();try{E&&Dn();var le=Gn(u,te);return le=E?le.finally(wn):le}finally{ne&&yr()}}(P={subscr:I,signal:k.signal,requery:G,querier:u,trans:null}),Promise.resolve(F).then(function(te){g=!0,d=te,D||P.signal.aborted||(B={},function(ne){for(var le in ne)if(O(ne,le))return;return 1}(H=I)||M||(Ft(jr,z),M=!0),ga(function(){return!D&&_.next&&_.next(te)}))},function(te){g=!1,["DatabaseClosedError","AbortError"].includes(te==null?void 0:te.name)||D||ga(function(){D||_.error&&_.error(te)})}))};return setTimeout(G,0),Y});return w.hasValue=function(){return g},w.getValue=function(){return d},w}var Ga=Xn;function El(u){var d=xa;try{xa=!0,Ft.storagemutated.fire(u),xl(u,!0)}finally{xa=d}}T(Ga,s(s({},$t),{delete:function(u){return new Ga(u,{addons:[]}).delete()},exists:function(u){return new Ga(u,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return d=Ga.dependencies,g=d.indexedDB,d=d.IDBKeyRange,(is(g)?Promise.resolve(g.databases()).then(function(w){return w.map(function(_){return _.name}).filter(function(_){return _!==Ma})}):ml(g,d).toCollection().primaryKeys()).then(u)}catch{return Nt(new Te.MissingAPI)}var d,g},defineClass:function(){return function(u){y(this,u)}},ignoreTransaction:function(u){return Me.trans?ha(Me.transless,u):u()},vip:gl,async:function(u){return function(){try{var d=yi(u.apply(this,arguments));return d&&typeof d.then=="function"?d:Oe.resolve(d)}catch(g){return Nt(g)}}},spawn:function(u,d,g){try{var w=yi(u.apply(g,d||[]));return w&&typeof w.then=="function"?w:Oe.resolve(w)}catch(_){return Nt(_)}},currentTransaction:{get:function(){return Me.trans||null}},waitFor:function(u,d){return d=Oe.resolve(typeof u=="function"?Ga.ignoreTransaction(u):u).timeout(d||6e4),Me.trans?Me.trans.waitFor(d):d},Promise:Oe,debug:{get:function(){return bn},set:function(u){Ao(u)}},derive:V,extend:y,props:T,override:ce,Events:va,on:Ft,liveQuery:Go,extendObservabilitySet:ls,getByKeyPath:_e,setByKeyPath:Ne,delByKeyPath:function(u,d){typeof d=="string"?Ne(u,d,void 0):"length"in d&&[].map.call(d,function(g){Ne(u,g,void 0)})},shallowClone:We,deepClone:Ct,getObjectDiff:us,cmp:nt,asap:ue,minKey:-1/0,addons:[],connections:ra,errnames:wt,dependencies:Dr,cache:Ya,semVer:"4.0.11",version:"4.0.11".split(".").map(function(u){return parseInt(u)}).reduce(function(u,d,g){return u+d/Math.pow(10,2*g)})})),Ga.maxKey=kr(Ga.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ft(jr,function(u){xa||(u=new CustomEvent(Ha,{detail:u}),xa=!0,dispatchEvent(u),xa=!1)}),addEventListener(Ha,function(u){u=u.detail,xa||El(u)}));var Nr,xa=!1,gn=function(){};return typeof BroadcastChannel<"u"&&((gn=function(){(Nr=new BroadcastChannel(Ha)).onmessage=function(u){return u.data&&El(u.data)}})(),typeof Nr.unref=="function"&&Nr.unref(),Ft(jr,function(u){xa||Nr.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!Xn.disableBfCache&&u.persisted){bn&&console.debug("Dexie: handling persisted pagehide"),Nr!=null&&Nr.close();for(var d=0,g=ra;d<g.length;d++)g[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!Xn.disableBfCache&&u.persisted&&(bn&&console.debug("Dexie: handling persisted pageshow"),gn(),El({all:new Zt(-1/0,[[]])}))})),Oe.rejectionMapper=function(u,d){return!u||u instanceof he||u instanceof TypeError||u instanceof SyntaxError||!u.name||!At[u.name]?u:(d=new At[u.name](d||u.message,u),"stack"in u&&C(d,"stack",{get:function(){return this.inner.stack}}),d)},Ao(bn),s(Xn,Object.freeze({__proto__:null,Dexie:Xn,liveQuery:Go,Entity:Qi,cmp:nt,PropModification:_r,replacePrefix:function(u,d){return new _r({replacePrefix:[u,d]})},add:function(u){return new _r({add:u})},remove:function(u){return new _r({remove:u})},default:Xn,RangeSet:Zt,mergeRanges:$a,rangesOverlap:zo}),{default:Xn}),Xn})}(Ju)),Ju.exports}var lx=sx();const Ud=jo(lx),Ry=Symbol.for("Dexie"),sc=globalThis[Ry]||(globalThis[Ry]=Ud);if(Ud.semVer!==sc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ud.semVer} and ${sc.semVer}`);const{liveQuery:x2,mergeRanges:_2,rangesOverlap:S2,RangeSet:E2,cmp:j2,Entity:O2,PropModification:k2,replacePrefix:T2,add:C2,remove:A2}=sc;class ox extends sc{constructor(){super("HabitTrackerDB");rd(this,"habits");rd(this,"habit_logs");this.version(1).stores({habits:"id,user_id,created_at,synced,deleted",habit_logs:"id,[user_id+synced],[habit_id+user_id+date],user_id,habit_id,date,synced"})}}const st=new ox,cn=[];for(let i=0;i<256;++i)cn.push((i+256).toString(16).slice(1));function ux(i,a=0){return(cn[i[a+0]]+cn[i[a+1]]+cn[i[a+2]]+cn[i[a+3]]+"-"+cn[i[a+4]]+cn[i[a+5]]+"-"+cn[i[a+6]]+cn[i[a+7]]+"-"+cn[i[a+8]]+cn[i[a+9]]+"-"+cn[i[a+10]]+cn[i[a+11]]+cn[i[a+12]]+cn[i[a+13]]+cn[i[a+14]]+cn[i[a+15]]).toLowerCase()}let bd;const cx=new Uint8Array(16);function fx(){if(!bd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bd=crypto.getRandomValues.bind(crypto)}return bd(cx)}const dx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),My={randomUUID:dx};function hx(i,a,r){var o;if(My.randomUUID&&!i)return My.randomUUID();i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??fx();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,ux(s)}const Cn=["Mo","Di","Mi","Do","Fr","Sa","So"],Up=6048e5,mx=864e5,Uy=Symbol.for("constructDateFrom");function ur(i,a){return typeof i=="function"?i(a):i&&typeof i=="object"&&Uy in i?i[Uy](a):i instanceof Date?new i.constructor(a):new Date(a)}function na(i,a){return ur(a||i,i)}let gx={};function hc(){return gx}function So(i,a){var p,y,v,S;const r=hc(),s=(a==null?void 0:a.weekStartsOn)??((y=(p=a==null?void 0:a.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((S=(v=r.locale)==null?void 0:v.options)==null?void 0:S.weekStartsOn)??0,o=na(i,a==null?void 0:a.in),f=o.getDay(),m=(f<s?7:0)+f-s;return o.setDate(o.getDate()-m),o.setHours(0,0,0,0),o}function lc(i,a){return So(i,{...a,weekStartsOn:1})}function Lp(i,a){const r=na(i,a==null?void 0:a.in),s=r.getFullYear(),o=ur(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const f=lc(o),m=ur(r,0);m.setFullYear(s,0,4),m.setHours(0,0,0,0);const p=lc(m);return r.getTime()>=f.getTime()?s+1:r.getTime()>=p.getTime()?s:s-1}function Ly(i){const a=na(i),r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return r.setUTCFullYear(a.getFullYear()),+i-+r}function zp(i,...a){const r=ur.bind(null,a.find(s=>typeof s=="object"));return a.map(r)}function zy(i,a){const r=na(i,a==null?void 0:a.in);return r.setHours(0,0,0,0),r}function yx(i,a,r){const[s,o]=zp(r==null?void 0:r.in,i,a),f=zy(s),m=zy(o),p=+f-Ly(f),y=+m-Ly(m);return Math.round((p-y)/mx)}function px(i,a){const r=Lp(i,a),s=ur(i,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),lc(s)}function vx(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function bx(i){return!(!vx(i)&&typeof i!="number"||isNaN(+na(i)))}function wx(i,a){const[r,s]=zp(i,a.start,a.end);return{start:r,end:s}}function xx(i,a){const{start:r,end:s}=wx(a==null?void 0:a.in,i);let o=+r>+s;const f=o?+r:+s,m=o?s:r;m.setHours(0,0,0,0);let p=1;const y=[];for(;+m<=f;)y.push(ur(r,m)),m.setDate(m.getDate()+p),m.setHours(0,0,0,0);return o?y.reverse():y}function _x(i,a){const r=na(i,a==null?void 0:a.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function Bp(i,a){const r=na(i,a==null?void 0:a.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Sx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ex=(i,a,r)=>{let s;const o=Sx[i];return typeof o=="string"?s=o:a===1?s=o.one:s=o.other.replace("{{count}}",a.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function wd(i){return(a={})=>{const r=a.width?String(a.width):i.defaultWidth;return i.formats[r]||i.formats[i.defaultWidth]}}const jx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ox={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tx={date:wd({formats:jx,defaultWidth:"full"}),time:wd({formats:Ox,defaultWidth:"full"}),dateTime:wd({formats:kx,defaultWidth:"full"})},Cx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ax=(i,a,r,s)=>Cx[i];function ho(i){return(a,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let o;if(s==="formatting"&&i.formattingValues){const m=i.defaultFormattingWidth||i.defaultWidth,p=r!=null&&r.width?String(r.width):m;o=i.formattingValues[p]||i.formattingValues[m]}else{const m=i.defaultWidth,p=r!=null&&r.width?String(r.width):i.defaultWidth;o=i.values[p]||i.values[m]}const f=i.argumentCallback?i.argumentCallback(a):a;return o[f]}}const Dx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ux={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zx=(i,a)=>{const r=Number(i),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Bx={ordinalNumber:zx,era:ho({values:Dx,defaultWidth:"wide"}),quarter:ho({values:Nx,defaultWidth:"wide",argumentCallback:i=>i-1}),month:ho({values:Rx,defaultWidth:"wide"}),day:ho({values:Mx,defaultWidth:"wide"}),dayPeriod:ho({values:Ux,defaultWidth:"wide",formattingValues:Lx,defaultFormattingWidth:"wide"})};function mo(i){return(a,r={})=>{const s=r.width,o=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],f=a.match(o);if(!f)return null;const m=f[0],p=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],y=Array.isArray(p)?Hx(p,O=>O.test(m)):qx(p,O=>O.test(m));let v;v=i.valueCallback?i.valueCallback(y):y,v=r.valueCallback?r.valueCallback(v):v;const S=a.slice(m.length);return{value:v,rest:S}}}function qx(i,a){for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&a(i[r]))return r}function Hx(i,a){for(let r=0;r<i.length;r++)if(a(i[r]))return r}function Px(i){return(a,r={})=>{const s=a.match(i.matchPattern);if(!s)return null;const o=s[0],f=a.match(i.parsePattern);if(!f)return null;let m=i.valueCallback?i.valueCallback(f[0]):f[0];m=r.valueCallback?r.valueCallback(m):m;const p=a.slice(o.length);return{value:m,rest:p}}}const $x=/^(\d+)(th|st|nd|rd)?/i,Yx=/\d+/i,Kx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gx={any:[/^b/i,/^(a|c)/i]},Vx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ix={any:[/1/i,/2/i,/3/i,/4/i]},Qx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e_={ordinalNumber:Px({matchPattern:$x,parsePattern:Yx,valueCallback:i=>parseInt(i,10)}),era:mo({matchPatterns:Kx,defaultMatchWidth:"wide",parsePatterns:Gx,defaultParseWidth:"any"}),quarter:mo({matchPatterns:Vx,defaultMatchWidth:"wide",parsePatterns:Ix,defaultParseWidth:"any",valueCallback:i=>i+1}),month:mo({matchPatterns:Qx,defaultMatchWidth:"wide",parsePatterns:Xx,defaultParseWidth:"any"}),day:mo({matchPatterns:Wx,defaultMatchWidth:"wide",parsePatterns:Fx,defaultParseWidth:"any"}),dayPeriod:mo({matchPatterns:Zx,defaultMatchWidth:"any",parsePatterns:Jx,defaultParseWidth:"any"})},t_={code:"en-US",formatDistance:Ex,formatLong:Tx,formatRelative:Ax,localize:Bx,match:e_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n_(i,a){const r=na(i,a==null?void 0:a.in);return yx(r,Bp(r))+1}function a_(i,a){const r=na(i,a==null?void 0:a.in),s=+lc(r)-+px(r);return Math.round(s/Up)+1}function qp(i,a){var S,O,T,U;const r=na(i,a==null?void 0:a.in),s=r.getFullYear(),o=hc(),f=(a==null?void 0:a.firstWeekContainsDate)??((O=(S=a==null?void 0:a.locale)==null?void 0:S.options)==null?void 0:O.firstWeekContainsDate)??o.firstWeekContainsDate??((U=(T=o.locale)==null?void 0:T.options)==null?void 0:U.firstWeekContainsDate)??1,m=ur((a==null?void 0:a.in)||i,0);m.setFullYear(s+1,0,f),m.setHours(0,0,0,0);const p=So(m,a),y=ur((a==null?void 0:a.in)||i,0);y.setFullYear(s,0,f),y.setHours(0,0,0,0);const v=So(y,a);return+r>=+p?s+1:+r>=+v?s:s-1}function r_(i,a){var p,y,v,S;const r=hc(),s=(a==null?void 0:a.firstWeekContainsDate)??((y=(p=a==null?void 0:a.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((S=(v=r.locale)==null?void 0:v.options)==null?void 0:S.firstWeekContainsDate)??1,o=qp(i,a),f=ur((a==null?void 0:a.in)||i,0);return f.setFullYear(o,0,s),f.setHours(0,0,0,0),So(f,a)}function i_(i,a){const r=na(i,a==null?void 0:a.in),s=+So(r,a)-+r_(r,a);return Math.round(s/Up)+1}function yt(i,a){const r=i<0?"-":"",s=Math.abs(i).toString().padStart(a,"0");return r+s}const ei={y(i,a){const r=i.getFullYear(),s=r>0?r:1-r;return yt(a==="yy"?s%100:s,a.length)},M(i,a){const r=i.getMonth();return a==="M"?String(r+1):yt(r+1,2)},d(i,a){return yt(i.getDate(),a.length)},a(i,a){const r=i.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(i,a){return yt(i.getHours()%12||12,a.length)},H(i,a){return yt(i.getHours(),a.length)},m(i,a){return yt(i.getMinutes(),a.length)},s(i,a){return yt(i.getSeconds(),a.length)},S(i,a){const r=a.length,s=i.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return yt(o,a.length)}},Vs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},By={G:function(i,a,r){const s=i.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(i,a,r){if(a==="yo"){const s=i.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return ei.y(i,a)},Y:function(i,a,r,s){const o=qp(i,s),f=o>0?o:1-o;if(a==="YY"){const m=f%100;return yt(m,2)}return a==="Yo"?r.ordinalNumber(f,{unit:"year"}):yt(f,a.length)},R:function(i,a){const r=Lp(i);return yt(r,a.length)},u:function(i,a){const r=i.getFullYear();return yt(r,a.length)},Q:function(i,a,r){const s=Math.ceil((i.getMonth()+1)/3);switch(a){case"Q":return String(s);case"QQ":return yt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(i,a,r){const s=Math.ceil((i.getMonth()+1)/3);switch(a){case"q":return String(s);case"qq":return yt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(i,a,r){const s=i.getMonth();switch(a){case"M":case"MM":return ei.M(i,a);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(i,a,r){const s=i.getMonth();switch(a){case"L":return String(s+1);case"LL":return yt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(i,a,r,s){const o=i_(i,s);return a==="wo"?r.ordinalNumber(o,{unit:"week"}):yt(o,a.length)},I:function(i,a,r){const s=a_(i);return a==="Io"?r.ordinalNumber(s,{unit:"week"}):yt(s,a.length)},d:function(i,a,r){return a==="do"?r.ordinalNumber(i.getDate(),{unit:"date"}):ei.d(i,a)},D:function(i,a,r){const s=n_(i);return a==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):yt(s,a.length)},E:function(i,a,r){const s=i.getDay();switch(a){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(i,a,r,s){const o=i.getDay(),f=(o-s.weekStartsOn+8)%7||7;switch(a){case"e":return String(f);case"ee":return yt(f,2);case"eo":return r.ordinalNumber(f,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(i,a,r,s){const o=i.getDay(),f=(o-s.weekStartsOn+8)%7||7;switch(a){case"c":return String(f);case"cc":return yt(f,a.length);case"co":return r.ordinalNumber(f,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(i,a,r){const s=i.getDay(),o=s===0?7:s;switch(a){case"i":return String(o);case"ii":return yt(o,a.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(i,a,r){const o=i.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,a,r){const s=i.getHours();let o;switch(s===12?o=Vs.noon:s===0?o=Vs.midnight:o=s/12>=1?"pm":"am",a){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,a,r){const s=i.getHours();let o;switch(s>=17?o=Vs.evening:s>=12?o=Vs.afternoon:s>=4?o=Vs.morning:o=Vs.night,a){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,a,r){if(a==="ho"){let s=i.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ei.h(i,a)},H:function(i,a,r){return a==="Ho"?r.ordinalNumber(i.getHours(),{unit:"hour"}):ei.H(i,a)},K:function(i,a,r){const s=i.getHours()%12;return a==="Ko"?r.ordinalNumber(s,{unit:"hour"}):yt(s,a.length)},k:function(i,a,r){let s=i.getHours();return s===0&&(s=24),a==="ko"?r.ordinalNumber(s,{unit:"hour"}):yt(s,a.length)},m:function(i,a,r){return a==="mo"?r.ordinalNumber(i.getMinutes(),{unit:"minute"}):ei.m(i,a)},s:function(i,a,r){return a==="so"?r.ordinalNumber(i.getSeconds(),{unit:"second"}):ei.s(i,a)},S:function(i,a){return ei.S(i,a)},X:function(i,a,r){const s=i.getTimezoneOffset();if(s===0)return"Z";switch(a){case"X":return Hy(s);case"XXXX":case"XX":return zi(s);case"XXXXX":case"XXX":default:return zi(s,":")}},x:function(i,a,r){const s=i.getTimezoneOffset();switch(a){case"x":return Hy(s);case"xxxx":case"xx":return zi(s);case"xxxxx":case"xxx":default:return zi(s,":")}},O:function(i,a,r){const s=i.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+qy(s,":");case"OOOO":default:return"GMT"+zi(s,":")}},z:function(i,a,r){const s=i.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+qy(s,":");case"zzzz":default:return"GMT"+zi(s,":")}},t:function(i,a,r){const s=Math.trunc(+i/1e3);return yt(s,a.length)},T:function(i,a,r){return yt(+i,a.length)}};function qy(i,a=""){const r=i>0?"-":"+",s=Math.abs(i),o=Math.trunc(s/60),f=s%60;return f===0?r+String(o):r+String(o)+a+yt(f,2)}function Hy(i,a){return i%60===0?(i>0?"-":"+")+yt(Math.abs(i)/60,2):zi(i,a)}function zi(i,a=""){const r=i>0?"-":"+",s=Math.abs(i),o=yt(Math.trunc(s/60),2),f=yt(s%60,2);return r+o+a+f}const Py=(i,a)=>{switch(i){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Hp=(i,a)=>{switch(i){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},s_=(i,a)=>{const r=i.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Py(i,a);let f;switch(s){case"P":f=a.dateTime({width:"short"});break;case"PP":f=a.dateTime({width:"medium"});break;case"PPP":f=a.dateTime({width:"long"});break;case"PPPP":default:f=a.dateTime({width:"full"});break}return f.replace("{{date}}",Py(s,a)).replace("{{time}}",Hp(o,a))},l_={p:Hp,P:s_},o_=/^D+$/,u_=/^Y+$/,c_=["D","DD","YY","YYYY"];function f_(i){return o_.test(i)}function d_(i){return u_.test(i)}function h_(i,a,r){const s=m_(i,a,r);if(console.warn(s),c_.includes(i))throw new RangeError(s)}function m_(i,a,r){const s=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${a}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const g_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p_=/^'([^]*?)'?$/,v_=/''/g,b_=/[a-zA-Z]/;function w_(i,a,r){var S,O,T,U;const s=hc(),o=s.locale??t_,f=s.firstWeekContainsDate??((O=(S=s.locale)==null?void 0:S.options)==null?void 0:O.firstWeekContainsDate)??1,m=s.weekStartsOn??((U=(T=s.locale)==null?void 0:T.options)==null?void 0:U.weekStartsOn)??0,p=na(i,r==null?void 0:r.in);if(!bx(p))throw new RangeError("Invalid time value");let y=a.match(y_).map(C=>{const V=C[0];if(V==="p"||V==="P"){const W=l_[V];return W(C,o.formatLong)}return C}).join("").match(g_).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const V=C[0];if(V==="'")return{isToken:!1,value:x_(C)};if(By[V])return{isToken:!0,value:C};if(V.match(b_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return{isToken:!1,value:C}});o.localize.preprocessor&&(y=o.localize.preprocessor(p,y));const v={firstWeekContainsDate:f,weekStartsOn:m,locale:o};return y.map(C=>{if(!C.isToken)return C.value;const V=C.value;(d_(V)||f_(V))&&h_(V,a,String(i));const W=By[V[0]];return W(p,V,o.localize,v)}).join("")}function x_(i){const a=i.match(p_);return a?a[1].replace(v_,"'"):i}async function __(i){try{return await st.habits.where({id:i}).first()}catch(a){return console.error("Error Fetching Habit by ID",a),null}}async function Wd(i){try{return await st.habits.where({user_id:i}).filter(r=>!r.deleted).toArray()}catch(a){return console.error("Error Fetching a Habit by User",a),[]}}async function S_(i,a){try{const r=Cn[a.getDay()];return await st.habits.where("user_id").equals(i).filter(o=>{var f;return!!((f=o.days)!=null&&f.includes(r))}).filter(o=>!o.deleted).toArray()}catch(r){return console.error("Error Fetching Habits by Date and User",r),[]}}async function E_(i,a){try{const r=Cn[a.getDay()];return await st.habits.where("user_id").equals(i).filter(o=>{var f;return!((f=o.days)!=null&&f.includes(r))}).filter(o=>!o.deleted).toArray()}catch(r){return console.error("Error Fetching False Habit by Date",r),[]}}async function j_(i,a,r){try{const s=a.toISOString().split("T")[0]+"T00:00:00+00:00";return await st.habit_logs.where({habit_id:i,user_id:r,date:s}).first()}catch(s){return console.error("Error Fetching HabitLog By Id, Date and User",s),0}}async function O_(i,a){try{const r=a instanceof Date?a.toISOString().split("T")[0]:a.split("T")[0];return await st.habit_logs.where("user_id").equals(i).filter(o=>o.date.startsWith(r)).toArray()}catch(r){return console.error("Error Fetching HabitLog by User and Day",r),[]}}async function Pp(i){try{const a=await st.habits.where({id:i}).first();if(!a||!a.days||a.days.length===0)return 0;const r=new Date(a.created_at);r.setHours(0,0,0,0);const s=await st.habit_logs.where({habit_id:i}).toArray();s.sort((p,y)=>y.date.localeCompare(p.date));let o=0,f=0,m=new Date;for(;m>=r;){const p=Cn[m.getDay()];if(a.days.includes(p)){const y=m.toISOString().split("T")[0]+"T00:00:00+00:00",v=s.find(S=>S.date===y);v&&v.is_done?o++:f++}m.setDate(m.getDate()-1)}return o+f===0?100:Math.round(100*(o/(o+f)))}catch(a){return console.error("Error Fetch Percentage By Id ",a),0}}async function $p(i){try{const a=await st.habits.where({user_id:i}).toArray();if(!a||a.length===0)return 0;let r=0,s=0;for(const o of a){if(!o.days||o.days.length===0)continue;const f=new Date(o.created_at);f.setHours(0,0,0,0);let m=!1,p=new Date(f);const y=new Date;for(y.setHours(0,0,0,0);p<=y;){const S=Cn[p.getDay()];if(o.days.includes(S)){m=!0;break}p.setDate(p.getDate()+1)}if(!m)continue;const v=await Pp(o.id);r+=v,s++}return s===0?0:Math.round(r/s)}catch(a){return console.error("Error Calculating user Done-Percentage",a),0}}async function Fd(i){try{const a=await st.habits.where({id:i}).first();if(!a||!a.days||a.days.length===0)return 0;const s=(await st.habit_logs.where({habit_id:i}).toArray()).filter(p=>p.is_done===!0);s.sort((p,y)=>y.date.localeCompare(p.date));let o=0,f=new Date,m=!1;for(;;){const p=Cn[f.getDay()];if(a.days.includes(p)){const y=f.toISOString().split("T")[0]+"T00:00:00+00:00";if(s.find(S=>S.date===y))o++;else{if(m)break;m=!0,f.setDate(f.getDate()-1);continue}}f.setDate(f.getDate()-1),m=!0}return o}catch(a){return console.error("Error Fetching Streak by Habit",a),0}}async function Yp(i){try{const a=await st.habits.where({user_id:i}).toArray();if(!a||a.length===0)return 0;let r=1/0;for(const s of a){if(!s.days||s.days.length===0){r=0;break}const o=await Fd(s.id);if(o<r&&(r=o),r===0)break}return r===1/0?0:r}catch(a){return console.error("Error Fetching User Streak",a),0}}async function Kp(i,a,r,s,o){try{const f={id:crypto.randomUUID(),user_id:r,title:i,description:a,created_at:new Date().toISOString(),is_public:s,synced:!1,deleted:!1,days:o,longest_streak:0};await st.habits.add(f)}catch(f){console.error("Error Adding a new Habit to Dexie",f)}}async function k_(i,a,r,s){try{const o=r.toISOString().split("T")[0]+"T00:00:00+00:00";await st.habit_logs.add({id:hx(),user_id:i,habit_id:a,date:o,synced:!1,is_done:s})}catch(o){console.error("Error Adding New HabitLog to Dexie",o)}}async function T_(i,a){if(navigator.onLine)try{await st.habits.delete(i);const{error:r}=await Xe.from("Habits").delete().eq("id",i).eq("user_id",a);if(r)throw r;await Gp(i,a)}catch(r){console.error("Error Deleting Habit:",r)}else try{if(await st.habits.update(i,{synced:!1,deleted:!0})===0)throw new Error("Habit not found")}catch(r){console.error("Error Marking Habit as Deleted in Dexie",r)}}async function Gp(i,a){try{const r=await st.habit_logs.where({habit_id:i}).toArray();if(!r)return;for(const s of r){await st.habit_logs.delete(s.id);const{error:o}=await Xe.from("Habit_logs").delete().eq("id",s.id).eq("user_id",a);if(o)throw o}}catch(r){console.error("Error Deleting HabitLog by HabitId",r);return}}async function C_(i,a){try{await st.habit_logs.update(i,{synced:!1,is_done:a});const r=await st.habit_logs.where({id:i}).first();if(!r)return;a?await A_(r.habit_id):await D_(r.habit_id)}catch(r){console.error("Error Updating HabitLog IsDone",r)}}async function Vp(i){try{const a=await st.habits.where({id:i}).first();if(!a||!a.days||a.days.length===0)return 0;const s=(await st.habit_logs.where({habit_id:i}).toArray()).filter(m=>m.is_done).map(m=>m.date).sort();if(s.length===0)return 0;let o=0,f=1;for(let m=1;m<s.length;m++){const p=new Date(s[m-1]),y=new Date(s[m]);let v=!1,S=new Date(p);for(S.setDate(S.getDate()+1);S<=y;){const O=Cn[S.getDay()];if(a.days.includes(O)){v=S.toISOString().split("T")[0]===y.toISOString().split("T")[0];break}S.setDate(S.getDate()+1)}v?f++:(o=Math.max(o,f),f=1)}return o=Math.max(o,f),o}catch(a){return console.error("Error Fetching longest Streak by Habit",a),0}}async function A_(i){const a=await st.habits.where({id:i}).first();if(!a)return;const r=await Fd(i);if(r>a.longest_streak)try{await st.habits.update(i,{longest_streak:r})}catch{console.error("Error updating longest streak.")}}async function D_(i){const a=await Vp(i);try{await st.habits.update(i,{longest_streak:a})}catch{console.error("Error updating longest streak.")}}async function N_(i,a){const r=Bp(new Date(a,0,1)),s=_x(new Date(a,0,1)),o=await st.habit_logs.where("habit_id").equals(i).and(p=>{const y=new Date(p.date);return y>=r&&y<=s}).toArray(),f=xx({start:r,end:s}),m={};return f.forEach(p=>{const y=w_(p,"yyyy-MM-dd");m[y]=!1}),o.forEach(p=>{p.is_done&&(m[p.date]=!0)}),m}async function R_(i,a){const r=`${a}-01-01`,s=`${a}-12-31`;return(await st.habit_logs.where("habit_id").equals(i).and(f=>f.is_done&&f.date>=r&&f.date<=s).toArray()).length}async function Ip(){try{await st.habits.clear()}catch(i){console.error("Error Clearing Habits in Dexie",i)}}async function Qp(){try{await st.habit_logs.clear()}catch(i){console.error("Error Clearing HabitLogs in Dexie",i)}}async function M_(i,a,r,s,o){try{await st.habits.update(i,{title:a,description:r,days:s,is_public:o})}catch(f){console.error("Error updating Habit",f)}}function U_({onLogin:i}){const[a,r]=R.useState(!0),[s,o]=R.useState(""),[f,m]=R.useState(""),[p,y]=R.useState(""),[v,S]=R.useState("");R.useEffect(()=>{(async()=>{await Ip(),await Qp()})()},[]);const O=async()=>{if(y(""),a){const{error:T}=await Xe.auth.signInWithPassword({email:s,password:f});if(T){y(T.message);return}}else{const{data:{user:T},error:U}=await Xe.auth.signUp({email:s,password:f});if(U){y(U.message);return}T&&await Xe.from("Profiles").upsert({id:T.id,username:v})}p?y(p):i()};return b.jsx("div",{className:"overflow-y-auto hide-scrollbar fixed inset-0 min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:b.jsx("div",{className:"w-full h-full flex flex-col",children:b.jsxs("div",{className:"container mx-auto px-4 py-12 flex-1 flex flex-col justify-center",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"geiler"}),b.jsx("p",{className:"text-xl text-black font-bold mb-4 max-w-2xl mx-auto",children:"Gewohnheits-Teiler"}),b.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Build better habits, track your progress, and connect with a community of like-minded individuals."}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mb-8",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("svg",{...Ri,className:"lucide lucide-circle-check-big h-5 w-5 text-green-500",children:[b.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),b.jsx("path",{d:"m9 11 3 3L22 4"})]}),b.jsx("span",{className:"text-gray-700",children:"Track habits"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("svg",{...Ri,className:"lucide lucide-bar-chart3 h-5 w-5 text-blue-500",children:[b.jsx("path",{d:"M3 3v18h18"}),b.jsx("path",{d:"M18 17V9"}),b.jsx("path",{d:"M13 17V5"}),b.jsx("path",{d:"M8 17v-3"})]}),b.jsx("span",{className:"text-gray-700",children:"Analyze progress"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("svg",{...Ri,className:"lucide lucide-users h-5 w-5 text-purple-500",children:[b.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),b.jsx("circle",{cx:"9",cy:"7",r:"4"}),b.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),b.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),b.jsx("span",{className:"text-gray-700",children:"Join the community"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("svg",{...Ri,className:"lucide lucide-target h-5 w-5 text-orange-500",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("circle",{cx:"12",cy:"12",r:"6"}),b.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),b.jsx("span",{className:"text-gray-700",children:"Achieve goals"})]})]})]}),b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center flex-1",children:[b.jsxs("div",{className:"space-y-8",children:[b.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:b.jsxs("svg",{...Ri,className:"lucide lucide-target h-6 w-6 text-blue-600",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("circle",{cx:"12",cy:"12",r:"6"}),b.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personalized Habits"}),b.jsx("p",{className:"text-gray-600",children:"Create custom habits, set reminders, and track your daily progress with detailed statistics."})]})]})}),b.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:b.jsxs("svg",{...Ri,className:"lucide lucide-users h-6 w-6 text-purple-600",children:[b.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),b.jsx("circle",{cx:"9",cy:"7",r:"4"}),b.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),b.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Community Hub"}),b.jsx("p",{className:"text-gray-600",children:"Share your habits with others, discover new ideas, and motivate each other to succeed."})]})]})}),b.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:b.jsxs("svg",{...Ri,className:"lucide lucide-bar-chart3 h-6 w-6 text-green-600",children:[b.jsx("path",{d:"M3 3v18h18"}),b.jsx("path",{d:"M18 17V9"}),b.jsx("path",{d:"M13 17V5"}),b.jsx("path",{d:"M8 17v-3"})]})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Detailed Analytics"}),b.jsx("p",{className:"text-gray-600",children:"Understand your patterns with comprehensive reports, streak tracking, and personalized insights."})]})]})})]}),b.jsxs("div",{className:"w-full max-w-md mx-auto bg-white p-6 rounded-2xl shadow-xl mt-10",children:[b.jsx("h1",{className:"text-2xl font-bold text-center mb-1",children:"Get Started"}),b.jsx("p",{className:"text-sm text-center text-gray-500 mb-6",children:"Sign in or create an account"}),b.jsxs("div",{className:"flex justify-center mb-6",children:[b.jsx("button",{"aria-label":"Switch to login",className:`px-4 py-2 rounded-l-md border ${a?"bg-gray-100 font-semibold":"bg-white"}`,onClick:()=>r(!0),children:"Sign In"}),b.jsx("button",{"aria-label":"Switch to registration",className:`px-4 py-2 rounded-r-md border ${a?"bg-white":"bg-gray-100 font-semibold"}`,onClick:()=>r(!1),children:"Register"})]}),b.jsxs("div",{className:"space-y-4",children:[!a&&b.jsx("input",{type:"username",placeholder:"Username",value:v,onChange:T=>S(T.target.value),className:"w-full px-4 py-2 border rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"}),b.jsx("input",{type:"email",placeholder:"your@email.com",value:s,onChange:T=>o(T.target.value),className:"w-full px-4 py-2 border rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"}),b.jsx("input",{type:"password",placeholder:"Password",value:f,onChange:T=>m(T.target.value),className:"w-full px-4 py-2 border rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"}),b.jsxs("button",{"aria-label":"Submit authentication",onClick:O,className:"w-full bg-black text-white py-2 rounded-md hover:bg-gray-800 transition-colors flex justify-center items-center gap-2",children:[a?"Sign In":"Register"," "]})]}),p&&b.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:p})]})]})]})})})}const Ri={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};async function mc(i){if(!i)return console.error("No userId provided"),null;const{data:a,error:r}=await Xe.from("Profiles").select("username").eq("id",i).single();return r?(console.error("Error loading username:",r.message),""):(a==null?void 0:a.username)||""}async function L_(i,a){const r=a.name.split(".").pop(),s=`${i}/`,{data:o,error:f}=await Xe.storage.from("avatars").list(s);if(f)throw f;if(o&&o.length>0)for(const S of o)await Xe.storage.from("avatars").remove([`${s}${S.name}`]);const m=`${i}/avatar.${r}`,{error:p}=await Xe.storage.from("avatars").upload(m,a,{upsert:!0});if(p)throw p;const{data:{publicUrl:y}}=Xe.storage.from("avatars").getPublicUrl(m),{error:v}=await Xe.from("Profiles").update({avatar_url:y}).eq("id",i);if(v)throw v;return y}async function gc(i){if(!i)return console.error("No userId provided"),null;const{data:a,error:r}=await Xe.from("Profiles").select("avatar_url").eq("id",i).single();return r?(console.error("Error loading profile image:",r.message),null):(a==null?void 0:a.avatar_url)||null}async function $i(){var i,a;if(navigator.onLine){const{data:r,error:s}=await Xe.auth.getSession();return s||!((a=(i=r.session)==null?void 0:i.user)!=null&&a.id)?"":r.session.user.id}else return localStorage.getItem("user_id")||""}async function z_(){var i,a;if(navigator.onLine){const{data:r,error:s}=await Xe.auth.getSession();return s||!((a=(i=r.session)==null?void 0:i.user)!=null&&a.email)?"":r.session.user.email}else return localStorage.getItem("user_email")||""}async function B_(){if(navigator.onLine){const i=await $i(),a=await mc(i);if(a)return a;console.error("Error fetching Username")}else return localStorage.getItem("user_name")}function q_(){const[i,a]=R.useState(0),[r,s]=R.useState(0),[o,f]=R.useState(0),[m,p]=R.useState(null),[y,v]=R.useState(""),[S,O]=R.useState(""),[T,U]=R.useState(!0),[C,V]=R.useState(""),W=async()=>{await Ip(),await Qp(),await Xe.auth.signOut(),localStorage.clear()},Z=async Le=>{var Ce;const Ue=(Ce=Le.target.files)==null?void 0:Ce[0];if(Ue)try{const tt=await L_(C,Ue);p(tt)}catch(tt){console.error("Error Uploading a Profile Image",tt.message)}};R.useEffect(()=>{(async()=>{const Ue=await $i();Ue&&(V(Ue),pe(Ue))})()},[]);const se=async()=>{const Le=await z_();O(Le)},ce=async()=>{const Le=await B_();v(Le)},pe=async Le=>{try{await Promise.all([se(),ce(),ue(Le),_e(Le),Ne(Le),We(Le)])}catch(Ue){console.error("Error Fetching User Details:",Ue)}finally{U(!1)}},ue=async Le=>{const Ue=await Yp(Le);a(Ue)},_e=async Le=>{const Ue=await $p(Le);s(Ue)},Ne=async Le=>{const Ue=await Wd(Le);f(Ue.length)},We=async Le=>{if(!Le)return;const Ue=await gc(Le);Ue&&p(Ue)};return T?b.jsx("main",{className:"flex-1 w-full p-4 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-black border-t-transparent rounded-full mx-auto mb-4",role:"status","aria-label":"Loading..."}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Profile is loading..."})]})}):b.jsxs("main",{className:"flex-1 w-full p-4",children:[b.jsx("div",{className:"flex flex-col space-y-1.5 pt-6 pb-6",children:b.jsx("h1",{className:"text-3xl font-bold tracking-tight ",children:"Profile"})}),b.jsx("div",{className:"p-6 pt-0",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx("div",{className:"relative",children:b.jsxs("div",{className:"relative",children:[m?b.jsx("img",{src:m,alt:"Profile Image",className:"w-24 h-24 rounded-full object-cover border shadow"}):b.jsx("div",{className:"w-24 h-24 rounded-full bg-muted text-muted-foreground flex items-center justify-center text-4xl font-bold border shadow",children:y==null?void 0:y.charAt(0).toUpperCase()}),b.jsx("label",{htmlFor:"profile-image-upload",className:"absolute bottom-0 right-0 bg-white rounded-full p-1 shadow cursor-pointer",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 13l6-6m2 2L9 17H5v-4l6-6z"})})}),b.jsx("input",{id:"profile-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:Z})]})}),b.jsx("h2",{className:"text-xl font-bold text-center",children:y}),b.jsx("p",{className:"text-muted-foreground text-center break-all",children:S}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full max-w-md",children:[b.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-4 text-center",children:[b.jsx("p",{className:"text-2xl font-bold",children:o}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Habits"})]}),b.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-4 text-center",children:[b.jsxs("p",{className:"text-2xl font-bold",children:[r,"%"]}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Completion Rate"})]}),b.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-4 text-center",children:[b.jsx("p",{className:"text-2xl font-bold",children:i}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Day Streak"})]})]}),b.jsx("button",{"aria-label":"Logout",onClick:W,className:"inline-flex items-center justify-center bg-black text-white font-bold hover:bg-white border-2 border-black hover:text-black whitespace-nowrap rounded-md text-sm  transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 w-full max-w-md mt-2",children:"Logout"})]})})]})}function $y({data:i,onClick:a}){const[r,s]=R.useState(""),[o,f]=R.useState([]),m=y=>{const v=y.target.value;if(s(v),v.length>0){const S=i.filter(O=>O.title.toLowerCase().startsWith(v.toLowerCase()));f(S)}else f([])},p=y=>{s(""),f([]),a(y.id)};return b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",value:r,onChange:m,placeholder:" Search for a Community...",className:"w-full sm:w-[400px] md:w-[500px] lg:w-[600px] text-lg px-4 py-2 rounded-full bg-white/70 backdrop-blur-md shadow-inner border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-500"}),o.length>0&&b.jsx("ul",{className:"absolute w-full bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl mt-2 shadow-xl z-10",children:o.map(y=>b.jsx("li",{onClick:()=>p(y),className:"px-6 py-3 hover:bg-gray-100 transition-colors cursor-pointer text-gray-800",children:y.title},y.id))})]})}function H_({title:i,titleId:a,...r},s){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),i?R.createElement("title",{id:a},i):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const P_=R.forwardRef(H_);function $_({title:i,titleId:a,...r},s){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),i?R.createElement("title",{id:a},i):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Y_=R.forwardRef($_);async function Xp(i,a){try{const{error:r}=await Xe.from("Community_users").insert([{community_id:i,user_id:a}]);if(r)throw r}catch(r){console.error("Error Adding a new Community User",r);return}}async function K_(i,a){try{const{error:r}=await Xe.from("Community_users").delete().eq("community_id",i).eq("user_id",a);if(r)throw r}catch(r){console.error("Error Deleting User from Community",r);return}}async function G_(i,a){try{const{data:r,error:s}=await Xe.from("Community_users").select("id").eq("community_id",i).eq("user_id",a).single();if(s&&s.code!=="PGRST116")throw s;return!!r}catch(r){return console.error("Error Fetching Community Subscription",r),!1}}async function V_(){try{const{data:i,error:a}=await Xe.from("Communities").select("*");if(a)throw a;return i||[]}catch(i){return console.error("Error Fetching All Communities",i),[]}}async function I_(){try{const{data:i,error:a}=await Xe.from("Communities").select("title");if(a)throw a;return(i==null?void 0:i.map(r=>r.title))||[]}catch(i){return console.error("Error Fetching All Community Titles",i),[]}}async function Q_(i,a,r){try{const{data:s,error:o}=await Xe.from("Communities").insert([{owner_id:i,title:a,description:r}]).select().single();if(o)throw o;await Xp(s.id,i)}catch(s){console.error("Error Adding a New Community",s);return}}async function X_(i){try{const{data:a,error:r}=await Xe.from("Community_users").select("community_id").eq("user_id",i);if(r)throw r;const s=(a==null?void 0:a.map(m=>m.community_id))||[];if(s.length===0)return[];const{data:o,error:f}=await Xe.from("Communities").select("*").in("id",s);if(f)throw f;return o||[]}catch(a){console.error("Error Fetching CommunityIds by User",a);return}}async function W_(i,a,r,s,o){try{if(o){const{error:f}=await Xe.from("Community_messages").insert([{community_id:i,user_id:s,title:a,message:r,habit_id:o}]);if(f)throw f}else{const{error:f}=await Xe.from("Community_messages").insert([{community_id:i,user_id:s,title:a,message:r,habit_id:null}]);if(f)throw f}}catch(f){console.error("Error while adding a new message",f);return}}async function F_(i){try{const{data:a,error:r}=await Xe.from("Community_users").select("community_id").eq("user_id",i);if(r)throw r;const s=(a==null?void 0:a.map(m=>m.community_id))||[];if(s.length===0)return[];const{data:o,error:f}=await Xe.from("Community_messages").select("*").in("community_id",s);if(f)throw f;return o||[]}catch(a){return console.error("Error while fetching messages for the user's communities",a),[]}}async function Z_(i){try{const{data:a,error:r}=await Xe.from("Community_messages").select("*").eq("community_id",i);if(r)throw r;return a||[]}catch(a){return console.error("Error while fetching messages for the specified community ID",a),[]}}async function J_(i){try{const{data:a,error:r}=await Xe.from("Community_messages").select("*").eq("id",i).single();if(r)throw r;return a}catch(a){console.error("Error while fetching message by ID",a);return}}async function Wp(i){try{const{data:a,error:r}=await Xe.from("Community_comments").select("*").eq("message_id",i);if(r)throw r;return a||[]}catch(a){return console.error("Error fetching comments for a message",a),[]}}async function eS(i,a,r){try{const{error:s}=await Xe.from("Community_comments").insert([{message_id:i,user_id:a,message:r}]);if(s)throw s}catch(s){console.error("Error adding a new comment",s);return}}function tS({handleCommentSubmit:i}){const[a,r]=R.useState(""),[s,o]=R.useState(!1),f=()=>{a.trim()!==""&&(i(a),r(""),o(!1))},m=()=>{r(""),o(!1)};return b.jsxs("div",{className:"relative border border-gray-400 rounded-3xl p-4 bg-white",children:[b.jsx("textarea",{onFocus:()=>o(!0),value:a,onChange:p=>r(p.target.value),placeholder:"Aa",rows:3,className:"w-full border-none focus:outline-none text-gray-800 bg-transparent placeholder:text-gray-500"}),s&&b.jsxs("div",{className:"flex justify-end mt-3 space-x-2",children:[b.jsx("button",{"aria-label":"Cancel comment",onClick:m,className:"bg-gray-100 text-black px-4 py-2 rounded-full hover:bg-gray-200",children:"Cancel"}),b.jsx("button",{"aria-label":"Submit comment",onClick:f,className:"bg-gray-800 text-white px-4 py-2 rounded-full hover:bg-gray-900",children:"Comment"})]})]})}var ec={exports:{}},nS=ec.exports,Yy;function aS(){return Yy||(Yy=1,function(i,a){(function(r,s){i.exports=s()})(nS,function(){var r=1e3,s=6e4,o=36e5,f="millisecond",m="second",p="minute",y="hour",v="day",S="week",O="month",T="quarter",U="year",C="date",V="Invalid Date",W=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,se={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ge){var me=["th","st","nd","rd"],L=ge%100;return"["+ge+(me[(L-20)%10]||me[L]||me[0])+"]"}},ce=function(ge,me,L){var re=String(ge);return!re||re.length>=me?ge:""+Array(me+1-re.length).join(L)+ge},pe={s:ce,z:function(ge){var me=-ge.utcOffset(),L=Math.abs(me),re=Math.floor(L/60),ie=L%60;return(me<=0?"+":"-")+ce(re,2,"0")+":"+ce(ie,2,"0")},m:function ge(me,L){if(me.date()<L.date())return-ge(L,me);var re=12*(L.year()-me.year())+(L.month()-me.month()),ie=me.clone().add(re,O),je=L-ie<0,A=me.clone().add(re+(je?-1:1),O);return+(-(re+(L-ie)/(je?ie-A:A-ie))||0)},a:function(ge){return ge<0?Math.ceil(ge)||0:Math.floor(ge)},p:function(ge){return{M:O,y:U,w:S,d:v,D:C,h:y,m:p,s:m,ms:f,Q:T}[ge]||String(ge||"").toLowerCase().replace(/s$/,"")},u:function(ge){return ge===void 0}},ue="en",_e={};_e[ue]=se;var Ne="$isDayjsObject",We=function(ge){return ge instanceof tt||!(!ge||!ge[Ne])},Le=function ge(me,L,re){var ie;if(!me)return ue;if(typeof me=="string"){var je=me.toLowerCase();_e[je]&&(ie=je),L&&(_e[je]=L,ie=je);var A=me.split("-");if(!ie&&A.length>1)return ge(A[0])}else{var ae=me.name;_e[ae]=me,ie=ae}return!re&&ie&&(ue=ie),ie||!re&&ue},Ue=function(ge,me){if(We(ge))return ge.clone();var L=typeof me=="object"?me:{};return L.date=ge,L.args=arguments,new tt(L)},Ce=pe;Ce.l=Le,Ce.i=We,Ce.w=function(ge,me){return Ue(ge,{locale:me.$L,utc:me.$u,x:me.$x,$offset:me.$offset})};var tt=function(){function ge(L){this.$L=Le(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[Ne]=!0}var me=ge.prototype;return me.parse=function(L){this.$d=function(re){var ie=re.date,je=re.utc;if(ie===null)return new Date(NaN);if(Ce.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var A=ie.match(W);if(A){var ae=A[2]-1||0,ye=(A[7]||"0").substring(0,3);return je?new Date(Date.UTC(A[1],ae,A[3]||1,A[4]||0,A[5]||0,A[6]||0,ye)):new Date(A[1],ae,A[3]||1,A[4]||0,A[5]||0,A[6]||0,ye)}}return new Date(ie)}(L),this.init()},me.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},me.$utils=function(){return Ce},me.isValid=function(){return this.$d.toString()!==V},me.isSame=function(L,re){var ie=Ue(L);return this.startOf(re)<=ie&&ie<=this.endOf(re)},me.isAfter=function(L,re){return Ue(L)<this.startOf(re)},me.isBefore=function(L,re){return this.endOf(re)<Ue(L)},me.$g=function(L,re,ie){return Ce.u(L)?this[re]:this.set(ie,L)},me.unix=function(){return Math.floor(this.valueOf()/1e3)},me.valueOf=function(){return this.$d.getTime()},me.startOf=function(L,re){var ie=this,je=!!Ce.u(re)||re,A=Ce.p(L),ae=function(Te,At){var $t=Ce.w(ie.$u?Date.UTC(ie.$y,At,Te):new Date(ie.$y,At,Te),ie);return je?$t:$t.endOf(v)},ye=function(Te,At){return Ce.w(ie.toDate()[Te].apply(ie.toDate("s"),(je?[0,0,0,0]:[23,59,59,999]).slice(At)),ie)},he=this.$W,ke=this.$M,He=this.$D,ze="set"+(this.$u?"UTC":"");switch(A){case U:return je?ae(1,0):ae(31,11);case O:return je?ae(1,ke):ae(0,ke+1);case S:var wt=this.$locale().weekStart||0,ot=(he<wt?he+7:he)-wt;return ae(je?He-ot:He+(6-ot),ke);case v:case C:return ye(ze+"Hours",0);case y:return ye(ze+"Minutes",1);case p:return ye(ze+"Seconds",2);case m:return ye(ze+"Milliseconds",3);default:return this.clone()}},me.endOf=function(L){return this.startOf(L,!1)},me.$set=function(L,re){var ie,je=Ce.p(L),A="set"+(this.$u?"UTC":""),ae=(ie={},ie[v]=A+"Date",ie[C]=A+"Date",ie[O]=A+"Month",ie[U]=A+"FullYear",ie[y]=A+"Hours",ie[p]=A+"Minutes",ie[m]=A+"Seconds",ie[f]=A+"Milliseconds",ie)[je],ye=je===v?this.$D+(re-this.$W):re;if(je===O||je===U){var he=this.clone().set(C,1);he.$d[ae](ye),he.init(),this.$d=he.set(C,Math.min(this.$D,he.daysInMonth())).$d}else ae&&this.$d[ae](ye);return this.init(),this},me.set=function(L,re){return this.clone().$set(L,re)},me.get=function(L){return this[Ce.p(L)]()},me.add=function(L,re){var ie,je=this;L=Number(L);var A=Ce.p(re),ae=function(ke){var He=Ue(je);return Ce.w(He.date(He.date()+Math.round(ke*L)),je)};if(A===O)return this.set(O,this.$M+L);if(A===U)return this.set(U,this.$y+L);if(A===v)return ae(1);if(A===S)return ae(7);var ye=(ie={},ie[p]=s,ie[y]=o,ie[m]=r,ie)[A]||1,he=this.$d.getTime()+L*ye;return Ce.w(he,this)},me.subtract=function(L,re){return this.add(-1*L,re)},me.format=function(L){var re=this,ie=this.$locale();if(!this.isValid())return ie.invalidDate||V;var je=L||"YYYY-MM-DDTHH:mm:ssZ",A=Ce.z(this),ae=this.$H,ye=this.$m,he=this.$M,ke=ie.weekdays,He=ie.months,ze=ie.meridiem,wt=function(At,$t,Fe,fn){return At&&(At[$t]||At(re,je))||Fe[$t].slice(0,fn)},ot=function(At){return Ce.s(ae%12||12,At,"0")},Te=ze||function(At,$t,Fe){var fn=At<12?"AM":"PM";return Fe?fn.toLowerCase():fn};return je.replace(Z,function(At,$t){return $t||function(Fe){switch(Fe){case"YY":return String(re.$y).slice(-2);case"YYYY":return Ce.s(re.$y,4,"0");case"M":return he+1;case"MM":return Ce.s(he+1,2,"0");case"MMM":return wt(ie.monthsShort,he,He,3);case"MMMM":return wt(He,he);case"D":return re.$D;case"DD":return Ce.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return wt(ie.weekdaysMin,re.$W,ke,2);case"ddd":return wt(ie.weekdaysShort,re.$W,ke,3);case"dddd":return ke[re.$W];case"H":return String(ae);case"HH":return Ce.s(ae,2,"0");case"h":return ot(1);case"hh":return ot(2);case"a":return Te(ae,ye,!0);case"A":return Te(ae,ye,!1);case"m":return String(ye);case"mm":return Ce.s(ye,2,"0");case"s":return String(re.$s);case"ss":return Ce.s(re.$s,2,"0");case"SSS":return Ce.s(re.$ms,3,"0");case"Z":return A}return null}(At)||A.replace(":","")})},me.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},me.diff=function(L,re,ie){var je,A=this,ae=Ce.p(re),ye=Ue(L),he=(ye.utcOffset()-this.utcOffset())*s,ke=this-ye,He=function(){return Ce.m(A,ye)};switch(ae){case U:je=He()/12;break;case O:je=He();break;case T:je=He()/3;break;case S:je=(ke-he)/6048e5;break;case v:je=(ke-he)/864e5;break;case y:je=ke/o;break;case p:je=ke/s;break;case m:je=ke/r;break;default:je=ke}return ie?je:Ce.a(je)},me.daysInMonth=function(){return this.endOf(O).$D},me.$locale=function(){return _e[this.$L]},me.locale=function(L,re){if(!L)return this.$L;var ie=this.clone(),je=Le(L,re,!0);return je&&(ie.$L=je),ie},me.clone=function(){return Ce.w(this.$d,this)},me.toDate=function(){return new Date(this.valueOf())},me.toJSON=function(){return this.isValid()?this.toISOString():null},me.toISOString=function(){return this.$d.toISOString()},me.toString=function(){return this.$d.toUTCString()},ge}(),Ct=tt.prototype;return Ue.prototype=Ct,[["$ms",f],["$s",m],["$m",p],["$H",y],["$W",v],["$M",O],["$y",U],["$D",C]].forEach(function(ge){Ct[ge[1]]=function(me){return this.$g(me,ge[0],ge[1])}}),Ue.extend=function(ge,me){return ge.$i||(ge(me,tt,Ue),ge.$i=!0),Ue},Ue.locale=Le,Ue.isDayjs=We,Ue.unix=function(ge){return Ue(1e3*ge)},Ue.en=_e[ue],Ue.Ls=_e,Ue.p={},Ue})}(ec)),ec.exports}var rS=aS();const Ky=jo(rS);var tc={exports:{}},iS=tc.exports,Gy;function sS(){return Gy||(Gy=1,function(i,a){(function(r,s){i.exports=s()})(iS,function(){return function(r,s,o){r=r||{};var f=s.prototype,m={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function p(v,S,O,T){return f.fromToBase(v,S,O,T)}o.en.relativeTime=m,f.fromToBase=function(v,S,O,T,U){for(var C,V,W,Z=O.$locale().relativeTime||m,se=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],ce=se.length,pe=0;pe<ce;pe+=1){var ue=se[pe];ue.d&&(C=T?o(v).diff(O,ue.d,!0):O.diff(v,ue.d,!0));var _e=(r.rounding||Math.round)(Math.abs(C));if(W=C>0,_e<=ue.r||!ue.r){_e<=1&&pe>0&&(ue=se[pe-1]);var Ne=Z[ue.l];U&&(_e=U(""+_e)),V=typeof Ne=="string"?Ne.replace("%d",_e):Ne(_e,S,ue.l,W);break}}if(S)return V;var We=W?Z.future:Z.past;return typeof We=="function"?We(V):We.replace("%s",V)},f.to=function(v,S){return p(v,S,this,!0)},f.from=function(v,S){return p(v,S,this)};var y=function(v){return v.$u?o.utc():o()};f.toNow=function(v){return this.to(y(this),v)},f.fromNow=function(v){return this.from(y(this),v)}}})}(tc)),tc.exports}var lS=sS();const oS=jo(lS);function uS({comment:i}){const[a,r]=R.useState(""),[s,o]=R.useState(!0),[f,m]=R.useState(null);Ky.extend(oS);const p=async()=>{if(i){const v=await mc(i.user_id);r(v)}},y=async v=>{if(!v)return;const S=await gc(v);S&&m(S)};if(R.useEffect(()=>{o(!0),p(),y(i.user_id),o(!1)},[]),!s)return b.jsxs("div",{className:"bg-white rounded-xl relative",children:[b.jsxs("div",{className:"flex items-start mb-2 mt-0",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-400 flex items-center justify-center mr-3",children:f?b.jsx("img",{src:f,alt:"Profile Image",className:"w-8 h-8 rounded-full object-cover"}):b.jsx("span",{className:"text-white font-bold text-sm",children:a.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2)})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center mb-1",children:[b.jsx("div",{className:"text-gray-800 font-medium mr-2",children:a}),b.jsx("div",{className:"text-gray-400 text-xs",children:Ky(i.created_at).fromNow()})]}),b.jsx("p",{className:"text-gray-700",children:i.message})]})]}),b.jsx("div",{className:"border-t border-gray-200 mt-4"})]})}function cS({isActive:i,message_id:a,handleCommentModalClose:r,userId:s}){const[o,f]=R.useState(),[m,p]=R.useState(""),[y,v]=R.useState([]),[S,O]=R.useState(null),T=async()=>{if(a){const Z=await J_(a);f(Z)}},U=async Z=>{const se=await mc(Z);p(se)},C=async()=>{const Z=await Wp(a);v(Z)},V=async Z=>{if(!Z)return;const se=await gc(Z);se&&O(se)};R.useEffect(()=>{i&&T()},[i]),R.useEffect(()=>{if(o){U(o.user_id),C(),V(o.user_id);const Z=setInterval(()=>{C()},1e3);return()=>clearInterval(Z)}},[o]);const W=async Z=>{await eS(a,s,Z)};if(i)return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-40"}),b.jsx("div",{className:"fixed inset-0 bg-opacity-40 flex items-center justify-center z-40",children:b.jsxs("div",{className:"relative bg-white rounded-lg p-6 shadow-lg w-[90vw] max-w-[1280px] h-[85vh] overflow-y-auto  hide-scrollbar ",children:[b.jsx("button",{className:"absolute top-3 right-3 text-2xl text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close comment modal",onClick:r,children:""}),b.jsx("h1",{className:"text-3xl font-bold",children:"Message"}),o&&b.jsxs("div",{className:"mt-8 bg-white border shadow rounded-xl p-4 mb-4 relative",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center mr-3",children:S?b.jsx("img",{src:S,alt:"Profile Image",className:"w-10 h-10 rounded-full object-cover"}):b.jsx("span",{className:"text-white font-bold text-lg",children:m.split(" ").map(Z=>Z[0]).join("").toUpperCase().slice(0,2)})}),b.jsx("div",{className:"text-gray-800 font-semibold",children:m})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("p",{className:"text-xl font-bold mb-1",children:o.title}),b.jsx("p",{className:"text-gray-700",children:o.message})]})]}),b.jsx(tS,{handleCommentSubmit:W}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("h2",{className:"text-2xl font-bold mt-8 mb-4",children:["Comments ","("+y.length+")"]}),y.length===0?b.jsx("div",{className:"flex items-center justify-center h-40 text-gray-500 text-sm rounded-lg",children:b.jsx("p",{className:"text-gray-500",children:"No comments yet"})}):y.map((Z,se)=>b.jsx(uS,{comment:Z},se))]})]})})]})}async function fS(i){try{const{data:a,error:r}=await Xe.from("Habits").select("*").eq("id",i).single();if(r)throw r;return a}catch(a){return console.error("Error fetching habit by ID:",a),null}}function dS({messageId:i,userId:a,communityName:r,title:s,message:o,habit:f,handleCopyHabit:m,handleCommentOpen:p}){var Ue;const[y,v]=R.useState(""),[S,O]=R.useState(),[T,U]=R.useState(!1),[C,V]=R.useState(""),[W,Z]=R.useState(null),[se,ce]=R.useState(0),pe=async()=>{const Ce=await fS(f);Ce&&Ce.title?(v(Ce.title),O(Ce)):v("")},ue=async()=>{const Ce=await Wp(i);ce(Ce.length)},_e=async()=>{if(!a)return;const Ce=await gc(a);Ce&&Z(Ce)},Ne=async()=>{const Ce=await mc(a);V(Ce)};R.useEffect(()=>{f!=null&&f!==""&&pe(),Ne(),_e();const Ce=setInterval(()=>{ue()},1e3);return()=>clearInterval(Ce)},[]);const We=()=>{S&&(m(S.title,S.description,S.days??[]),U(!0),setTimeout(()=>U(!1),1500))},Le=()=>{p()};return b.jsxs("div",{className:"bg-white border shadow rounded-xl p-4 mb-4 relative",children:[T&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:b.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-full flex items-center gap-2 shadow-lg animate-fade-in-out",children:[b.jsxs("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#22c55e"}),b.jsx("path",{d:"M7 13l3 3 7-7",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),b.jsx("span",{children:"Successfully Copied"})]})}),b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${W?"":"bg-blue-500"}`,children:W?b.jsx("img",{src:W,alt:"Profile Image",className:"w-10 h-10 rounded-full object-cover"}):b.jsx("span",{className:"text-white font-bold text-lg",children:C.split(" ").map(Ce=>Ce[0]).join("").toUpperCase().slice(0,2)})}),b.jsx("div",{onClick:()=>alert(`Profile for ${C}`),role:"button",className:"text-gray-800 font-semibold",children:C})]}),b.jsxs("div",{className:"flex items-start justify-between mt-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-xl font-bold mb-1",children:s}),b.jsx("p",{className:"text-gray-700 break-words max-w-full",children:o}),b.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Community: ",r]})]}),b.jsxs("button",{"aria-label":"Open comments",onClick:Le,className:"bg-gray-100 hover:bg-gray-200 rounded-full px-4 py-2 shadow transition-colors ml-4 flex items-center gap-2 min-w-[56px]",children:[b.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10z",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}),b.jsx("span",{className:"text-gray-700 text-sm font-bold",children:se})]})]}),S?b.jsx("div",{className:"bg-white border shadow rounded-xl p-4 mt-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("p",{className:"text-lg font-bold text-black",children:y}),b.jsx("p",{className:"text-sm",children:(Ue=S==null?void 0:S.days)==null?void 0:Ue.join(" ")})]}),b.jsx("button",{"aris-label":"Copy habit",onClick:We,className:"px-3 py-1 rounded-xl font-semibold transition-colors border-black cursor-pointer bg-white text-black hover:bg-gray-200",children:"Copy Habit"})]})}):"",b.jsx("style",{children:`
                @keyframes fade-in-out {
                    0% { opacity: 0; transform: scale(0.95);}
                    10% { opacity: 1; transform: scale(1);}
                    90% { opacity: 1; transform: scale(1);}
                    100% { opacity: 0; transform: scale(0.95);}
                }
                .animate-fade-in-out {
                    animation: fade-in-out 1.5s;
                }
            `})]})}function hS({isActive:i,onClose:a,onAddButton:r}){const[s,o]=R.useState(""),[f,m]=R.useState(""),[p,y]=R.useState(!1),[v,S]=R.useState(!1),[O,T]=R.useState([]),U=async()=>{s!==""&&f!==""?O.includes(s.trim())?y(!0):(r(s,f),C()):S(!0)},C=()=>{m(""),o(""),a()};R.useEffect(()=>{i&&(o(""),m(""),y(!1),S(!1),V())},[i]);const V=async()=>{const W=await I_();W&&T(W)};return i?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-40"}),b.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"create-community-title","aria-describedby":"create-community-description",className:"fixed bg-white left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-[500px] pointer-events-auto",children:[b.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[b.jsx("h2",{id:"create-community-title",className:"text-lg font-semibold leading-none tracking-tight",children:"Add New Community"}),b.jsx("p",{id:"create-community-description",className:"text-sm text-muted-foreground",children:"Enter a title and description for your community."})]}),b.jsxs("div",{className:"grid gap-4 py-4",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{htmlFor:"community-title",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Community Title"}),b.jsx("input",{id:"community-title",type:"text",value:s,onChange:W=>{o(W.target.value),y(!1),S(!1)},className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",placeholder:"z.B. Gym Fans"}),p&&b.jsx("p",{className:"text-red-600 text-sm",children:"This name is already taken."})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{htmlFor:"community-description",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Description"}),b.jsx("textarea",{id:"community-description",value:f,onChange:W=>{m(W.target.value),S(!1)},placeholder:"What is this community about?",className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 resize-none"})]}),v&&b.jsx("p",{className:"text-red-600 text-sm",children:"Please fill in both fields."})]}),b.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[b.jsx("button",{"aria-label":"Cancel",type:"button",onClick:C,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-bold transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2",children:"Cancel"}),b.jsx("button",{"aria-label":"Add Community",onClick:U,className:"inline-flex bg-black items-center justify-center whitespace-nowrap rounded-md text-sm font-bold hover:bg-white hover:text-black transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 text-white shadow hover:bg-primary/90 h-9 px-4 py-2",children:"Add"})]})]})]}):null}function Vy({onClick:i}){return b.jsx("button",{onClick:i,className:"rounded-xl bg-black font-bold text-white h-12 flex items-center justify-center shadow-lg text-l hover:bg-white hover:text-black hover:border-black border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-black focus:ring-opacity-50","aria-label":"New Post",children:"New Post"})}function mS({isActive:i,currentCommunityId:a,onClose:r,communities:s,onAddButton:o,userId:f}){const[m,p]=R.useState([]),[y,v]=R.useState(""),[S,O]=R.useState(""),[T,U]=R.useState(""),[C,V]=R.useState(a),[W,Z]=R.useState("");R.useEffect(()=>{se(),V(a),Z("")},[i]);const se=async()=>{const ue=await Wd(f);p(ue)},ce=async()=>{if(!C){Z("Please select a community.");return}if(!y.trim()){Z("Please enter a message title.");return}Z(""),o(C,y,S,T),pe()},pe=()=>{v(""),O(""),U(""),V(""),Z(""),r()};return i?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-40"}),b.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed bg-white left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out sm:rounded-lg sm:max-w-[500px]",children:[b.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[b.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Send New Message"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Select a community and habit, enter a title and message."," "]})]}),b.jsxs("div",{className:"grid gap-4 py-2",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsxs("label",{htmlFor:"community-select",className:"text-sm font-medium leading-none",children:["Select Community ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsxs("select",{id:"community-select",value:C,onChange:ue=>V(ue.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none transition-colors appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' stroke='%23999' stroke-width='2' viewBox='0 0 24 24'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.25em 1.25em"},children:[b.jsx("option",{value:"",children:"Please choose a community"}),s.map(ue=>b.jsx("option",{value:ue.id,children:ue.title},ue.id))]})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsxs("label",{htmlFor:"title",className:"text-sm font-medium leading-none",children:["Message Title ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("input",{id:"title",type:"text",value:y,onChange:ue=>v(ue.target.value),placeholder:"Enter message title...",className:"flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring"})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{htmlFor:"content",className:"text-sm font-medium leading-none",children:"Message"}),b.jsx("textarea",{id:"content",value:S,onChange:ue=>O(ue.target.value),placeholder:"Write a message...",className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring resize-none"})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{htmlFor:"habit-select",className:"text-sm font-medium leading-none",children:"Select Habit"}),b.jsxs("select",{id:"habit-select",value:T,onChange:ue=>U(ue.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none transition-colors appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' stroke='%23999' stroke-width='2' viewBox='0 0 24 24'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.25em 1.25em"},children:[b.jsx("option",{value:"",children:"(Optional)"}),m.map(ue=>b.jsx("option",{value:ue.id,children:ue.title},ue.id))]}),b.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You can choose a habit, but you don't have to."})]}),W&&b.jsx("p",{className:"text-sm text-red-600 font-semibold mt-1",children:W})]}),b.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[b.jsx("button",{"aria-label":"Cancel",type:"button",onClick:pe,className:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-bold shadow-sm hover:bg-accent hover:text-accent-foreground transition-colors",children:"Cancel"}),b.jsx("button",{"aria-label":"Add Message",type:"button",onClick:ce,className:"inline-flex items-center justify-center bg-black font-bold text-white rounded-md px-4 py-2 text-sm  hover:text-black shadow hover:bg-white transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Add"})]})]})]}):null}const Iy=i=>{let a;const r=new Set,s=(v,S)=>{const O=typeof v=="function"?v(a):v;if(!Object.is(O,a)){const T=a;a=S??(typeof O!="object"||O===null)?O:Object.assign({},a,O),r.forEach(U=>U(a,T))}},o=()=>a,p={setState:s,getState:o,getInitialState:()=>y,subscribe:v=>(r.add(v),()=>r.delete(v))},y=a=i(s,o,p);return p},gS=i=>i?Iy(i):Iy,yS=i=>i;function pS(i,a=yS){const r=Wt.useSyncExternalStore(i.subscribe,()=>a(i.getState()),()=>a(i.getInitialState()));return Wt.useDebugValue(r),r}const Qy=i=>{const a=gS(i),r=s=>pS(a,s);return Object.assign(r,a),r},vS=i=>i?Qy(i):Qy,ai=vS(i=>({list:[],addName:(a,r)=>i(s=>({list:[...s.list,{id:a,name:r}]})),clearList:()=>i({list:[]}),currentCommunityName:"",addCommunityName:a=>i({currentCommunityName:a}),clearCommunityname:()=>i({currentCommunityName:""})}));function Xu({title:i,onClick:a}){return b.jsx("button",{onClick:a,className:"rounded-xl bg-black font-bold text-white px-6 py-2 flex items-center justify-center shadow-lg text-l hover:bg-white hover:text-black hover:border-black border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-black focus:ring-opacity-50","aria-label":`Join or leave community: ${i}`,children:i})}function Xy({onClick:i}){return b.jsx("button",{onClick:i,className:"rounded-xl bg-black font-bold text-white h-12 flex items-center justify-center shadow-lg text-l hover:bg-white hover:text-black hover:border-black border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-black focus:ring-opacity-50","aria-label":"New Community",children:"New Community"})}function bS(){const i=ai(De=>De.clearList),a=ai(De=>De.addName),r=ai(De=>De.list),s=ai(De=>De.addCommunityName),o=ai(De=>De.currentCommunityName),f=ai(De=>De.clearCommunityname),[m,p]=R.useState([]),[y,v]=R.useState([]),[S,O]=R.useState(""),[T,U]=R.useState([]),[C,V]=R.useState(!1),[W,Z]=R.useState(!1),[se,ce]=R.useState(""),[pe,ue]=R.useState(!1),[_e,Ne]=R.useState(!0),[We,Le]=R.useState(!1),[Ue,Ce]=R.useState(!1),[tt,Ct]=R.useState(!1),[ge,me]=R.useState(""),[L,re]=R.useState("");R.useEffect(()=>{ie()},[]),R.useEffect(()=>{if(!L)return;je();const De=setInterval(()=>{je()},1e3);return()=>clearInterval(De)},[L]),R.useEffect(()=>{y.forEach(De=>{r.some(lt=>lt.name===De.title)||a(De.id,De.title)})},[y]),R.useEffect(()=>{o&&He()},[o]);const ie=async()=>{const De=await $i();De&&re(De)},je=()=>{A(),ae(),ye()},A=async()=>{const De=await V_();p(De)},ae=async()=>{const De=await X_(L);De&&(i(),v(De))},ye=async()=>{o?he():ke()},he=async()=>{if(o){const De=await Z_(o);U(De)}},ke=async()=>{const De=await F_(L);U(De)},He=async()=>{o&&(Ne(!0),ye(),wt(o),await ot(o),ze(o),Ne(!1))},ze=De=>{const lt=m.find($n=>$n.id===De),Pn=lt?lt.title:"";me(Pn)},wt=De=>{const lt=m.find($n=>$n.id===De),Pn=(lt==null?void 0:lt.description)??"";ce(Pn)},ot=async De=>{if(De!==""){const lt=await G_(De,L);ue(lt)}},Te=De=>{const lt=m.find($n=>$n.id===De);return lt?lt.title:""},At=De=>{s(De)},$t=async(De,lt,Pn)=>{await Kp(De,lt,L,!0,Pn)},Fe=async(De,lt)=>{await Q_(L,De,lt)},fn=async(De,lt,Pn,$n)=>{await W_(De,lt,Pn,L,$n),ye()},dr=async De=>{await Xp(De,L),ye(),ue(!0),ae()},Hn=async De=>{await K_(De,L),ue(!1),ae(),f(),U([]),ce(""),me(""),O("")};return b.jsxs("div",{className:"flex h-screen w-full flex-col bg-white overflow-y-auto hide-scrollbar overflpb-16 md:pb-16",children:[Ue&&b.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[b.jsx("div",{className:"fixed inset-0 bg-black opacity-30",onClick:()=>Ce(!1)}),b.jsxs("div",{className:"relative bg-white w-64 h-full shadow-lg z-50 p-6",children:[b.jsx("button",{onClick:()=>Ce(!1),className:"absolute top-4 right-4 text-gray-700","aria-label":"Close menu",children:b.jsx(Y_,{className:"h-6 w-6"})}),b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Communities"}),b.jsxs("ul",{children:[(tt?r:r.slice(0,5)).map((De,lt)=>b.jsx("li",{className:"flex items-center space-x-1",children:b.jsxs("button",{className:"flex items-center block px-2 py-1 font-bold rounded-xl text-gray-700 hover:bg-blue-500 hover:text-white transition-colors no-underline flex-1 w-full",onClick:()=>{s(De.id),Ce(!1)},children:[b.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-200 text-blue-700 font-bold text-lg mr-2",children:De.name.charAt(0).toUpperCase()}),De.name]})},lt)),r.length>5&&!tt&&b.jsx("li",{children:b.jsx("button",{"aria-label":"Show more communities",className:"text-black px-2 py-1",onClick:()=>Ct(!0),children:"Show more..."})}),r.length>5&&tt&&b.jsx("li",{children:b.jsx("button",{"aria-label":"Show less communities",className:"text-black px-2 py-1",onClick:()=>Ct(!1),children:"Show less"})})]})]})]}),b.jsx("div",{className:"flex-1 flex",children:b.jsxs("div",{className:"flex-1 flex flex-col",children:[b.jsxs("div",{className:"sticky top-0 z-40 bg-white w-full py-2 px-4 pb-2",children:[b.jsxs("div",{className:"sm:hidden flex items-center pt-4 pb-4",children:[b.jsx("button",{onClick:()=>Ce(!0),className:"ml-2 p-0 text-gray-700 focus:outline-none hover:bg-transparent active:bg-transparent","aria-label":"Open menu",children:b.jsx(P_,{className:"h-7 w-7"})}),b.jsx("h1",{className:"text-3xl font-bold ml-4 tracking-tight ",children:"Community"})]}),b.jsx("div",{className:"max-w-7xl mx-auto w-full  pt-6 mb-6 hidden sm:block",children:b.jsx("h1",{className:"text-3xl font-bold",children:"Community"})}),b.jsxs("div",{className:"hidden sm:flex items-center justify-between w-full",children:[b.jsx(Vy,{onClick:()=>Z(!0)}),b.jsx("div",{className:"flex-1 flex justify-center",children:b.jsx($y,{data:m,onClick:At})}),b.jsx(Xy,{onClick:()=>V(!0)})]}),b.jsxs("div",{className:"flex flex-col sm:hidden w-full",children:[b.jsx("div",{className:"mb-2",children:b.jsx($y,{data:m,onClick:At})}),b.jsxs("div",{className:"flex justify-between w-full",children:[b.jsx(Vy,{onClick:()=>Z(!0)}),b.jsx(Xy,{onClick:()=>V(!0)})]})]})]}),b.jsxs("div",{className:"flex-1 p-4 overflow-auto hide-scrollbar",children:[b.jsx(cS,{isActive:We,message_id:S,handleCommentModalClose:()=>Le(!1),userId:L}),b.jsx(hS,{isActive:C,onClose:()=>V(!1),onAddButton:Fe}),b.jsx(mS,{isActive:W,currentCommunityId:o,communities:y,onClose:()=>Z(!1),onAddButton:fn,userId:L}),b.jsxs("div",{className:"mt-4",children:[o&&!_e&&b.jsxs("div",{className:"w-full p-6 bg-gray-200 rounded-lg mb-4 mt-4 flex flex-row sm:flex-row flex-col justify-between items-center sm:items-center",children:[b.jsxs("div",{className:"flex flex-col w-full",children:[b.jsx("h1",{className:"font-bold",children:ge}),b.jsx("p",{className:"mt-2 break-words line-clamp-3",children:se}),b.jsx("div",{className:"mt-4 sm:hidden",children:pe?b.jsx(Xu,{title:"Leave Community",onClick:()=>Hn(o)}):b.jsx(Xu,{title:"Join Community",onClick:()=>dr(o)})})]}),b.jsx("div",{className:"ml-4 hidden sm:block",children:pe?b.jsx(Xu,{title:"Leave Community",onClick:()=>Hn(o)}):b.jsx(Xu,{title:"Join Community",onClick:()=>dr(o)})})]}),T.slice().sort((De,lt)=>new Date(De.created_at).getTime()-new Date(lt.created_at).getTime()).map(De=>b.jsx(dS,{messageId:De.id,userId:De.user_id,communityName:Te(De.community_id),title:De.title,message:De.message||"No description available",habit:De.habit_id,handleCopyHabit:$t,handleCommentOpen:()=>{Le(!0),O(De.id)}},De.id)),T.length===0&&b.jsx("div",{className:"text-center text-gray-500 mt-4",children:"No Messages found"})]})]})]})}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full sm:hidden"})]})}function Fp(){const[i,a]=R.useState(window.innerWidth<479);return R.useEffect(()=>{const r=()=>a(window.innerWidth<479);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),i}function wS(){const i=ai(p=>p.list),a=ai(p=>p.addCommunityName),r=fr(),[s,o]=R.useState(!1);function f(p){a(p)}R.useEffect(()=>{o(!1)},[i]);function m(p){return console.log(r.pathname),"block px-4 py-2 rounded-xl text-gray-700 transition-colors "+(r.pathname===p?"bg-black text-white":"hover:bg-black hover:text-white")}return b.jsx("div",{className:"fixed top-0 left-0 h-screen w-64 bg-white p-6 shadow-lg",children:b.jsxs("ul",{className:"flex flex-col space-y-4",children:[b.jsx("li",{children:b.jsx(qi,{to:"/",className:m("/")+" hover:text-white no-underline font-bold",children:"Home"})}),b.jsx("li",{children:b.jsx(qi,{to:"/management",className:m("/management")+" hover:text-white no-underline font-bold",children:"Habit Management"})}),b.jsx("li",{children:b.jsx(qi,{to:"/community",className:m("/community")+" hover:text-white no-underline font-bold",children:"Community"})}),b.jsx("li",{children:b.jsx(qi,{to:"/profile",className:m("/profile")+" hover:text-white no-underline font-bold",children:"Profile"})}),i.length>0&&b.jsx("li",{children:b.jsx("hr",{className:"my-2 border-gray-300"})}),(s?i:i.slice(0,5)).map((p,y)=>b.jsx("li",{className:"flex items-center space-x-1",children:b.jsxs("a",{href:"#",onClick:v=>{v.preventDefault(),f(p.id)},className:"flex items-center block px-2 py-1 rounded-xl text-gray-700 hover:bg-blue-500 hover:text-white transition-colors no-underline flex-1",children:[b.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-200 text-blue-700 font-bold text-lg mr-2",children:p.name.charAt(0).toUpperCase()}),p.name]})},y)),i.length>5&&!s&&b.jsx("li",{children:b.jsx("button",{"aria-label":"Show more habits",className:"text-black px-2 py-1",onClick:()=>o(!0),children:"Show more..."})}),i.length>5&&s&&b.jsx("li",{children:b.jsx("button",{"aria-label":"Show less habits",className:"text-black px-2 py-1",onClick:()=>o(!1),children:"Show less"})})]})})}var Zp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wy=Wt.createContext&&Wt.createContext(Zp),xS=["attr","size","title"];function _S(i,a){if(i==null)return{};var r=SS(i,a),s,o;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(i);for(o=0;o<f.length;o++)s=f[o],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(r[s]=i[s])}return r}function SS(i,a){if(i==null)return{};var r={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(a.indexOf(s)>=0)continue;r[s]=i[s]}return r}function oc(){return oc=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},oc.apply(this,arguments)}function Fy(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),r.push.apply(r,s)}return r}function uc(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Fy(Object(r),!0).forEach(function(s){ES(i,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Fy(Object(r)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(r,s))})}return i}function ES(i,a,r){return a=jS(a),a in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function jS(i){var a=OS(i,"string");return typeof a=="symbol"?a:a+""}function OS(i,a){if(typeof i!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var s=r.call(i,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function Jp(i){return i&&i.map((a,r)=>Wt.createElement(a.tag,uc({key:r},a.attr),Jp(a.child)))}function yc(i){return a=>Wt.createElement(kS,oc({attr:uc({},i.attr)},a),Jp(i.child))}function kS(i){var a=r=>{var{attr:s,size:o,title:f}=i,m=_S(i,xS),p=o||r.size||"1em",y;return r.className&&(y=r.className),i.className&&(y=(y?y+" ":"")+i.className),Wt.createElement("svg",oc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,m,{className:y,style:uc(uc({color:i.color||r.color},r.style),i.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),f&&Wt.createElement("title",null,f),i.children)};return Wy!==void 0?Wt.createElement(Wy.Consumer,null,r=>a(r)):a(Zp)}function TS(i){return yc({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(i)}function CS(i){return yc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(i)}function AS(i){return yc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function DS(i){return yc({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(i)}const NS=[{href:"/",icon:b.jsx(TS,{size:22}),label:"Home"},{href:"/management",icon:b.jsx(CS,{size:22}),label:"Habits"},{href:"/community",icon:b.jsx(DS,{size:22}),label:"Community"},{href:"/profile",icon:b.jsx(AS,{size:22}),label:"Profile"}];function RS(){const i=fr();return b.jsx("nav",{className:"fixed bottom-0 left-0 w-full z-50 bg-white shadow-[0_-2px_12px_rgba(0,0,0,0.08)]",children:b.jsx("ul",{className:"flex justify-around items-center py-2",children:NS.map(a=>{const r=i.pathname===a.href;return b.jsx("li",{children:b.jsxs(qi,{to:a.href,className:`flex flex-col items-center px-3 py-1 no-underline transition-colors ${r?"text-black":"text-gray-500 hover:text-blue-600"}`,children:[a.icon,b.jsx("span",{className:"text-xs mt-1",children:a.label})]})},a.href)})})})}function MS({children:i}){const a=Fp();return b.jsxs("div",{className:"flex bg-white h-screen",children:[!a&&b.jsx(wS,{}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a&&b.jsx(RS,{}),b.jsx("main",{className:`flex-1 ${a?" ":" p-4 "}`,children:i})]})]})}function Zy({title:i,checked:a,toggleCheckIn:r}){return b.jsxs("div",{className:"flex justify-between items-start bg-white p-4 m-4 rounded-xl border shadow-sm hover:shadow-lg hover:scale-[1.01] transition-transform cursor-pointer",children:[b.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[b.jsx("div",{className:`w-3 h-3 rounded-full mt-[6px] flex-shrink-0 ${a?"bg-green-500":"bg-gray-400"}`}),b.jsx("span",{className:"text-gray-900 font-bold text-base sm:text-lg capitalize leading-snug break-words max-w-[180px] sm:max-w-[240px] min-w-0",children:i})]}),b.jsx("div",{className:"ml-4 flex-shrink-0",children:b.jsx("button",{"aria-label":"Complete habit",onClick:s=>{s.stopPropagation(),r()},className:`px-3 py-1 text-sm sm:text-base rounded-xl font-semibold transition-colors border border-black ${a?"bg-white text-black hover:bg-gray-200":"bg-black text-white"}`,children:a?"Completed":"Complete"})})]})}async function US(){const{data:i,error:a}=await Xe.auth.getUser();if(a||!i.user)return;const r=i.user.id,s=i.user.email,{data:o,error:f}=await Xe.from("Profiles").select("username").eq("id",i.user.id).maybeSingle();if(f)return console.error("Error loading profile:",f.message),null;if(!o)return null;localStorage.setItem("user_id",r),localStorage.setItem("user_name",o.username),localStorage.setItem("user_email",s??"")}async function Eo(){const i=await $i();i&&(await LS(i),await zS(i))}async function LS(i){try{const r=(await st.habits.where("user_id").equals(i).toArray()).filter(s=>s.synced===!1);for(const s of r){const{synced:o,deleted:f,...m}=s;if(f){const{error:p}=await Xe.from("Habits").delete().eq("id",s.id);p||(await st.habits.delete(s.id),await Gp(s.id,i))}else{const{error:p}=await Xe.from("Habits").insert([m]);p?console.error("Error syncing habit:",p):await st.habits.update(s.id,{synced:!0})}}}catch(a){console.error("Error syncing with Supabase:",a)}}async function zS(i){try{const a=await st.habit_logs.filter(r=>r.user_id===i&&r.synced===!1).toArray();for(const r of a){const{synced:s,...o}=r,{error:f}=await Xe.from("Habit_logs").upsert([o],{onConflict:"id"});f?console.error("Error syncing habit log:",f,o):await st.habit_logs.update(r.id,{synced:!0})}}catch(a){console.error("Error syncing with Supabase:",a)}}async function BS(i){const{data:a,error:r}=await Xe.from("Habits").select("*").eq("user_id",i);if(r){console.error("Error loading habits from Supabase:",r);return}if(a)for(const s of a)await st.habits.put({...s,synced:!0,deleted:!1})}async function qS(i){const{data:a,error:r}=await Xe.from("Habit_logs").select("*").eq("user_id",i);if(r){console.error("Error loading logs from Supabase:",r);return}if(a)for(const s of a)await st.habit_logs.put({...s,synced:!0})}function xd({title:i,value:a,progressbar:r,icon:s,description:o,percentage:f}){return b.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow md:col-span-1 w-full",children:[b.jsx("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:b.jsx("h3",{className:"tracking-tight text-sm font-medium",children:i})}),b.jsxs("div",{className:"p-6 pt-0",children:[b.jsxs("div",{className:"flex items-center",children:[s&&b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trending-up h-5 w-5 mr-2 text-primary",children:[b.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),b.jsx("polyline",{points:"16 7 22 7 22 13"})]}),b.jsx("div",{className:"text-3xl font-bold pb-2",children:a})]}),r&&b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:b.jsx("div",{className:"bg-black h-full transition-all duration-500 ease-in-out",style:{width:`${f}%`}})}),b.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:o})]})]})}const HS=["Today","All Habits"];function PS(){const[i,a]=R.useState("Today"),[r,s]=R.useState([]),[o,f]=R.useState([]),[m,p]=R.useState({}),[y,v]=R.useState(new Date),[S,O]=R.useState(0),[T,U]=R.useState(0),[C,V]=R.useState(0),[W,Z]=R.useState(0),[se,ce]=R.useState("");R.useEffect(()=>{ue(),Eo(),pe()},[se]),R.useEffect(()=>{ue()},[i]),R.useEffect(()=>{Ue(),Ce(),tt(),Eo()},[r,m]),R.useEffect(()=>{ue()},[y]);const pe=async()=>{const ge=await $i();ce(ge)},ue=()=>{We(),Ne(),Le(),Ce()},_e=ge=>{v(ge)},Ne=async()=>{const ge=await E_(se,y);f(ge)},We=async()=>{const ge=await S_(se,y);s(ge),O(ge.length)},Le=async()=>{const ge=await O_(se,y),me={};ge.forEach(L=>{me[L.habit_id]=L.is_done}),p(me)},Ue=()=>{let ge=0;r.forEach(me=>{m[me.id]===!0&&ge++}),U(ge)},Ce=async()=>{const ge=await Yp(se);V(ge)},tt=async()=>{const ge=await $p(se);Z(ge)},Ct=async(ge,me)=>{const L=await j_(ge,y,se);L?await C_(L.id,me):await k_(se,ge,y,me),p(re=>({...re,[ge]:me})),Le()};return b.jsxs("div",{className:"p-6 pb-20 md:pb-0 md:p-8 max-w-6xl overflow-auto hide-scrollbar h-screen mx-auto bg-white flex flex-col gap-6 bg-background p-6 w-full",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),b.jsx("p",{className:"text-muted-foreground",children:"Track your habits and view your progress"})]}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("input",{type:"date",className:"inline-flex bg-white items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs",value:y.toISOString().split("T")[0],onChange:ge=>{const me=new Date(ge.target.value);_e(me)}})})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[b.jsx("div",{className:"flex-1",children:b.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow",children:[b.jsxs("div",{className:"flex flex-col space-y-1.5 p-6",children:[b.jsx("h3",{className:"font-semibold leading-none tracking-tight",children:"Habit Tracker"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Track your daily habits and view your progress"})]}),b.jsx("div",{className:"p-6 pt-0",children:b.jsx("div",{className:"inline-flex rounded-full bg-[#f4f6f9] p-1",children:HS.map(ge=>b.jsx("button",{type:"button","aria-label":`Switch to ${ge} tab`,onClick:()=>a(ge),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-colors ${i===ge?"bg-white text-black hover:border-white shadow-sm ":"text-gray-500 bg-[#f4f6f9] hover:text-black hover:bg-white hover:border-white"}`,children:ge},ge))})}),r.map(ge=>b.jsx(Zy,{title:ge.title,checked:m[ge.id],toggleCheckIn:()=>Ct(ge.id,!m[ge.id])},ge.id)),i==="All Habits"?o.map(ge=>b.jsx(Zy,{title:ge.title,checked:m[ge.id],toggleCheckIn:()=>Ct(ge.id,!m[ge.id])},ge.id)):""]})}),b.jsxs("div",{className:"flex flex-col gap-6 w-full md:max-w-xs",children:[b.jsx(xd,{title:"Daily Completition",value:T+"/"+S,progressbar:!0,icon:!1,description:isNaN(Math.round(100*(T/S)))?"0% of Habits done":Math.round(100*(T/S))+"% of Habits done",percentage:S!==0?100*(T/S):0}),b.jsx(xd,{title:"Current Streak",value:C.toString(),progressbar:!1,icon:!0,description:"Keep going to Push your Streak",percentage:C}),b.jsx(xd,{title:"Overall Completition",value:W+"%",progressbar:!0,icon:!1,description:"Average Completition of all Habits",percentage:W})]})]})]})}function $S(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function YS(i,a){for(var r=0;r<a.length;r++){var s=a[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function KS(i,a,r){return a&&YS(i.prototype,a),i}function GS(i,a,r){return a in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function Ld(){return Ld=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},Ld.apply(this,arguments)}function VS(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Bd(i,a)}function zd(i){return zd=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(i)}function Bd(i,a){return Bd=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},Bd(i,a)}function ev(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function IS(i,a){return a&&(typeof a=="object"||typeof a=="function")?a:ev(i)}function _d(i,a){return QS(i)||XS(i,a)||WS()}function QS(i){if(Array.isArray(i))return i}function XS(i,a){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]"){var r=[],s=!0,o=!1,f=void 0;try{for(var m=i[Symbol.iterator](),p;!(s=(p=m.next()).done)&&(r.push(p.value),!(a&&r.length===a));s=!0);}catch(y){o=!0,f=y}finally{try{!s&&m.return!=null&&m.return()}finally{if(o)throw f}}return r}}function WS(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function FS(i,a){return a={exports:{}},i(a,a.exports),a.exports}var ZS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JS=ZS;function tv(){}function nv(){}nv.resetWarningCache=tv;var e2=function(){function i(s,o,f,m,p,y){if(y!==JS){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function a(){return i}var r={array:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:nv,resetWarningCache:tv};return r.PropTypes=r,r},ft=FS(function(i){i.exports=e2()});function t2(i,a){if(i.length!==a.length)return!1;for(var r=0;r<i.length;r++)if(i[r]!==a[r])return!1;return!0}function n2(i,a){a===void 0&&(a=t2);var r,s=[],o,f=!1;function m(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];return f&&r===this&&a(p,s)||(o=i.apply(this,p),f=!0,r=this,s=p),o}return m}var Jy=24*60*60*1e3,Mi=7,a2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r2=["","Mon","","Wed","","Fri",""];function nc(i,a){var r=new Date(i);return r.setDate(r.getDate()+a),r}function i2(i){return new Date(i.getFullYear(),i.getMonth(),i.getDate())}function Sd(i){return i instanceof Date?i:new Date(i)}function s2(i){return nc(new Date,-200)}function Ed(i){for(var a=[],r=0;r<i;r+=1)a.push(r);return a}var Ta=10,Wu=4,Ui="react-calendar-heatmap-",Zd=function(i){VS(a,i);function a(){var r,s;$S(this,a);for(var o=arguments.length,f=new Array(o),m=0;m<o;m++)f[m]=arguments[m];return s=IS(this,(r=zd(a)).call.apply(r,[this].concat(f))),GS(ev(s),"getValueCache",n2(function(p){return p.values.reduce(function(y,v){var S=Sd(v.date),O=Math.floor((S-s.getStartDateWithEmptyDays())/Jy);return y[O]={value:v,className:s.props.classForValue(v),title:s.props.titleForValue?s.props.titleForValue(v):null,tooltipDataAttrs:s.getTooltipDataAttrsForValue(v)},y},{})})),s}return KS(a,[{key:"getDateDifferenceInDays",value:function(){var s=this.props,o=s.startDate,f=s.numDays;if(f)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),f;var m=this.getEndDate()-Sd(o);return Math.ceil(m/Jy)}},{key:"getSquareSizeWithGutter",value:function(){return Ta+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?Ta+Wu:2*(Ta+Wu):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:Ta*1.5:0}},{key:"getStartDate",value:function(){return nc(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){return i2(Sd(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return nc(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return Mi-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var s=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(s/Mi)}},{key:"getWeekWidth",value:function(){return Mi*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(s){return this.valueCache[s]?this.valueCache[s].value:null}},{key:"getClassNameForIndex",value:function(s){return this.valueCache[s]?this.valueCache[s].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(s){return this.valueCache[s]?this.valueCache[s].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(s){return this.valueCache[s]?this.valueCache[s].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(s){var o=this.props.tooltipDataAttrs;return typeof o=="function"?o(s):o}},{key:"getTransformForWeek",value:function(s){return this.props.horizontal?"translate(".concat(s*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(s*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(Ta,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+Wu,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(s){return this.props.horizontal?[0,s*this.getSquareSizeWithGutter()]:[s*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(s){return this.props.horizontal?[0,(s+1)*Ta+s*this.props.gutterSize]:[s*Ta+s*this.props.gutterSize,Ta]}},{key:"getMonthLabelCoordinates",value:function(s){if(this.props.horizontal)return[s*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-Wu];var o=-2;return[0,(s+1)*this.getSquareSizeWithGutter()+o]}},{key:"handleClick",value:function(s){this.props.onClick&&this.props.onClick(s)}},{key:"handleMouseOver",value:function(s,o){this.props.onMouseOver&&this.props.onMouseOver(s,o)}},{key:"handleMouseLeave",value:function(s,o){this.props.onMouseLeave&&this.props.onMouseLeave(s,o)}},{key:"renderSquare",value:function(s,o){var f=this,m=o<this.getNumEmptyDaysAtStart()||o>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(m&&!this.props.showOutOfRangeDays)return null;var p=this.getSquareCoordinates(s),y=_d(p,2),v=y[0],S=y[1],O=this.getValueForIndex(o),T=Wt.createElement("rect",Ld({key:o,width:Ta,height:Ta,x:v,y:S,className:this.getClassNameForIndex(o),onClick:function(){return f.handleClick(O)},onMouseOver:function(V){return f.handleMouseOver(V,O)},onMouseLeave:function(V){return f.handleMouseLeave(V,O)}},this.getTooltipDataAttrsForIndex(o)),Wt.createElement("title",null,this.getTitleForIndex(o))),U=this.props.transformDayElement;return U?U(T,O,o):T}},{key:"renderWeek",value:function(s){var o=this;return Wt.createElement("g",{key:s,transform:this.getTransformForWeek(s),className:"".concat(Ui,"week")},Ed(Mi).map(function(f){return o.renderSquare(f,s*Mi+f)}))}},{key:"renderAllWeeks",value:function(){var s=this;return Ed(this.getWeekCount()).map(function(o){return s.renderWeek(o)})}},{key:"renderMonthLabels",value:function(){var s=this;if(!this.props.showMonthLabels)return null;var o=Ed(this.getWeekCount()-1);return o.map(function(f){var m=nc(s.getStartDateWithEmptyDays(),(f+1)*Mi),p=s.getMonthLabelCoordinates(f),y=_d(p,2),v=y[0],S=y[1];return m.getDate()>=1&&m.getDate()<=Mi?Wt.createElement("text",{key:f,x:v,y:S,className:"".concat(Ui,"month-label")},s.props.monthLabels[m.getMonth()]):null})}},{key:"renderWeekdayLabels",value:function(){var s=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(o,f){var m=s.getWeekdayLabelCoordinates(f),p=_d(m,2),y=p[0],v=p[1],S="".concat(s.props.horizontal?"":"".concat(Ui,"small-text")," ").concat(Ui,"weekday-label");return f&1?Wt.createElement("text",{key:"".concat(y).concat(v),x:y,y:v,className:S},o):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),Wt.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},Wt.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(Ui,"month-labels")},this.renderMonthLabels()),Wt.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(Ui,"all-weeks")},this.renderAllWeeks()),Wt.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(Ui,"weekday-labels")},this.renderWeekdayLabels()))}}]),a}(Wt.Component);Zd.propTypes={values:ft.arrayOf(ft.shape({date:ft.oneOfType([ft.string,ft.number,ft.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:ft.number,startDate:ft.oneOfType([ft.string,ft.number,ft.instanceOf(Date)]),endDate:ft.oneOfType([ft.string,ft.number,ft.instanceOf(Date)]),gutterSize:ft.number,horizontal:ft.bool,showMonthLabels:ft.bool,showWeekdayLabels:ft.bool,showOutOfRangeDays:ft.bool,tooltipDataAttrs:ft.oneOfType([ft.object,ft.func]),titleForValue:ft.func,classForValue:ft.func,monthLabels:ft.arrayOf(ft.string),weekdayLabels:ft.arrayOf(ft.string),onClick:ft.func,onMouseOver:ft.func,onMouseLeave:ft.func,transformDayElement:ft.func};Zd.defaultProps={numDays:null,startDate:s2(),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(a){return a?"color-filled":"color-empty"},monthLabels:a2,weekdayLabels:r2,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};function l2({habitId:i}){const a=new Date().getFullYear(),[r,s]=R.useState(a),[o,f]=R.useState({}),[m,p]=R.useState(0);R.useEffect(()=>{v(),y()},[i,r]);async function y(){const O=await N_(i,r);f(O)}const v=async()=>{const O=await R_(i,r);p(O)},S=Object.entries(o).map(([O,T])=>({date:O,count:T?1:0}));return b.jsxs("div",{className:"heatmap-container",children:[b.jsxs("div",{className:"header",children:[b.jsx("label",{htmlFor:"year-select",children:"Selected Year: "}),b.jsx("select",{id:"year-select",className:"p-2 border rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-black-500",value:r,onChange:O=>s(Number(O.target.value)),children:Array.from({length:5}).map((O,T)=>{const U=a-T;return b.jsx("option",{value:U,children:U},U)})})]}),b.jsx(Zd,{startDate:`${r}-01-01`,endDate:`${r}-12-31`,values:S,classForValue:O=>!O||O.count===void 0?"color-empty":O.count>0?"color-complete":"color-empty",titleForValue:O=>{if(!O||!O.date)return"";const T=O.count>0?"Completed":"Not Completed";return`${O.date}: ${T}`}}),b.jsxs("div",{className:"text-xs text-muted-foreground pt-4",children:["You've completed this habit ",m," times in ",r,"."]}),b.jsx("style",{jsx:!0,children:`
                .heatmap-container {
                    max-width: 800px;
                    margin: 2rem auto;
                    padding: 1.5rem;
                    background: white;
                    border-radius: 12px;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                    text-align: center;
                }

                .header {
                    margin-bottom: 1rem;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    gap: 0.5rem;
                }

                .react-calendar-heatmap text {
                    font-size: 9px;
                }

                .color-empty {
                    fill: #e0e0e0;
                }

                .color-complete {
                    fill: #4caf50;
                }


                .react-calendar-heatmap rect {
                    stroke: #fff;
                    rx: 3px;
                    ry: 3px;
                }
            `})]})}function o2({habitId:i,habitStreak:a,longestHabitStreak:r,completionRate:s,isActive:o,onClose:f}){if(o)return b.jsxs("div",{role:"dialog","aria-describedby":"analytics-description","aria-labelledby":"analytics-title",tabIndex:-1,className:"fixed bg-white left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-[900px] pointer-events-auto",children:[b.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[b.jsx("h2",{id:"analytics-title",className:"text-lg font-semibold leading-none tracking-tight",children:"Habit Analytics"}),b.jsx("p",{id:"analytics-description",className:"text-sm text-muted-foreground",children:"Overview of your habits and progress."})]}),b.jsxs("div",{className:"mt-4 pt-4 border-t",children:[b.jsx("h4",{className:"text-sm font-medium mb-2",children:"Analytics"}),b.jsxs("div",{className:"grid grid-cols-3 grid-rows-1 gap-4",children:[b.jsxs("div",{className:"bg-muted/50 p-3 rounded-md border shadow",children:[b.jsx("div",{className:"text-xs text-muted-foreground",children:"Current Streak"}),b.jsx("div",{className:"text-xl font-bold",children:a})]}),b.jsxs("div",{className:"bg-muted/50 p-3 rounded-md border shadow",children:[b.jsx("div",{className:"text-xs text-muted-foreground",children:"Longest Streak"}),b.jsx("div",{className:"text-xl font-bold",children:r})]}),b.jsxs("div",{className:"bg-muted/50 p-3 rounded-md border shadow",children:[b.jsx("div",{className:"text-xs text-muted-foreground",children:"Completion Rate"}),b.jsxs("div",{className:"text-xl font-bold",children:[s,"%"]})]})]}),b.jsx(l2,{habitId:i})]}),b.jsx("div",{className:"flex justify-end space-x-2",children:b.jsx("button",{className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2",type:"button",onClick:f,children:"Close"})}),b.jsx("button",{type:"button",className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:f,"aria-label":"Close",children:b.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4","aria-hidden":"true",children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})})]})}function u2({habitId:i,isActive:a,onClose:r}){const[s,o]=R.useState(""),[f,m]=R.useState(!1),[p,y]=R.useState(""),[v,S]=R.useState([]);R.useEffect(()=>{O()},[a]);async function O(){try{const C=await __(i);if(!C)return;o(C.title),y(C.description),m(C.is_public),S(C.days&&C.days.length>0?C.days:Cn.slice(0,7))}catch(C){console.error(C)}}async function T(){try{await M_(i,s,p,v,f),r()}catch(C){console.error(C)}}const U=C=>{S(V=>{let W=V.includes(C)?V.filter(Z=>Z!==C):[...V,C];return W.sort((Z,se)=>Cn.indexOf(Z)-Cn.indexOf(se)),W})};return a?b.jsxs("div",{role:"dialog",id:"radix-:rr:","aria-describedby":"radix-:rt:","aria-labelledby":"radix-:rs:","data-state":"open",tabIndex:-1,className:"fixed bg-white left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-[500px] pointer-events-auto",children:[b.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[b.jsx("h2",{id:"radix-:rs:",className:"text-lg font-semibold leading-none tracking-tight",children:"Edit Habit"}),b.jsx("p",{id:"radix-:rt:",className:"text-sm text-muted-foreground",children:"Modify your Habit! Fill in the details below."})]}),b.jsxs("form",{children:[b.jsxs("div",{className:"grid gap-4 py-4",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"name",children:"Habit Name"}),b.jsx("input",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",id:"name",required:!0,value:s,onChange:C=>o(C.target.value)})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"description",children:"Description"}),b.jsx("textarea",{className:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",id:"description",required:!0,value:p,onChange:C=>y(C.target.value)})]}),b.jsxs("div",{className:"flex items-center space-x-2 relative",children:[b.jsx("button",{type:"button",role:"switch","aria-checked":f?"true":"false","data-state":f?"checked":"unchecked",value:"on",className:`peer inline-flex h-5 w-9 border-black shrink-0 cursor-pointer items-center rounded-full border-2 shadow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 ${f?"bg-black":"bg-input"}`,id:"isPrivate",onClick:()=>m(C=>!C),children:b.jsx("span",{"data-state":f?"checked":"unchecked",className:`pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform ${f?"translate-x-4":"translate-x-0 "}`})}),b.jsx("input",{type:"checkbox","aria-hidden":"true",tabIndex:-1,value:"on",className:"absolute left-0 top-0 w-9 h-5 opacity-0 pointer-events-none m-0",checked:f,readOnly:!0}),b.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"isPrivate",children:"Make this habit private"})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-sm font-medium leading-none",htmlFor:"weekdays",children:"Days of the Week"}),b.jsx("div",{className:"flex flex-wrap gap-2",id:"weekdays",children:Cn.map(C=>b.jsx("button",{type:"button",className:`px-3 py-1 rounded-md border text-sm transition-colors ${v.includes(C)?"bg-black text-white border-primary":"bg-background text-foreground border-input"}`,"aria-pressed":v.includes(C),onClick:()=>U(C),children:C},C))})]})]}),b.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[b.jsx("button",{className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2",type:"button",onClick:r,children:"Cancel"}),b.jsx("button",{className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2",type:"submit",onClick:C=>{C.preventDefault(),T()},children:"Save"})]})]}),b.jsxs("button",{type:"button",className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:r,children:[b.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),b.jsx("span",{className:"sr-only",children:"Close"})]})]}):null}function c2({habitTitle:i,description:a,habitId:r,days:s,handleDeleteHabit:o}){const[f,m]=R.useState(0),[p,y]=R.useState(0),[v,S]=R.useState(0),[O,T]=R.useState(!1),[U,C]=R.useState(!1);R.useEffect(()=>{ce(),pe(),ue()},[]);const V=()=>{T(!0)},W=()=>{T(!1)},Z=()=>{C(!0)},se=()=>{C(!1)},ce=async()=>{const _e=await Pp(r);S(_e)},pe=async()=>{const _e=await Fd(r);m(_e)},ue=async()=>{const _e=await Vp(r);y(_e)};return b.jsxs("div",{className:"rounded-xl border text-card-foreground shadow bg-card",children:[b.jsx("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"max-w-xs",children:[b.jsx("h3",{className:"font-semibold leading-none tracking-tight flex items-center",children:i}),b.jsx("p",{className:"text-sm text-muted-foreground mt-1 truncate",children:a})]}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("button",{type:"button",title:"Edit habit",className:"bg-white hover:border-white inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs",onClick:Z,children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-square-pen h-4 w-4",children:[b.jsx("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),b.jsx("path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"})]})}),b.jsx("button",{title:"Delete habit",onClick:o,className:"bg-white hover:border-white inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash2 h-4 w-4",children:[b.jsx("path",{d:"M3 6h18"}),b.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),b.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),b.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),b.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})]})]})}),b.jsxs("div",{className:"p-6 pt-0",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-calendar h-4 w-4 mr-2 text-muted-foreground",children:[b.jsx("path",{d:"M8 2v4"}),b.jsx("path",{d:"M16 2v4"}),b.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),b.jsx("path",{d:"M3 10h18"})]}),b.jsx("span",{className:"text-sm",children:s.join(", ")})]}),b.jsx("div",{className:"flex items-center",children:b.jsxs("span",{className:"text-sm font-medium mr-2",children:["Streak: ",f," days"]})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground mb-1",children:[b.jsx("span",{children:"Completion Rate"}),b.jsxs("span",{children:[v,"%"]})]}),b.jsx("div",{title:"Progressbar","aria-valuemax":100,"aria-valuemin":0,role:"progressbar","data-state":"indeterminate","data-max":"100",className:"relative w-full overflow-hidden rounded-full bg-primary/20 h-2",children:b.jsx("div",{"data-state":"indeterminate","data-max":"100",className:"h-full w-full flex-1 bg-primary transition-all"})})]}),b.jsxs("button",{className:"bg-white inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs mt-4 w-full",onClick:V,children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-bar-chart mr-2 h-4 w-4",children:[b.jsx("line",{x1:"12",x2:"12",y1:"20",y2:"10"}),b.jsx("line",{x1:"18",x2:"18",y1:"20",y2:"4"}),b.jsx("line",{x1:"6",x2:"6",y1:"20",y2:"16"})]})," ","View Detailed Analytics"]}),O&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-8 relative min-w-[320px]",children:b.jsx(o2,{habitId:r,habitStreak:f,longestHabitStreak:p,completionRate:v,isActive:O,onClose:W})})}),U&&b.jsx(u2,{habitId:r,isActive:U,onClose:se})]})]})}function f2({isActive:i,onClose:a,userId:r}){const[s,o]=R.useState(""),[f,m]=R.useState(""),[p,y]=R.useState(!1),[v,S]=R.useState(Cn.slice(0,7)),O=async()=>{s.trim()&&(await Kp(s,f,r,p,v),o(""),m(f),y(!1),S([]),a())},T=U=>{S(C=>{let V=C.includes(U)?C.filter(W=>W!==U):[...C,U];return V.sort((W,Z)=>Cn.indexOf(W)-Cn.indexOf(Z)),V})};return i?b.jsxs("div",{role:"dialog",id:"radix-:rr:","aria-describedby":"radix-:rt:","aria-labelledby":"radix-:rs:","data-state":"open",tabIndex:-1,className:"fixed bg-white left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-[500px] pointer-events-auto",children:[b.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[b.jsx("h2",{id:"radix-:rs:",className:"text-lg font-semibold leading-none tracking-tight",children:"Create New Habit"}),b.jsx("p",{id:"radix-:rt:",className:"text-sm text-muted-foreground",children:"Set up a new habit to track. Fill in the details below."})]}),b.jsxs("form",{children:[b.jsxs("div",{className:"grid gap-4 py-4",children:[b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"name",children:"Habit Name"}),b.jsx("input",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",id:"name",required:!0,value:s,onChange:U=>o(U.target.value)})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"description",children:"Description"}),b.jsx("textarea",{className:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",id:"description",required:!0,value:f,onChange:U=>m(U.target.value)})]}),b.jsxs("div",{className:"flex items-center space-x-2 relative",children:[b.jsx("button",{type:"button",role:"switch","aria-checked":p?"true":"false","data-state":p?"checked":"unchecked",value:"on",className:`peer inline-flex h-5 w-9 border-black shrink-0 cursor-pointer items-center rounded-full border-2 shadow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 ${p?"bg-black":"bg-input"}`,id:"isPrivate",onClick:()=>y(U=>!U),children:b.jsx("span",{"data-state":p?"checked":"unchecked",className:`pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform ${p?"translate-x-4":"translate-x-0 "}`})}),b.jsx("input",{type:"checkbox","aria-hidden":"true",tabIndex:-1,value:"on",className:"absolute left-0 top-0 w-9 h-5 opacity-0 pointer-events-none m-0",checked:p,readOnly:!0}),b.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"isPrivate",children:"Make this habit private"})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsx("label",{className:"text-sm font-medium leading-none",htmlFor:"weekdays",children:"Days of the Week"}),b.jsx("div",{className:"flex flex-wrap gap-2",id:"weekdays",children:Cn.map(U=>b.jsx("button",{type:"button",className:`px-3 py-1 rounded-md border text-sm transition-colors ${v.includes(U)?"bg-black text-white border-primary":"bg-background text-foreground border-input"}`,"aria-pressed":v.includes(U),onClick:()=>T(U),children:U},U))})]})]}),b.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[b.jsx("button",{className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2",type:"button",onClick:a,children:"Cancel"}),b.jsx("button",{className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2",type:"submit",onClick:U=>{U.preventDefault(),O()},children:"Create"})]})]}),b.jsxs("button",{type:"button",className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:a,children:[b.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),b.jsx("span",{className:"sr-only",children:"Close"})]})]}):null}function d2(){const[i,a]=R.useState([]),[r,s]=R.useState(!1),[o,f]=R.useState(""),[m,p]=R.useState("");R.useEffect(()=>{(async()=>{const C=await $i();C&&p(C)})()},[]),R.useEffect(()=>{y(),Eo()},[i,r,m]);const y=async()=>{const U=await Wd(m);a(C=>JSON.stringify(C)!==JSON.stringify(U)?U:C)},v=async U=>{await T_(U,m),a(C=>C.filter(V=>V.id!==U))},S=()=>{s(!0)},O=()=>{s(!1)},T=o===""?i:i.filter(U=>U.title.toLowerCase().includes(o.toLowerCase()));return b.jsxs("div",{className:"bg-white h-screen overflow-y-auto hide-scrollbar overflow-x-hidden pb-16 md:pb-0",children:[b.jsxs("div",{className:"max-w-7xl  mx-auto",children:[b.jsxs("div",{className:`sticky top-0 z-50 bg-white w-full
                 p-6`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Habit Management"}),b.jsx("button",{"aria-label":"Create new habit",onClick:S,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-black text-white shadow hover:bg-black/90 h-9 px-4 py-2 text-bold",children:"+ Create New Habit"})]}),b.jsx("div",{className:"mb-6",children:b.jsx("div",{className:"relative",children:b.jsx("input",{placeholder:"Search for a habit...",value:o,onChange:U=>f(U.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10"})})})]}),b.jsx("div",{className:"p-6 pt-0",children:b.jsx("div",{className:"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4",children:T.map(U=>b.jsx(c2,{habitId:U.id,description:U.description,habitTitle:U.title,days:U.days||[],openEditHabitModal:()=>{},handleDeleteHabit:()=>v(U.id)},U.id))})})]}),r&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-8 relative min-w-[320px]",children:b.jsx(f2,{isActive:r,onClose:O,userId:m})})})]})}function h2(){const i=Fp(),[a,r]=R.useState(!1),[s,o]=R.useState(!0),[f,m]=R.useState("");R.useEffect(()=>{Xe.auth.getSession().then(({data:{session:v}})=>{r(!!v),o(!1)});const{data:{subscription:y}}=Xe.auth.onAuthStateChange((v,S)=>{r(!!S)});return()=>y.unsubscribe()},[]),R.useEffect(()=>{a&&(p(),o(!0))},[a]),R.useEffect(()=>{f&&(async()=>{try{await qS(f),await BS(f)}catch(y){console.error("Error pulling data:",y)}finally{o(!1)}})()},[f]);const p=async()=>{const y=await $i();m(y)};return s?b.jsx("main",{className:"w-screen h-screen flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-black border-t-transparent rounded-full mx-auto mb-4",role:"status","aria-label":"Ldt..."}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Ldt..."})]})}):a?b.jsx(X1,{children:b.jsx(MS,{children:b.jsx("div",{className:i?" overflow-auto hide-scrollbar ":"ml-64 overflow-auto hide-scrollbar ",children:b.jsxs(j1,{children:[b.jsx(yo,{path:"/",element:b.jsx(PS,{})}),b.jsx(yo,{path:"/management",element:b.jsx(d2,{})}),b.jsx(yo,{path:"/community",element:b.jsx(bS,{})}),b.jsx(yo,{path:"/profile",element:b.jsx(q_,{})})]})})})}):b.jsx(U_,{onLogin:()=>r(!0)})}function m2(i={}){const{immediate:a=!1,onNeedRefresh:r,onOfflineReady:s,onRegistered:o,onRegisteredSW:f,onRegisterError:m}=i;let p,y;const v=async(O=!0)=>{await y};async function S(){if("serviceWorker"in navigator){if(p=await Xs(async()=>{const{Workbox:O}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:O}},[]).then(({Workbox:O})=>new O("/HabitApp/sw.js",{scope:"/HabitApp/",type:"classic"})).catch(O=>{m==null||m(O)}),!p)return;p.addEventListener("activated",O=>{(O.isUpdate||O.isExternal)&&window.location.reload()}),p.addEventListener("installed",O=>{O.isUpdate||s==null||s()}),p.register({immediate:a}).then(O=>{f?f("/HabitApp/sw.js",O):o==null||o(O)}).catch(O=>{m==null||m(O)})}}return y=S(),v}setInterval(()=>{navigator.onLine&&Eo()},60*1e3);window.addEventListener("online",()=>{Eo()});US();m2({immediate:!0,onNeedRefresh(){console.log("New content is available, please refresh.")},onOfflineReady(){console.log("App is ready to work offline.")}});D0.createRoot(document.getElementById("root")).render(b.jsx(R.StrictMode,{children:b.jsx(h2,{})}));
